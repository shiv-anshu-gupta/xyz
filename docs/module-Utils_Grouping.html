<!DOCTYPE html>
<html lang="en">
<head>
    
    <meta charset="utf-8">
    <title>Utils/Grouping - Documentation</title>
    
    
    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc.css">
    <script src="scripts/nav.js" defer></script>
    
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav >
    
    <input type="text" id="nav-search" placeholder="Search" />
    
    
    <h2><a href="index.html">Home</a></h2><h2><a href="/" target="_self" class="menu-item" >COMTRADE Viewer</a></h2><h3>Modules</h3><ul><li><a href="module-Components_Analysis.html">Components/Analysis</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-Components_Analysis.html#~getColorHex">getColorHex</a></li></ul></li><li></li><li></li><li></li><li><a href="module-Components_ChartCore.html">Components/ChartCore</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-Components_ChartCore.html#~createChartOptions">createChartOptions</a></li><li data-type='method' style='display: none;'><a href="module-Components_ChartCore.html#~subscribeChartUpdates">subscribeChartUpdates</a></li></ul></li><li></li><li></li><li><a href="module-Components_ChartRendering.html">Components/ChartRendering</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-Components_ChartRendering.html#~filterIndicesWithData">filterIndicesWithData</a></li><li data-type='method' style='display: none;'><a href="module-Components_ChartRendering.html#~hasDigitalData">hasDigitalData</a></li></ul></li><li></li><li></li><li></li><li></li><li><a href="module-Components_DragDrop.html">Components/DragDrop</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-Components_DragDrop.html#~setupChartDragAndDrop">setupChartDragAndDrop</a></li></ul></li><li><a href="module-Components_Equation.html">Components/Equation</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-Components_Equation.html#~generateCFGContentBatch">generateCFGContentBatch</a></li><li data-type='method' style='display: none;'><a href="module-Components_Equation.html#~generateDATContentBatch">generateDATContentBatch</a></li><li data-type='method' style='display: none;'><a href="module-Components_Equation.html#~performExport">performExport</a></li><li data-type='method' style='display: none;'><a href="module-Components_Equation.html#~showExportFormatDialog">showExportFormatDialog</a></li></ul></li><li><a href="module-Components_PolarChart.html">Components/PolarChart</a></li><li></li><li></li><li><a href="module-Components_Sidebars.html">Components/Sidebars</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-Components_Sidebars.html#~convertLatexToMathJs">convertLatexToMathJs</a></li><li data-type='method' style='display: none;'><a href="module-Components_Sidebars.html#~convertLatexToPlainText">convertLatexToPlainText</a></li><li data-type='method' style='display: none;'><a href="module-Components_Sidebars.html#~createAnalogChannelGroupMap">createAnalogChannelGroupMap</a></li><li data-type='method' style='display: none;'><a href="module-Components_Sidebars.html#~createChannelItem">createChannelItem</a></li><li data-type='method' style='display: none;'><a href="module-Components_Sidebars.html#~createSimpleChannelList">createSimpleChannelList</a></li><li data-type='method' style='display: none;'><a href="module-Components_Sidebars.html#~detectGroupFromExpression">detectGroupFromExpression</a></li><li data-type='method' style='display: none;'><a href="module-Components_Sidebars.html#~evaluateAndSaveComputedChannel">evaluateAndSaveComputedChannel</a></li><li data-type='method' style='display: none;'><a href="module-Components_Sidebars.html#~formatEquationForLatex">formatEquationForLatex</a></li><li data-type='method' style='display: none;'><a href="module-Components_Sidebars.html#~generateUniqueComputedGroup">generateUniqueComputedGroup</a></li><li data-type='method' style='display: none;'><a href="module-Components_Sidebars.html#~getAllAvailableGroups">getAllAvailableGroups</a></li><li data-type='method' style='display: none;'><a href="module-Components_Sidebars.html#~openMathLiveEditor">openMathLiveEditor</a></li></ul></li><li></li><li></li><li><a href="module-Components_State.html">Components/State</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-Components_State.html#~createState">createState</a></li></ul></li><li><a href="module-Components_UI.html">Components/UI</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-Components_UI.html#~createDragBar">createDragBar</a></li></ul></li><li></li><li></li><li></li><li></li><li></li><li></li><li><a href="module-Components_VerticalLine.html">Components/VerticalLine</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-Components_VerticalLine.html#~destroy">destroy</a></li><li data-type='method' style='display: none;'><a href="module-Components_VerticalLine.html#~getElement">getElement</a></li><li data-type='method' style='display: none;'><a href="module-Components_VerticalLine.html#~getState">getState</a></li><li data-type='method' style='display: none;'><a href="module-Components_VerticalLine.html#~getValue">getValue</a></li><li data-type='method' style='display: none;'><a href="module-Components_VerticalLine.html#~handleVerticalLineShortcuts">handleVerticalLineShortcuts</a></li><li data-type='method' style='display: none;'><a href="module-Components_VerticalLine.html#~setEnabled">setEnabled</a></li><li data-type='method' style='display: none;'><a href="module-Components_VerticalLine.html#~setRange">setRange</a></li><li data-type='method' style='display: none;'><a href="module-Components_VerticalLine.html#~setValue">setValue</a></li><li data-type='method' style='display: none;'><a href="module-Components_VerticalLine.html#~setVisible">setVisible</a></li><li data-type='method' style='display: none;'><a href="module-Components_VerticalLine.html#~syncPosition">syncPosition</a></li><li data-type='method' style='display: none;'><a href="module-Components_VerticalLine.html#~updateDuration">updateDuration</a></li></ul></li><li></li><li></li><li><a href="module-Plugins_Chart.html">Plugins/Chart</a><ul class='methods'></ul></li><li></li><li></li><li></li><li></li><li></li><li><a href="module-Services_ComputedChannels.html">Services/ComputedChannels</a></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li><a href="module-Utils_COMTRADE.html">Utils/COMTRADE</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-Utils_COMTRADE.html#~parseCFG">parseCFG</a></li><li data-type='method' style='display: none;'><a href="module-Utils_COMTRADE.html#~parseDAT">parseDAT</a></li></ul></li><li><a href="module-Utils_Chart.html">Utils/Chart</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-Utils_Chart.html#~applyZoom">applyZoom</a></li><li data-type='method' style='display: none;'><a href="module-Utils_Chart.html#~buildCompleteAxesArray">buildCompleteAxesArray</a></li><li data-type='method' style='display: none;'><a href="module-Utils_Chart.html#~calculateAxisCountForGroup">calculateAxisCountForGroup</a></li><li data-type='method' style='display: none;'><a href="module-Utils_Chart.html#~calculateAxisCountsForAllGroups">calculateAxisCountsForAllGroups</a></li><li data-type='method' style='display: none;'><a href="module-Utils_Chart.html#~createMultiAxisDefinition">createMultiAxisDefinition</a></li><li data-type='method' style='display: none;'><a href="module-Utils_Chart.html#~createSeriesDefinitions">createSeriesDefinitions</a></li><li data-type='method' style='display: none;'><a href="module-Utils_Chart.html#~createSingleAxisDefinition">createSingleAxisDefinition</a></li><li data-type='method' style='display: none;'><a href="module-Utils_Chart.html#~createYAxisScales">createYAxisScales</a></li><li data-type='method' style='display: none;'><a href="module-Utils_Chart.html#~didAxisCountChange">didAxisCountChange</a></li><li data-type='method' style='display: none;'><a href="module-Utils_Chart.html#~getAxisCount">getAxisCount</a></li><li data-type='method' style='display: none;'><a href="module-Utils_Chart.html#~getAxisForType">getAxisForType</a></li><li data-type='method' style='display: none;'><a href="module-Utils_Chart.html#~getChannelType">getChannelType</a></li><li data-type='method' style='display: none;'><a href="module-Utils_Chart.html#~getGroupAxisInfo">getGroupAxisInfo</a></li><li data-type='method' style='display: none;'><a href="module-Utils_Chart.html#~getSeriesAxisIndex">getSeriesAxisIndex</a></li><li data-type='method' style='display: none;'><a href="module-Utils_Chart.html#~getThemeColors">getThemeColors</a></li><li data-type='method' style='display: none;'><a href="module-Utils_Chart.html#~handleVerticalLineAddition">handleVerticalLineAddition</a></li><li data-type='method' style='display: none;'><a href="module-Utils_Chart.html#~updateZoomDisplay">updateZoomDisplay</a></li></ul></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li><a href="module-Utils_ComputedChannels.html">Utils/ComputedChannels</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-Utils_ComputedChannels.html#~broadcastComputedChannelChange">broadcastComputedChannelChange</a></li><li data-type='method' style='display: none;'><a href="module-Utils_ComputedChannels.html#~handleComputedVerticalLineAddition">handleComputedVerticalLineAddition</a></li></ul></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li><a href="module-Utils_DOM.html">Utils/DOM</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-Utils_DOM.html#~clearChartsContainer">clearChartsContainer</a></li><li data-type='method' style='display: none;'><a href="module-Utils_DOM.html#~initializeSidebarChannels">initializeSidebarChannels</a></li><li data-type='method' style='display: none;'><a href="module-Utils_DOM.html#~resizeChartsToContainers">resizeChartsToContainers</a></li><li data-type='method' style='display: none;'><a href="module-Utils_DOM.html#~setupMobileSidebar">setupMobileSidebar</a></li><li data-type='method' style='display: none;'><a href="module-Utils_DOM.html#~showFileInfo">showFileInfo</a></li><li data-type='method' style='display: none;'><a href="module-Utils_DOM.html#~toggleChartsVisibility">toggleChartsVisibility</a></li><li data-type='method' style='display: none;'><a href="module-Utils_DOM.html#~updateFileInfo">updateFileInfo</a></li><li data-type='method' style='display: none;'><a href="module-Utils_DOM.html#~updateStatsCards">updateStatsCards</a></li><li data-type='method' style='display: none;'><a href="module-Utils_DOM.html#~wrapChartInSection">wrapChartInSection</a></li></ul></li><li></li><li></li><li></li><li></li><li></li><li></li><li><a href="module-Utils_Data.html">Utils/Data</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-Utils_Data.html#~formatScaledValue">formatScaledValue</a></li><li data-type='method' style='display: none;'><a href="module-Utils_Data.html#~getChannelMetadata">getChannelMetadata</a></li><li data-type='method' style='display: none;'><a href="module-Utils_Data.html#~renameChannelWithPrefix">renameChannelWithPrefix</a></li></ul></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li><a href="module-Utils_DigitalChannels.html">Utils/DigitalChannels</a></li><li><a href="module-Utils_Grouping.html">Utils/Grouping</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-Utils_Grouping.html#~analyzeGroupsAndPublishMaxYAxes">analyzeGroupsAndPublishMaxYAxes</a></li><li data-type='method' style='display: none;'><a href="module-Utils_Grouping.html#~analyzeSpecificGroup">analyzeSpecificGroup</a></li><li data-type='method' style='display: none;'><a href="module-Utils_Grouping.html#~getMaxYAxes">getMaxYAxes</a></li><li data-type='method' style='display: none;'><a href="module-Utils_Grouping.html#~getMaxYAxesState">getMaxYAxesState</a></li><li data-type='method' style='display: none;'><a href="module-Utils_Grouping.html#~resetMaxYAxes">resetMaxYAxes</a></li><li data-type='method' style='display: none;'><a href="module-Utils_Grouping.html#~setMaxYAxes">setMaxYAxes</a></li></ul></li><li></li><li></li><li></li><li></li><li><a href="module-Utils_Helpers.html">Utils/Helpers</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-Utils_Helpers.html#~closeMergerWindow">closeMergerWindow</a></li><li data-type='method' style='display: none;'><a href="module-Utils_Helpers.html#~getMergerWindow">getMergerWindow</a></li><li data-type='method' style='display: none;'><a href="module-Utils_Helpers.html#~isMergerWindowOpen">isMergerWindowOpen</a></li><li data-type='method' style='display: none;'><a href="module-Utils_Helpers.html#~openMergerWindow">openMergerWindow</a></li></ul></li><li></li><li></li><li><a href="module-Utils_Theme.html">Utils/Theme</a></li><li></li><li></li></ul><h3>Classes</h3><ul><li><a href="module-Components_PolarChart.PolarChartCanvas.html">PolarChartCanvas</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-Components_PolarChart.PolarChartCanvas.html#extractRealPhasorData">extractRealPhasorData</a></li><li data-type='method' style='display: none;'><a href="module-Components_PolarChart.PolarChartCanvas.html#init">init</a></li><li data-type='method' style='display: none;'><a href="module-Components_PolarChart.PolarChartCanvas.html#renderCanvasDebounced">renderCanvasDebounced</a></li><li data-type='method' style='display: none;'><a href="module-Components_PolarChart.PolarChartCanvas.html#renderCanvasPolar">renderCanvasPolar</a></li><li data-type='method' style='display: none;'><a href="module-Components_PolarChart.PolarChartCanvas.html#updateData">updateData</a></li><li data-type='method' style='display: none;'><a href="module-Components_PolarChart.PolarChartCanvas.html#updatePhasorAtTimeIndex">updatePhasorAtTimeIndex</a></li></ul></li><li><a href="module-Utils_ComputedChannels-ComputedChannelMetadata.html">ComputedChannelMetadata</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-Utils_ComputedChannels-ComputedChannelMetadata.html#clear">clear</a></li><li data-type='method' style='display: none;'><a href="module-Utils_ComputedChannels-ComputedChannelMetadata.html#count">count</a></li><li data-type='method' style='display: none;'><a href="module-Utils_ComputedChannels-ComputedChannelMetadata.html#delete">delete</a></li><li data-type='method' style='display: none;'><a href="module-Utils_ComputedChannels-ComputedChannelMetadata.html#fromJSON">fromJSON</a></li><li data-type='method' style='display: none;'><a href="module-Utils_ComputedChannels-ComputedChannelMetadata.html#get">get</a></li><li data-type='method' style='display: none;'><a href="module-Utils_ComputedChannels-ComputedChannelMetadata.html#getAll">getAll</a></li><li data-type='method' style='display: none;'><a href="module-Utils_ComputedChannels-ComputedChannelMetadata.html#getByGroup">getByGroup</a></li><li data-type='method' style='display: none;'><a href="module-Utils_ComputedChannels-ComputedChannelMetadata.html#getByName">getByName</a></li><li data-type='method' style='display: none;'><a href="module-Utils_ComputedChannels-ComputedChannelMetadata.html#has">has</a></li><li data-type='method' style='display: none;'><a href="module-Utils_ComputedChannels-ComputedChannelMetadata.html#toJSON">toJSON</a></li></ul></li></ul>
    
</nav>

<div id="main">
    
    <h1 class="page-title">Utils/Grouping</h1>
    

    




<section>

<header>
    
        
            
        
            
        
            
        
            
        
            
        
    
</header>

<article>
    
        <div class="container-overview">
        
            
                <div class="description usertext"><p>Pure functional approach to analyze chart groups and publish the required number of Y-axes
to the global store. Replaces imperative destroy/rebuild logic with reactive state management.</p>
<p><strong>Architecture Overview:</strong>
This module is the &quot;calculator&quot; in the multi-Y-axes functional approach:</p>
<pre class="prettyprint source"><code>Event: Group changed (user reassigns channel to different group)
    ↓
chartManager.js detects change via group subscriber
    ↓
Calls analyzeGroupsAndPublishMaxYAxes(charts, channelState, cfg)
    ↓
This function:
  1. Reads group assignments from channelState
  2. For each group, calls calculateAxisCountForGroup()
  3. Finds max axis count across all groups
  4. Calls setMaxYAxes() to publish to global store
    ↓
renderAnalogCharts, renderDigitalCharts, renderComputedChannels
read updated maxYAxes via getMaxYAxes() and create correct axis count
</code></pre>
<p><strong>Key Feature: Pure Function</strong></p>
<ul>
<li>No side effects except calling setMaxYAxes()</li>
<li>Deterministic: same input = same output</li>
<li>Easy to test: no global state pollution</li>
<li>Memory safe: no subscriptions to manage</li>
</ul>
<p><strong>What Gets Analyzed:</strong></p>
<ul>
<li>User-assigned groups from channelState.analog.groups</li>
<li>Channel units (V, A, W, Hz) from cfg.analogChannels</li>
<li>Axis requirements per group (via axisCalculator.js)</li>
</ul>
<p><strong>Automatic Chart Updates:</strong>
When maxYAxes is published, charts don't automatically re-render.
They must be destroyed and rebuilt by the group subscriber to apply new axis count.
The global store just maintains the &quot;correct&quot; value for all new chart renders.</p></div>
            

            
                




<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li><p>Pure functional approach to analyze chart groups and publish the required number of Y-axes
to the global store. Replaces imperative destroy/rebuild logic with reactive state management.</p>
<p><strong>Architecture Overview:</strong>
This module is the &quot;calculator&quot; in the multi-Y-axes functional approach:</p>
<pre class="prettyprint source"><code>Event: Group changed (user reassigns channel to different group)
    ↓
chartManager.js detects change via group subscriber
    ↓
Calls analyzeGroupsAndPublishMaxYAxes(charts, channelState, cfg)
    ↓
This function:
  1. Reads group assignments from channelState
  2. For each group, calls calculateAxisCountForGroup()
  3. Finds max axis count across all groups
  4. Calls setMaxYAxes() to publish to global store
    ↓
renderAnalogCharts, renderDigitalCharts, renderComputedChannels
read updated maxYAxes via getMaxYAxes() and create correct axis count
</code></pre>
<p><strong>Key Feature: Pure Function</strong></p>
<ul>
<li>No side effects except calling setMaxYAxes()</li>
<li>Deterministic: same input = same output</li>
<li>Easy to test: no global state pollution</li>
<li>Memory safe: no subscriptions to manage</li>
</ul>
<p><strong>What Gets Analyzed:</strong></p>
<ul>
<li>User-assigned groups from channelState.analog.groups</li>
<li>Channel units (V, A, W, Hz) from cfg.analogChannels</li>
<li>Axis requirements per group (via axisCalculator.js)</li>
</ul>
<p><strong>Automatic Chart Updates:</strong>
When maxYAxes is published, charts don't automatically re-render.
They must be destroyed and rebuilt by the group subscriber to apply new axis count.
The global store just maintains the &quot;correct&quot; value for all new chart renders.</p></li></ul></dd>
    

    

    

    
    <dt class="tag-since">Since:</dt>
    <dd class="tag-since"><ul class="dummy"><li>2.0.0</li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>











    <h5 class="h5-examples">Example</h5>
    
    <pre class="prettyprint"><code>// In a group change subscriber (chartManager.js)import { analyzeGroupsAndPublishMaxYAxes } from '../utils/analyzeGroupsAndPublish.js';const newMaxYAxes = analyzeGroupsAndPublishMaxYAxes(charts, channelState, cfg);console.log(`New axis count published: ${newMaxYAxes}`);// Then, elsewhere in the group subscriber, charts are destroyed and re-rendered// with the updated maxYAxes value</code></pre>





















            
                




<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li><p>Centralized reactive state store for managing the number of Y-axes across all chart types.
Implements a &quot;single source of truth&quot; pattern similar to React Context API.</p>
<p><strong>Role in Multi-Y-Axes Architecture:</strong></p>
<pre class="prettyprint source"><code>Group Change Event
    ↓
analyzeGroupsAndPublish() calculates maxYAxes
    ↓
setMaxYAxes() publishes to this store
    ↓
renderAnalogCharts, renderDigitalCharts, renderComputedChannels
all read from getMaxYAxes() and update axes count
</code></pre>
<p><strong>Why Not Subscriptions?</strong>
Uses createState (reactive object) instead of .subscribe() callbacks to avoid:</p>
<ul>
<li>Memory leaks from forgotten unsubscribes</li>
<li>Callback chains that are hard to debug</li>
<li>Global event listeners that accumulate</li>
</ul>
<p>Instead, each component simply calls getMaxYAxes() when building charts.</p></li></ul></dd>
    

    

    

    
    <dt class="tag-since">Since:</dt>
    <dd class="tag-since"><ul class="dummy"><li>2.0.0</li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>











    <h5 class="h5-examples">Examples</h5>
    
    <pre class="prettyprint"><code>// In a chart rendering functionimport { getMaxYAxes } from '../utils/maxYAxesStore.js';const maxYAxes = getMaxYAxes(); // Get current value (1, 2, 3, etc.)const opts = createChartOptions({  maxYAxes: maxYAxes,  // ... other options});</code></pre>

    <pre class="prettyprint"><code>// In a group change handlerimport { setMaxYAxes } from '../utils/maxYAxesStore.js';// After analyzing groups and calculating required axessetMaxYAxes(2); // Publish new value// Charts automatically use this when they next render/update</code></pre>





















            
                




<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li><h3>Automatic Channel Grouping Utilities</h3>
<p>Intelligently groups COMTRADE channels based on naming patterns.
Designed for protection relays (SEL, ABB, Siemens, GE) and power quality meters.</p>
<h4>Purpose</h4>
<p>COMTRADE files can contain dozens or hundreds of channels.
This module auto-groups related channels for organized visualization:</p>
<table>
  <tr><th>Channel Type</th><th>Example Inputs</th><th>Result</th></tr>
  <tr><td>Currents</td><td>IA, IB, IC, IN</td><td>→ One chart</td></tr>
  <tr><td>Voltages</td><td>VA, VB, VC, VN</td><td>→ One chart</td></tr>
  <tr><td>Protection</td><td>TRIP, CLOSE, 52A</td><td>→ One chart</td></tr>
  <tr><td>Power Quality</td><td>SAG, SWELL, HARM</td><td>→ Grouped by type</td></tr>
</table>
<h4>Grouping Strategy</h4>
<ol>
  <li><strong>Pattern Matching</strong> — Match against known naming conventions</li>
  <li><strong>User Override</strong> — User-defined groups take priority</li>
  <li><strong>Catch-All</strong> — Unmatched channels go to default group</li>
</ol>
<h4>Supported Patterns</h4>
<p><strong>Analog:</strong></p>
<ul>
  <li><code>IA</code>, <code>IB</code>, <code>IC</code>, <code>IN</code> — Phase currents</li>
  <li><code>VA</code>, <code>VB</code>, <code>VC</code>, <code>VN</code> — Phase voltages</li>
  <li><code>IL1</code>, <code>IL2</code>, <code>IL3</code> — Line currents (IEC)</li>
  <li><code>UL1</code>, <code>UL2</code>, <code>UL3</code> — Line voltages (IEC)</li>
</ul>
<p><strong>Digital:</strong></p>
<ul>
  <li><code>TRIP</code>, <code>FAULT</code>, <code>BLOCK</code> — Protection events</li>
  <li><code>52A</code>, <code>52B</code> — Breaker status</li>
  <li><code>OUT</code>, <code>IN</code>, <code>RMB</code>, <code>TMB</code> — I/O signals</li>
  <li><code>SV</code>, <code>DP</code>, <code>VB</code> — IEC 61850</li>
</ul>
<p><strong>Power Quality:</strong></p>
<ul>
  <li><code>SAG</code>, <code>SWELL</code>, <code>INT</code> — Voltage events</li>
  <li><code>HARM02</code>-<code>HARM15</code> — Harmonics</li>
  <li><code>ITIC</code> — ITIC curve violations</li>
</ul></li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li><a href="module-components_renderComtradeCharts.html"><code>module:components/renderComtradeCharts</code></a></li>
        
            <li><a href="module-components_renderSingleAnalogChart.html"><code>module:components/renderSingleAnalogChart</code></a></li>
        
            <li><a href="module-components_renderSingleDigitalChart.html"><code>module:components/renderSingleDigitalChart</code></a></li>
        </ul>
    </dd>
    

    
</dl>











    <h5 class="h5-examples">Examples</h5>
    
    <pre class="prettyprint"><code>// Auto-group analog channelsimport { autoGroupChannels } from "./autoGroupChannels.js";const channels = [  { id: "IA" }, { id: "IB" }, { id: "IC" },  { id: "VA" }, { id: "VB" }, { id: "VC" }];const groups = autoGroupChannels(channels);// { "G0": [0, 1, 2], "G1": [3, 4, 5] }// G0 = Currents, G1 = Voltages</code></pre>

    <pre class="prettyprint"><code>// User-defined groups with fallbackimport { buildChannelGroups } from "./autoGroupChannels.js";const userGroups = ["Currents", "Currents", "Currents", "", "", ""];const groups = buildChannelGroups(userGroups, channels);// { "Currents": [0, 1, 2], "G0": [3, 4, 5] }</code></pre>





















            
                




<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li><p>Calculate the global maxYAxes count and publish to the global store
This is the single place where axis calculation happens</p></li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>






























            
                




<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li><p>groupingUtils module</p></li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>






























            
        
        </div>
    

    

    

    
    
    

     

    

    
        <h3 class="subsection-title">Members</h3>

        
            
<h4 class="name" id="~GROUP_PATTERNS"><span class="type-signature type-signature-inner, constant">(inner, constant) </span>GROUP_PATTERNS<span class="type-signature"> :Array.&lt;Object></span></h4>





<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li><p>Channel grouping patterns for automatic grouping.
Each pattern is a regex that matches specific channel naming conventions.
Patterns are processed in order - first match wins.</p></li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>



    <h5 class="subsection-title">Properties:</h5>

    

<table class="props">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>regex</code></td>
            

            <td class="type">
            
                
<span class="param-type">RegExp</span>



            
            </td>

            

            

            <td class="description last"><p>Regular expression to match channel IDs</p></td>
        </tr>

    
    </tbody>
</table>






<div class="description usertext">
    <p>Channel grouping patterns for automatic grouping.
Each pattern is a regex that matches specific channel naming conventions.
Patterns are processed in order - first match wins.</p>
</div>



    <h5 class="h5-types">Type:</h5>
    <ul>
        <li>
            
<span class="param-type">Array.&lt;Object></span>



        </li>
    </ul>





    <h5 class="h5-examples">Example</h5>
    
    <pre class="prettyprint"><code>// Pattern matching examples:// /^I[ABCN]$/i  matches: IA, IB, IC, IN (case insensitive)// /^V[ABCN]$/i  matches: VA, VB, VC, VN// /^HARM\d+$/i matches: HARM02, HARM03, HARM15</code></pre>



        
    

    
        <h3 class="subsection-title">Methods</h3>

        
            

    

    <h4 class="name" id=".buildChartData"><span class="type-signature type-signature-static">(static) </span>buildChartData<span class="signature">(timeArray, analogSeriesWithData, data, sampleCount, computedForGroup)</span><span class="type-signature"> &rarr; {Array}</span></h4>

    




<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li><p>Build chart data array combining analog and computed channels</p></li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>













    <h5 class="h5-parameters">Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>timeArray</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array</span>



            
            </td>

            

            

            <td class="description last"><p>Time array for X-axis</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>analogSeriesWithData</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array</span>



            
            </td>

            

            

            <td class="description last"><p>Indices of analog series with data</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>data</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>



            
            </td>

            

            

            <td class="description last"><p>Data object containing analogData</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>sampleCount</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>



            
            </td>

            

            

            <td class="description last"><p>Number of samples to use</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>computedForGroup</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array</span>



            
            </td>

            

            

            <td class="description last"><p>Array of computed channels</p></td>
        </tr>

    
    </tbody>
</table>
















<h5 class="h5-returns">Returns:</h5>

        
<div class="param-desc">
    <p>Chart data array [timeArray, ...series]</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Array</span>



    </dd>
</dl>

    



        
            

    

    <h4 class="name" id=".buildGroupsWithAutoGrouping"><span class="type-signature type-signature-static">(static) </span>buildGroupsWithAutoGrouping<span class="signature">(totalAnalog, channelIDs, channelState, autoGroupChannels)</span><span class="type-signature"> &rarr; {Array}</span></h4>

    




<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li><p>Build groups using full auto-grouping for all channels</p></li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>













    <h5 class="h5-parameters">Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>totalAnalog</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array</span>



            
            </td>

            

            

            <td class="description last"><p>Array of all analog channel objects</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>channelIDs</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array</span>



            
            </td>

            

            

            <td class="description last"><p>Array of channel IDs</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>channelState</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>



            
            </td>

            

            

            <td class="description last"><p>Channel state object with yLabels, yUnits, etc.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>autoGroupChannels</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>



            
            </td>

            

            

            <td class="description last"><p>Function to auto-group channels</p></td>
        </tr>

    
    </tbody>
</table>
















<h5 class="h5-returns">Returns:</h5>

        
<div class="param-desc">
    <p>Array of group objects with { name, indices, ids, axisCount, colors }</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Array</span>



    </dd>
</dl>

    



        
            

    

    <h4 class="name" id=".buildGroupsWithUserAssignments"><span class="type-signature type-signature-static">(static) </span>buildGroupsWithUserAssignments<span class="signature">(userGroups, totalAnalog, channelIDs, autoGroupChannels)</span><span class="type-signature"> &rarr; {Array}</span></h4>

    




<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li><p>Build groups from user-assigned groups and auto-group unassigned channels</p></li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>













    <h5 class="h5-parameters">Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>userGroups</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array</span>



            
            </td>

            

            

            <td class="description last"><p>Array of group names assigned to each channel</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>totalAnalog</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array</span>



            
            </td>

            

            

            <td class="description last"><p>Array of all analog channel objects</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>channelIDs</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array</span>



            
            </td>

            

            

            <td class="description last"><p>Array of channel IDs</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>autoGroupChannels</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>



            
            </td>

            

            

            <td class="description last"><p>Function to auto-group channels</p></td>
        </tr>

    
    </tbody>
</table>
















<h5 class="h5-returns">Returns:</h5>

        
<div class="param-desc">
    <p>Array of group objects with { name, indices, ids, axisCount, colors }</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Array</span>



    </dd>
</dl>

    



        
            

    

    <h4 class="name" id=".calculateAndPublishMaxYAxes"><span class="type-signature type-signature-static">(static) </span>calculateAndPublishMaxYAxes<span class="signature">(groups)</span><span class="type-signature"> &rarr; {number}</span></h4>

    




<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li><p>Calculate maxYAxes based on group composition and publish to store</p></li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>











    <h5 class="h5-examples">Example</h5>
    
    <pre class="prettyprint"><code>const groups = [  { indices: [0,1,2], name: "G0" },  { indices: [3], name: "G1" }];const maxYAxes = calculateAndPublishMaxYAxes(groups);// Returns: 2</code></pre>




    <h5 class="h5-parameters">Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>groups</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array</span>



            
            </td>

            

            

            <td class="description last"><p>Array of group objects with channels</p></td>
        </tr>

    
    </tbody>
</table>
















<h5 class="h5-returns">Returns:</h5>

        
<div class="param-desc">
    <p>The calculated maxYAxes value</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">number</span>



    </dd>
</dl>

    



        
            

    

    <h4 class="name" id=".calculateAndPublishMaxYAxesFromState"><span class="type-signature type-signature-static">(static) </span>calculateAndPublishMaxYAxesFromState<span class="signature">(channelState, cfg)</span><span class="type-signature"> &rarr; {number}</span></h4>

    




<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li><p>Batch calculate for both analog and digital if available</p></li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>













    <h5 class="h5-parameters">Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>channelState</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>



            
            </td>

            

            

            <td class="description last"><p>Channel state object</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>cfg</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>



            
            </td>

            

            

            <td class="description last"><p>COMTRADE config object</p></td>
        </tr>

    
    </tbody>
</table>
















<h5 class="h5-returns">Returns:</h5>

        
<div class="param-desc">
    <p>The calculated maxYAxes value</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">number</span>



    </dd>
</dl>

    



        
            

    

    <h4 class="name" id=".computeChartDataDimensions"><span class="type-signature type-signature-static">(static) </span>computeChartDataDimensions<span class="signature">(validIndices, data, computedForGroup)</span><span class="type-signature"> &rarr; {Object}</span></h4>

    




<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li><p>Find analog series with data and compute sample count</p></li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>













    <h5 class="h5-parameters">Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>validIndices</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array</span>



            
            </td>

            

            

            <td class="description last"><p>Array of valid channel indices</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>data</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>



            
            </td>

            

            

            <td class="description last"><p>Data object containing analogData</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>computedForGroup</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array</span>



            
            </td>

            

            

            <td class="description last"><p>Array of computed channels for this group</p></td>
        </tr>

    
    </tbody>
</table>
















<h5 class="h5-returns">Returns:</h5>

        
<div class="param-desc">
    <p>Object with analogSeriesWithData, sampleCount, timeArray</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Object</span>



    </dd>
</dl>

    



        
            

    

    <h4 class="name" id=".extractChannelMetadata"><span class="type-signature type-signature-static">(static) </span>extractChannelMetadata<span class="signature">(validIndices, channelState)</span><span class="type-signature"> &rarr; {Object}</span></h4>

    




<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li><p>Extract channel metadata from state for valid indices</p></li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>













    <h5 class="h5-parameters">Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>validIndices</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array</span>



            
            </td>

            

            

            <td class="description last"><p>Array of valid channel indices</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>channelState</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>



            
            </td>

            

            

            <td class="description last"><p>Channel state object</p></td>
        </tr>

    
    </tbody>
</table>
















<h5 class="h5-returns">Returns:</h5>

        
<div class="param-desc">
    <p>Object with yLabels, lineColors, yUnits, axesScales, xLabel, xUnit</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Object</span>



    </dd>
</dl>

    



        
            

    

    <h4 class="name" id=".extractGroupId"><span class="type-signature type-signature-static">(static) </span>extractGroupId<span class="signature">(validIndices, userGroups, groupName)</span><span class="type-signature"> &rarr; {string}</span></h4>

    




<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li><p>Extract group ID from first valid channel in group</p></li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>













    <h5 class="h5-parameters">Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>validIndices</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array</span>



            
            </td>

            

            

            <td class="description last"><p>Array of valid channel indices</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>userGroups</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array</span>



            
            </td>

            

            

            <td class="description last"><p>Array of group names per channel</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>groupName</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>



            
            </td>

            

            

            <td class="description last"><p>Fallback group name if no valid indices</p></td>
        </tr>

    
    </tbody>
</table>
















<h5 class="h5-returns">Returns:</h5>

        
<div class="param-desc">
    <p>Group ID or empty string</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">string</span>



    </dd>
</dl>

    



        
            

    

    <h4 class="name" id=".filterGroupsWithChannels"><span class="type-signature type-signature-static">(static) </span>filterGroupsWithChannels<span class="signature">(groups)</span><span class="type-signature"> &rarr; {Array}</span></h4>

    




<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li><p>Filter groups to only include those with actual channels</p></li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>













    <h5 class="h5-parameters">Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>groups</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array</span>



            
            </td>

            

            

            <td class="description last"><p>Array of group objects</p></td>
        </tr>

    
    </tbody>
</table>
















<h5 class="h5-returns">Returns:</h5>

        
<div class="param-desc">
    <p>Filtered array of groups with channels</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Array</span>



    </dd>
</dl>

    



        
            

    

    <h4 class="name" id=".filterValidIndices"><span class="type-signature type-signature-static">(static) </span>filterValidIndices<span class="signature">(indices, maxLength)</span><span class="type-signature"> &rarr; {Array}</span></h4>

    




<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li><p>Filter indices to only those within valid bounds</p></li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>













    <h5 class="h5-parameters">Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>indices</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array</span>



            
            </td>

            

            

            <td class="description last"><p>Array of channel indices</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>maxLength</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>



            
            </td>

            

            

            <td class="description last"><p>Maximum valid index (exclusive)</p></td>
        </tr>

    
    </tbody>
</table>
















<h5 class="h5-returns">Returns:</h5>

        
<div class="param-desc">
    <p>Filtered array of valid indices</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Array</span>



    </dd>
</dl>

    



        
            

    

    <h4 class="name" id=".mergeAnalogAndComputedMetadata"><span class="type-signature type-signature-static">(static) </span>mergeAnalogAndComputedMetadata<span class="signature">(includedAnalogIndices, metadata, computedForGroup)</span><span class="type-signature"> &rarr; {Object}</span></h4>

    




<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li><p>Merge analog and computed channel metadata for chart display</p></li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>













    <h5 class="h5-parameters">Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>includedAnalogIndices</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array</span>



            
            </td>

            

            

            <td class="description last"><p>Indices of included analog channels</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>metadata</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>



            
            </td>

            

            

            <td class="description last"><p>Object with yLabels, lineColors, yUnits, axesScales</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>computedForGroup</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array</span>



            
            </td>

            

            

            <td class="description last"><p>Array of computed channels</p></td>
        </tr>

    
    </tbody>
</table>
















<h5 class="h5-returns">Returns:</h5>

        
<div class="param-desc">
    <p>Object with merged labels, colors, units, scales</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Object</span>



    </dd>
</dl>

    



        
            

    

    <h4 class="name" id=".resolveGroupIndices"><span class="type-signature type-signature-static">(static) </span>resolveGroupIndices<span class="signature">(group, channelIDs)</span><span class="type-signature"> &rarr; {Array}</span></h4>

    




<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li><p>Resolve channel indices for a group from IDs and fallback indices</p></li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>













    <h5 class="h5-parameters">Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>group</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>



            
            </td>

            

            

            <td class="description last"><p>Group object with ids and indices properties</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>channelIDs</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array</span>



            
            </td>

            

            

            <td class="description last"><p>Array of all channel IDs for lookup</p></td>
        </tr>

    
    </tbody>
</table>
















<h5 class="h5-returns">Returns:</h5>

        
<div class="param-desc">
    <p>Array of resolved indices</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Array</span>



    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="~analyzeGroupsAndPublishMaxYAxes"><span class="type-signature type-signature-inner">(inner) </span>analyzeGroupsAndPublishMaxYAxes<span class="signature">(charts, channelState, cfg)</span><span class="type-signature"> &rarr; {number}</span></h4>

    




<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li><p><strong>Algorithm:</strong></p>
<ol>
<li>Extract group assignments from channelState.analog.groups</li>
<li>Convert string IDs (&quot;G0&quot;, &quot;G1&quot;) to numeric (0, 1) for consistency</li>
<li>For each unique group ID:
<ul>
<li>Collect all channels in that group</li>
<li>Call calculateAxisCountForGroup() to determine axis requirements</li>
<li>Store result in groupsWithAxisCounts array</li>
</ul>
</li>
<li>Find maximum axisCount across all groups</li>
<li>Publish to global store via setMaxYAxes()</li>
<li>Log detailed analysis for debugging</li>
<li>Return published value</li>
</ol>
<p><strong>Error Handling:</strong>
If any error occurs during analysis, logs the error and falls back to maxYAxes=1.
This ensures the app never breaks due to analysis failures.</p></li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>











    <h5 class="h5-examples">Examples</h5>
    
    <pre class="prettyprint"><code>// In a group change handlerconst maxYAxes = analyzeGroupsAndPublishMaxYAxes(charts, channelState, cfg);// Output: 2 (if any group needs 2+ axes)// Side effect: setMaxYAxes(2) called internally// All future chart renders will use 2 Y-axes</code></pre>

    <pre class="prettyprint"><code>// Console output shows group analysis:// [analyzeGroupsAndPublishMaxYAxes] 📊 Analysis: G0(3ch,1ax:[V,V,V]) | G1(2ch,2ax:[A,A])// [analyzeGroupsAndPublishMaxYAxes] 🎯 Publishing maxYAxes: 2</code></pre>




    <h5 class="h5-parameters">Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>charts</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array</span>



            
            </td>

            

            

            <td class="description last"><p>Array of chart instances (for reference/logging only)</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>channelState</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>



            
            </td>

            

            

            <td class="description last"><p>Reactive channel state object</p>
                <h6>Properties</h6>
                

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>analog</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array</span>



            
            </td>

            

            

            <td class="description last"><p>Analog channel state</p>
                <h6>Properties</h6>
                

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>groups</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array</span>



            
            </td>

            

            

            <td class="description last"><p>Group assignment array (indices align with channels)</p></td>
        </tr>

    
    </tbody>
</table>

            </td>
        </tr>

    
    </tbody>
</table>

            </td>
        </tr>

    

        <tr>
            
                <td class="name"><code>cfg</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>



            
            </td>

            

            

            <td class="description last"><p>COMTRADE configuration object</p>
                <h6>Properties</h6>
                

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>analogChannels</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array</span>



            
            </td>

            

            

            <td class="description last"><p>Array of analog channel definitions with unit/name</p></td>
        </tr>

    
    </tbody>
</table>

            </td>
        </tr>

    
    </tbody>
</table>
















<h5 class="h5-returns">Returns:</h5>

        
<div class="param-desc">
    <p>The calculated and published maxYAxes value (1, 2, 3, etc.)</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">number</span>



    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="~analyzeSpecificGroup"><span class="type-signature type-signature-inner">(inner) </span>analyzeSpecificGroup<span class="signature">(groupId, channelState, cfg)</span><span class="type-signature"> &rarr; {number}</span></h4>

    




<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li><p>This is a lower-level utility for when you need to check a single group.
It does NOT call setMaxYAxes(), so it won't affect the global state.
Useful for:</p>
<ul>
<li>Validation before publishing</li>
<li>Debugging individual groups</li>
<li>Testing group analysis logic</li>
</ul></li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>











    <h5 class="h5-examples">Example</h5>
    
    <pre class="prettyprint"><code>const axisCount = analyzeSpecificGroup(0, channelState, cfg);console.log(`Group 0 needs ${axisCount} axes`);</code></pre>




    <h5 class="h5-parameters">Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>groupId</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>
|

<span class="param-type">string</span>



            
            </td>

            

            

            <td class="description last"><p>The group to analyze (0, 1, &quot;G0&quot;, &quot;G1&quot;, etc.)</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>channelState</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>



            
            </td>

            

            

            <td class="description last"><p>Reactive channel state object</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>cfg</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>



            
            </td>

            

            

            <td class="description last"><p>COMTRADE configuration object</p></td>
        </tr>

    
    </tbody>
</table>
















<h5 class="h5-returns">Returns:</h5>

        
<div class="param-desc">
    <p>Axis count needed for this specific group (1, 2, etc.)</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">number</span>



    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="~getMaxYAxes"><span class="type-signature type-signature-inner">(inner) </span>getMaxYAxes<span class="signature">()</span><span class="type-signature"> &rarr; {number}</span></h4>

    




<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li><p>Get current maxYAxes value from global store</p></li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>











    <h5 class="h5-examples">Example</h5>
    
    <pre class="prettyprint"><code>const axes = getMaxYAxes();console.log(axes); // 1, 2, or higher</code></pre>


















<h5 class="h5-returns">Returns:</h5>

        
<div class="param-desc">
    <p>Current maxYAxes count (1, 2, 3, etc.)</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">number</span>



    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="~getMaxYAxesState"><span class="type-signature type-signature-inner">(inner) </span>getMaxYAxesState<span class="signature">()</span><span class="type-signature"> &rarr; {Object}</span></h4>

    




<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li><p>WARNING: Only use this if you need reactive subscriptions.
Remember to unsubscribe to avoid memory leaks!</p>
<p>The returned object's properties update reactively whenever setMaxYAxes() is called.
You can subscribe to changes like:</p>
<pre class="prettyprint source lang-javascript"><code>const unsub = getMaxYAxesState().subscribe(() => {
  console.log('maxYAxes changed to:', getMaxYAxes());
});
// When done, call unsub() to clean up
</code></pre></li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>











    <h5 class="h5-examples">Example</h5>
    
    <pre class="prettyprint"><code>const state = getMaxYAxesState();// Now state.maxYAxes === getMaxYAxes()</code></pre>


















<h5 class="h5-returns">Returns:</h5>

        
<div class="param-desc">
    <p>The createState object with reactive properties</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Object</span>



    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="~resetMaxYAxes"><span class="type-signature type-signature-inner">(inner) </span>resetMaxYAxes<span class="signature">()</span><span class="type-signature"> &rarr; {void}</span></h4>

    




<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li><p>Reset maxYAxes to default value (1)</p></li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>











    <h5 class="h5-examples">Example</h5>
    
    <pre class="prettyprint"><code>resetMaxYAxes(); // Back to 1 Y-axis for all charts</code></pre>


















<h5 class="h5-returns">Returns:</h5>

        


<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">void</span>



    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="~setMaxYAxes"><span class="type-signature type-signature-inner">(inner) </span>setMaxYAxes<span class="signature">(value)</span><span class="type-signature"> &rarr; {void}</span></h4>

    




<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li><p>Set maxYAxes value in global store (publish new state)</p></li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>











    <h5 class="h5-examples">Example</h5>
    
    <pre class="prettyprint"><code>setMaxYAxes(2); // All charts will now use 2 Y-axesconsole.log(getMaxYAxes()); // Outputs: 2</code></pre>




    <h5 class="h5-parameters">Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>value</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>



            
            </td>

            

            

            <td class="description last"><p>New maxYAxes count (must be &gt;= 1)</p></td>
        </tr>

    
    </tbody>
</table>














<h5 class="h5-throws">Throws:</h5>

        

<dl>
    <dt>
        <div class="param-desc usertext">
        <p>Does not throw, but logs warning if value is invalid</p>
        </div>
    </dt>
    <dd></dd>
    <dt>
        <dl class="param-type">
            <dt>
                Type
            </dt>
            <dd>
                
<span class="param-type">void</span>



            </dd>
        </dl>
    </dt>
    <dd></dd>
</dl>


    


<h5 class="h5-returns">Returns:</h5>

        


<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">void</span>



    </dd>
</dl>

    



        
    

    

    
</article>

</section>







<section>

<header>
    
        
            
        
            
        
            
        
            
        
            
        
    
</header>

<article>
    
        <div class="container-overview">
        
            
                <div class="description usertext"><p>Centralized reactive state store for managing the number of Y-axes across all chart types.
Implements a &quot;single source of truth&quot; pattern similar to React Context API.</p>
<p><strong>Role in Multi-Y-Axes Architecture:</strong></p>
<pre class="prettyprint source"><code>Group Change Event
    ↓
analyzeGroupsAndPublish() calculates maxYAxes
    ↓
setMaxYAxes() publishes to this store
    ↓
renderAnalogCharts, renderDigitalCharts, renderComputedChannels
all read from getMaxYAxes() and update axes count
</code></pre>
<p><strong>Why Not Subscriptions?</strong>
Uses createState (reactive object) instead of .subscribe() callbacks to avoid:</p>
<ul>
<li>Memory leaks from forgotten unsubscribes</li>
<li>Callback chains that are hard to debug</li>
<li>Global event listeners that accumulate</li>
</ul>
<p>Instead, each component simply calls getMaxYAxes() when building charts.</p></div>
            

            
                




<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li><p>Pure functional approach to analyze chart groups and publish the required number of Y-axes
to the global store. Replaces imperative destroy/rebuild logic with reactive state management.</p>
<p><strong>Architecture Overview:</strong>
This module is the &quot;calculator&quot; in the multi-Y-axes functional approach:</p>
<pre class="prettyprint source"><code>Event: Group changed (user reassigns channel to different group)
    ↓
chartManager.js detects change via group subscriber
    ↓
Calls analyzeGroupsAndPublishMaxYAxes(charts, channelState, cfg)
    ↓
This function:
  1. Reads group assignments from channelState
  2. For each group, calls calculateAxisCountForGroup()
  3. Finds max axis count across all groups
  4. Calls setMaxYAxes() to publish to global store
    ↓
renderAnalogCharts, renderDigitalCharts, renderComputedChannels
read updated maxYAxes via getMaxYAxes() and create correct axis count
</code></pre>
<p><strong>Key Feature: Pure Function</strong></p>
<ul>
<li>No side effects except calling setMaxYAxes()</li>
<li>Deterministic: same input = same output</li>
<li>Easy to test: no global state pollution</li>
<li>Memory safe: no subscriptions to manage</li>
</ul>
<p><strong>What Gets Analyzed:</strong></p>
<ul>
<li>User-assigned groups from channelState.analog.groups</li>
<li>Channel units (V, A, W, Hz) from cfg.analogChannels</li>
<li>Axis requirements per group (via axisCalculator.js)</li>
</ul>
<p><strong>Automatic Chart Updates:</strong>
When maxYAxes is published, charts don't automatically re-render.
They must be destroyed and rebuilt by the group subscriber to apply new axis count.
The global store just maintains the &quot;correct&quot; value for all new chart renders.</p></li></ul></dd>
    

    

    

    
    <dt class="tag-since">Since:</dt>
    <dd class="tag-since"><ul class="dummy"><li>2.0.0</li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>











    <h5 class="h5-examples">Example</h5>
    
    <pre class="prettyprint"><code>// In a group change subscriber (chartManager.js)import { analyzeGroupsAndPublishMaxYAxes } from '../utils/analyzeGroupsAndPublish.js';const newMaxYAxes = analyzeGroupsAndPublishMaxYAxes(charts, channelState, cfg);console.log(`New axis count published: ${newMaxYAxes}`);// Then, elsewhere in the group subscriber, charts are destroyed and re-rendered// with the updated maxYAxes value</code></pre>





















            
                




<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li><p>Centralized reactive state store for managing the number of Y-axes across all chart types.
Implements a &quot;single source of truth&quot; pattern similar to React Context API.</p>
<p><strong>Role in Multi-Y-Axes Architecture:</strong></p>
<pre class="prettyprint source"><code>Group Change Event
    ↓
analyzeGroupsAndPublish() calculates maxYAxes
    ↓
setMaxYAxes() publishes to this store
    ↓
renderAnalogCharts, renderDigitalCharts, renderComputedChannels
all read from getMaxYAxes() and update axes count
</code></pre>
<p><strong>Why Not Subscriptions?</strong>
Uses createState (reactive object) instead of .subscribe() callbacks to avoid:</p>
<ul>
<li>Memory leaks from forgotten unsubscribes</li>
<li>Callback chains that are hard to debug</li>
<li>Global event listeners that accumulate</li>
</ul>
<p>Instead, each component simply calls getMaxYAxes() when building charts.</p></li></ul></dd>
    

    

    

    
    <dt class="tag-since">Since:</dt>
    <dd class="tag-since"><ul class="dummy"><li>2.0.0</li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>











    <h5 class="h5-examples">Examples</h5>
    
    <pre class="prettyprint"><code>// In a chart rendering functionimport { getMaxYAxes } from '../utils/maxYAxesStore.js';const maxYAxes = getMaxYAxes(); // Get current value (1, 2, 3, etc.)const opts = createChartOptions({  maxYAxes: maxYAxes,  // ... other options});</code></pre>

    <pre class="prettyprint"><code>// In a group change handlerimport { setMaxYAxes } from '../utils/maxYAxesStore.js';// After analyzing groups and calculating required axessetMaxYAxes(2); // Publish new value// Charts automatically use this when they next render/update</code></pre>





















            
                




<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li><h3>Automatic Channel Grouping Utilities</h3>
<p>Intelligently groups COMTRADE channels based on naming patterns.
Designed for protection relays (SEL, ABB, Siemens, GE) and power quality meters.</p>
<h4>Purpose</h4>
<p>COMTRADE files can contain dozens or hundreds of channels.
This module auto-groups related channels for organized visualization:</p>
<table>
  <tr><th>Channel Type</th><th>Example Inputs</th><th>Result</th></tr>
  <tr><td>Currents</td><td>IA, IB, IC, IN</td><td>→ One chart</td></tr>
  <tr><td>Voltages</td><td>VA, VB, VC, VN</td><td>→ One chart</td></tr>
  <tr><td>Protection</td><td>TRIP, CLOSE, 52A</td><td>→ One chart</td></tr>
  <tr><td>Power Quality</td><td>SAG, SWELL, HARM</td><td>→ Grouped by type</td></tr>
</table>
<h4>Grouping Strategy</h4>
<ol>
  <li><strong>Pattern Matching</strong> — Match against known naming conventions</li>
  <li><strong>User Override</strong> — User-defined groups take priority</li>
  <li><strong>Catch-All</strong> — Unmatched channels go to default group</li>
</ol>
<h4>Supported Patterns</h4>
<p><strong>Analog:</strong></p>
<ul>
  <li><code>IA</code>, <code>IB</code>, <code>IC</code>, <code>IN</code> — Phase currents</li>
  <li><code>VA</code>, <code>VB</code>, <code>VC</code>, <code>VN</code> — Phase voltages</li>
  <li><code>IL1</code>, <code>IL2</code>, <code>IL3</code> — Line currents (IEC)</li>
  <li><code>UL1</code>, <code>UL2</code>, <code>UL3</code> — Line voltages (IEC)</li>
</ul>
<p><strong>Digital:</strong></p>
<ul>
  <li><code>TRIP</code>, <code>FAULT</code>, <code>BLOCK</code> — Protection events</li>
  <li><code>52A</code>, <code>52B</code> — Breaker status</li>
  <li><code>OUT</code>, <code>IN</code>, <code>RMB</code>, <code>TMB</code> — I/O signals</li>
  <li><code>SV</code>, <code>DP</code>, <code>VB</code> — IEC 61850</li>
</ul>
<p><strong>Power Quality:</strong></p>
<ul>
  <li><code>SAG</code>, <code>SWELL</code>, <code>INT</code> — Voltage events</li>
  <li><code>HARM02</code>-<code>HARM15</code> — Harmonics</li>
  <li><code>ITIC</code> — ITIC curve violations</li>
</ul></li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li><a href="module-components_renderComtradeCharts.html"><code>module:components/renderComtradeCharts</code></a></li>
        
            <li><a href="module-components_renderSingleAnalogChart.html"><code>module:components/renderSingleAnalogChart</code></a></li>
        
            <li><a href="module-components_renderSingleDigitalChart.html"><code>module:components/renderSingleDigitalChart</code></a></li>
        </ul>
    </dd>
    

    
</dl>











    <h5 class="h5-examples">Examples</h5>
    
    <pre class="prettyprint"><code>// Auto-group analog channelsimport { autoGroupChannels } from "./autoGroupChannels.js";const channels = [  { id: "IA" }, { id: "IB" }, { id: "IC" },  { id: "VA" }, { id: "VB" }, { id: "VC" }];const groups = autoGroupChannels(channels);// { "G0": [0, 1, 2], "G1": [3, 4, 5] }// G0 = Currents, G1 = Voltages</code></pre>

    <pre class="prettyprint"><code>// User-defined groups with fallbackimport { buildChannelGroups } from "./autoGroupChannels.js";const userGroups = ["Currents", "Currents", "Currents", "", "", ""];const groups = buildChannelGroups(userGroups, channels);// { "Currents": [0, 1, 2], "G0": [3, 4, 5] }</code></pre>





















            
                




<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li><p>Calculate the global maxYAxes count and publish to the global store
This is the single place where axis calculation happens</p></li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>






























            
                




<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li><p>groupingUtils module</p></li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>






























            
        
        </div>
    

    

    

    
    
    

     

    

    
        <h3 class="subsection-title">Members</h3>

        
            
<h4 class="name" id="~GROUP_PATTERNS"><span class="type-signature type-signature-inner, constant">(inner, constant) </span>GROUP_PATTERNS<span class="type-signature"> :Array.&lt;Object></span></h4>





<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li><p>Channel grouping patterns for automatic grouping.
Each pattern is a regex that matches specific channel naming conventions.
Patterns are processed in order - first match wins.</p></li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>



    <h5 class="subsection-title">Properties:</h5>

    

<table class="props">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>regex</code></td>
            

            <td class="type">
            
                
<span class="param-type">RegExp</span>



            
            </td>

            

            

            <td class="description last"><p>Regular expression to match channel IDs</p></td>
        </tr>

    
    </tbody>
</table>






<div class="description usertext">
    <p>Channel grouping patterns for automatic grouping.
Each pattern is a regex that matches specific channel naming conventions.
Patterns are processed in order - first match wins.</p>
</div>



    <h5 class="h5-types">Type:</h5>
    <ul>
        <li>
            
<span class="param-type">Array.&lt;Object></span>



        </li>
    </ul>





    <h5 class="h5-examples">Example</h5>
    
    <pre class="prettyprint"><code>// Pattern matching examples:// /^I[ABCN]$/i  matches: IA, IB, IC, IN (case insensitive)// /^V[ABCN]$/i  matches: VA, VB, VC, VN// /^HARM\d+$/i matches: HARM02, HARM03, HARM15</code></pre>



        
    

    
        <h3 class="subsection-title">Methods</h3>

        
            

    

    <h4 class="name" id=".buildChartData"><span class="type-signature type-signature-static">(static) </span>buildChartData<span class="signature">(timeArray, analogSeriesWithData, data, sampleCount, computedForGroup)</span><span class="type-signature"> &rarr; {Array}</span></h4>

    




<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li><p>Build chart data array combining analog and computed channels</p></li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>













    <h5 class="h5-parameters">Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>timeArray</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array</span>



            
            </td>

            

            

            <td class="description last"><p>Time array for X-axis</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>analogSeriesWithData</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array</span>



            
            </td>

            

            

            <td class="description last"><p>Indices of analog series with data</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>data</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>



            
            </td>

            

            

            <td class="description last"><p>Data object containing analogData</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>sampleCount</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>



            
            </td>

            

            

            <td class="description last"><p>Number of samples to use</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>computedForGroup</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array</span>



            
            </td>

            

            

            <td class="description last"><p>Array of computed channels</p></td>
        </tr>

    
    </tbody>
</table>
















<h5 class="h5-returns">Returns:</h5>

        
<div class="param-desc">
    <p>Chart data array [timeArray, ...series]</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Array</span>



    </dd>
</dl>

    



        
            

    

    <h4 class="name" id=".buildGroupsWithAutoGrouping"><span class="type-signature type-signature-static">(static) </span>buildGroupsWithAutoGrouping<span class="signature">(totalAnalog, channelIDs, channelState, autoGroupChannels)</span><span class="type-signature"> &rarr; {Array}</span></h4>

    




<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li><p>Build groups using full auto-grouping for all channels</p></li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>













    <h5 class="h5-parameters">Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>totalAnalog</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array</span>



            
            </td>

            

            

            <td class="description last"><p>Array of all analog channel objects</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>channelIDs</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array</span>



            
            </td>

            

            

            <td class="description last"><p>Array of channel IDs</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>channelState</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>



            
            </td>

            

            

            <td class="description last"><p>Channel state object with yLabels, yUnits, etc.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>autoGroupChannels</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>



            
            </td>

            

            

            <td class="description last"><p>Function to auto-group channels</p></td>
        </tr>

    
    </tbody>
</table>
















<h5 class="h5-returns">Returns:</h5>

        
<div class="param-desc">
    <p>Array of group objects with { name, indices, ids, axisCount, colors }</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Array</span>



    </dd>
</dl>

    



        
            

    

    <h4 class="name" id=".buildGroupsWithUserAssignments"><span class="type-signature type-signature-static">(static) </span>buildGroupsWithUserAssignments<span class="signature">(userGroups, totalAnalog, channelIDs, autoGroupChannels)</span><span class="type-signature"> &rarr; {Array}</span></h4>

    




<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li><p>Build groups from user-assigned groups and auto-group unassigned channels</p></li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>













    <h5 class="h5-parameters">Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>userGroups</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array</span>



            
            </td>

            

            

            <td class="description last"><p>Array of group names assigned to each channel</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>totalAnalog</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array</span>



            
            </td>

            

            

            <td class="description last"><p>Array of all analog channel objects</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>channelIDs</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array</span>



            
            </td>

            

            

            <td class="description last"><p>Array of channel IDs</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>autoGroupChannels</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>



            
            </td>

            

            

            <td class="description last"><p>Function to auto-group channels</p></td>
        </tr>

    
    </tbody>
</table>
















<h5 class="h5-returns">Returns:</h5>

        
<div class="param-desc">
    <p>Array of group objects with { name, indices, ids, axisCount, colors }</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Array</span>



    </dd>
</dl>

    



        
            

    

    <h4 class="name" id=".calculateAndPublishMaxYAxes"><span class="type-signature type-signature-static">(static) </span>calculateAndPublishMaxYAxes<span class="signature">(groups)</span><span class="type-signature"> &rarr; {number}</span></h4>

    




<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li><p>Calculate maxYAxes based on group composition and publish to store</p></li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>











    <h5 class="h5-examples">Example</h5>
    
    <pre class="prettyprint"><code>const groups = [  { indices: [0,1,2], name: "G0" },  { indices: [3], name: "G1" }];const maxYAxes = calculateAndPublishMaxYAxes(groups);// Returns: 2</code></pre>




    <h5 class="h5-parameters">Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>groups</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array</span>



            
            </td>

            

            

            <td class="description last"><p>Array of group objects with channels</p></td>
        </tr>

    
    </tbody>
</table>
















<h5 class="h5-returns">Returns:</h5>

        
<div class="param-desc">
    <p>The calculated maxYAxes value</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">number</span>



    </dd>
</dl>

    



        
            

    

    <h4 class="name" id=".calculateAndPublishMaxYAxesFromState"><span class="type-signature type-signature-static">(static) </span>calculateAndPublishMaxYAxesFromState<span class="signature">(channelState, cfg)</span><span class="type-signature"> &rarr; {number}</span></h4>

    




<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li><p>Batch calculate for both analog and digital if available</p></li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>













    <h5 class="h5-parameters">Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>channelState</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>



            
            </td>

            

            

            <td class="description last"><p>Channel state object</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>cfg</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>



            
            </td>

            

            

            <td class="description last"><p>COMTRADE config object</p></td>
        </tr>

    
    </tbody>
</table>
















<h5 class="h5-returns">Returns:</h5>

        
<div class="param-desc">
    <p>The calculated maxYAxes value</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">number</span>



    </dd>
</dl>

    



        
            

    

    <h4 class="name" id=".computeChartDataDimensions"><span class="type-signature type-signature-static">(static) </span>computeChartDataDimensions<span class="signature">(validIndices, data, computedForGroup)</span><span class="type-signature"> &rarr; {Object}</span></h4>

    




<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li><p>Find analog series with data and compute sample count</p></li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>













    <h5 class="h5-parameters">Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>validIndices</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array</span>



            
            </td>

            

            

            <td class="description last"><p>Array of valid channel indices</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>data</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>



            
            </td>

            

            

            <td class="description last"><p>Data object containing analogData</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>computedForGroup</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array</span>



            
            </td>

            

            

            <td class="description last"><p>Array of computed channels for this group</p></td>
        </tr>

    
    </tbody>
</table>
















<h5 class="h5-returns">Returns:</h5>

        
<div class="param-desc">
    <p>Object with analogSeriesWithData, sampleCount, timeArray</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Object</span>



    </dd>
</dl>

    



        
            

    

    <h4 class="name" id=".extractChannelMetadata"><span class="type-signature type-signature-static">(static) </span>extractChannelMetadata<span class="signature">(validIndices, channelState)</span><span class="type-signature"> &rarr; {Object}</span></h4>

    




<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li><p>Extract channel metadata from state for valid indices</p></li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>













    <h5 class="h5-parameters">Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>validIndices</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array</span>



            
            </td>

            

            

            <td class="description last"><p>Array of valid channel indices</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>channelState</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>



            
            </td>

            

            

            <td class="description last"><p>Channel state object</p></td>
        </tr>

    
    </tbody>
</table>
















<h5 class="h5-returns">Returns:</h5>

        
<div class="param-desc">
    <p>Object with yLabels, lineColors, yUnits, axesScales, xLabel, xUnit</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Object</span>



    </dd>
</dl>

    



        
            

    

    <h4 class="name" id=".extractGroupId"><span class="type-signature type-signature-static">(static) </span>extractGroupId<span class="signature">(validIndices, userGroups, groupName)</span><span class="type-signature"> &rarr; {string}</span></h4>

    




<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li><p>Extract group ID from first valid channel in group</p></li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>













    <h5 class="h5-parameters">Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>validIndices</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array</span>



            
            </td>

            

            

            <td class="description last"><p>Array of valid channel indices</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>userGroups</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array</span>



            
            </td>

            

            

            <td class="description last"><p>Array of group names per channel</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>groupName</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>



            
            </td>

            

            

            <td class="description last"><p>Fallback group name if no valid indices</p></td>
        </tr>

    
    </tbody>
</table>
















<h5 class="h5-returns">Returns:</h5>

        
<div class="param-desc">
    <p>Group ID or empty string</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">string</span>



    </dd>
</dl>

    



        
            

    

    <h4 class="name" id=".filterGroupsWithChannels"><span class="type-signature type-signature-static">(static) </span>filterGroupsWithChannels<span class="signature">(groups)</span><span class="type-signature"> &rarr; {Array}</span></h4>

    




<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li><p>Filter groups to only include those with actual channels</p></li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>













    <h5 class="h5-parameters">Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>groups</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array</span>



            
            </td>

            

            

            <td class="description last"><p>Array of group objects</p></td>
        </tr>

    
    </tbody>
</table>
















<h5 class="h5-returns">Returns:</h5>

        
<div class="param-desc">
    <p>Filtered array of groups with channels</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Array</span>



    </dd>
</dl>

    



        
            

    

    <h4 class="name" id=".filterValidIndices"><span class="type-signature type-signature-static">(static) </span>filterValidIndices<span class="signature">(indices, maxLength)</span><span class="type-signature"> &rarr; {Array}</span></h4>

    




<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li><p>Filter indices to only those within valid bounds</p></li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>













    <h5 class="h5-parameters">Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>indices</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array</span>



            
            </td>

            

            

            <td class="description last"><p>Array of channel indices</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>maxLength</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>



            
            </td>

            

            

            <td class="description last"><p>Maximum valid index (exclusive)</p></td>
        </tr>

    
    </tbody>
</table>
















<h5 class="h5-returns">Returns:</h5>

        
<div class="param-desc">
    <p>Filtered array of valid indices</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Array</span>



    </dd>
</dl>

    



        
            

    

    <h4 class="name" id=".mergeAnalogAndComputedMetadata"><span class="type-signature type-signature-static">(static) </span>mergeAnalogAndComputedMetadata<span class="signature">(includedAnalogIndices, metadata, computedForGroup)</span><span class="type-signature"> &rarr; {Object}</span></h4>

    




<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li><p>Merge analog and computed channel metadata for chart display</p></li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>













    <h5 class="h5-parameters">Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>includedAnalogIndices</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array</span>



            
            </td>

            

            

            <td class="description last"><p>Indices of included analog channels</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>metadata</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>



            
            </td>

            

            

            <td class="description last"><p>Object with yLabels, lineColors, yUnits, axesScales</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>computedForGroup</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array</span>



            
            </td>

            

            

            <td class="description last"><p>Array of computed channels</p></td>
        </tr>

    
    </tbody>
</table>
















<h5 class="h5-returns">Returns:</h5>

        
<div class="param-desc">
    <p>Object with merged labels, colors, units, scales</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Object</span>



    </dd>
</dl>

    



        
            

    

    <h4 class="name" id=".resolveGroupIndices"><span class="type-signature type-signature-static">(static) </span>resolveGroupIndices<span class="signature">(group, channelIDs)</span><span class="type-signature"> &rarr; {Array}</span></h4>

    




<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li><p>Resolve channel indices for a group from IDs and fallback indices</p></li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>













    <h5 class="h5-parameters">Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>group</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>



            
            </td>

            

            

            <td class="description last"><p>Group object with ids and indices properties</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>channelIDs</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array</span>



            
            </td>

            

            

            <td class="description last"><p>Array of all channel IDs for lookup</p></td>
        </tr>

    
    </tbody>
</table>
















<h5 class="h5-returns">Returns:</h5>

        
<div class="param-desc">
    <p>Array of resolved indices</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Array</span>



    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="~analyzeGroupsAndPublishMaxYAxes"><span class="type-signature type-signature-inner">(inner) </span>analyzeGroupsAndPublishMaxYAxes<span class="signature">(charts, channelState, cfg)</span><span class="type-signature"> &rarr; {number}</span></h4>

    




<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li><p><strong>Algorithm:</strong></p>
<ol>
<li>Extract group assignments from channelState.analog.groups</li>
<li>Convert string IDs (&quot;G0&quot;, &quot;G1&quot;) to numeric (0, 1) for consistency</li>
<li>For each unique group ID:
<ul>
<li>Collect all channels in that group</li>
<li>Call calculateAxisCountForGroup() to determine axis requirements</li>
<li>Store result in groupsWithAxisCounts array</li>
</ul>
</li>
<li>Find maximum axisCount across all groups</li>
<li>Publish to global store via setMaxYAxes()</li>
<li>Log detailed analysis for debugging</li>
<li>Return published value</li>
</ol>
<p><strong>Error Handling:</strong>
If any error occurs during analysis, logs the error and falls back to maxYAxes=1.
This ensures the app never breaks due to analysis failures.</p></li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>











    <h5 class="h5-examples">Examples</h5>
    
    <pre class="prettyprint"><code>// In a group change handlerconst maxYAxes = analyzeGroupsAndPublishMaxYAxes(charts, channelState, cfg);// Output: 2 (if any group needs 2+ axes)// Side effect: setMaxYAxes(2) called internally// All future chart renders will use 2 Y-axes</code></pre>

    <pre class="prettyprint"><code>// Console output shows group analysis:// [analyzeGroupsAndPublishMaxYAxes] 📊 Analysis: G0(3ch,1ax:[V,V,V]) | G1(2ch,2ax:[A,A])// [analyzeGroupsAndPublishMaxYAxes] 🎯 Publishing maxYAxes: 2</code></pre>




    <h5 class="h5-parameters">Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>charts</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array</span>



            
            </td>

            

            

            <td class="description last"><p>Array of chart instances (for reference/logging only)</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>channelState</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>



            
            </td>

            

            

            <td class="description last"><p>Reactive channel state object</p>
                <h6>Properties</h6>
                

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>analog</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array</span>



            
            </td>

            

            

            <td class="description last"><p>Analog channel state</p>
                <h6>Properties</h6>
                

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>groups</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array</span>



            
            </td>

            

            

            <td class="description last"><p>Group assignment array (indices align with channels)</p></td>
        </tr>

    
    </tbody>
</table>

            </td>
        </tr>

    
    </tbody>
</table>

            </td>
        </tr>

    

        <tr>
            
                <td class="name"><code>cfg</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>



            
            </td>

            

            

            <td class="description last"><p>COMTRADE configuration object</p>
                <h6>Properties</h6>
                

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>analogChannels</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array</span>



            
            </td>

            

            

            <td class="description last"><p>Array of analog channel definitions with unit/name</p></td>
        </tr>

    
    </tbody>
</table>

            </td>
        </tr>

    
    </tbody>
</table>
















<h5 class="h5-returns">Returns:</h5>

        
<div class="param-desc">
    <p>The calculated and published maxYAxes value (1, 2, 3, etc.)</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">number</span>



    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="~analyzeSpecificGroup"><span class="type-signature type-signature-inner">(inner) </span>analyzeSpecificGroup<span class="signature">(groupId, channelState, cfg)</span><span class="type-signature"> &rarr; {number}</span></h4>

    




<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li><p>This is a lower-level utility for when you need to check a single group.
It does NOT call setMaxYAxes(), so it won't affect the global state.
Useful for:</p>
<ul>
<li>Validation before publishing</li>
<li>Debugging individual groups</li>
<li>Testing group analysis logic</li>
</ul></li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>











    <h5 class="h5-examples">Example</h5>
    
    <pre class="prettyprint"><code>const axisCount = analyzeSpecificGroup(0, channelState, cfg);console.log(`Group 0 needs ${axisCount} axes`);</code></pre>




    <h5 class="h5-parameters">Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>groupId</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>
|

<span class="param-type">string</span>



            
            </td>

            

            

            <td class="description last"><p>The group to analyze (0, 1, &quot;G0&quot;, &quot;G1&quot;, etc.)</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>channelState</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>



            
            </td>

            

            

            <td class="description last"><p>Reactive channel state object</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>cfg</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>



            
            </td>

            

            

            <td class="description last"><p>COMTRADE configuration object</p></td>
        </tr>

    
    </tbody>
</table>
















<h5 class="h5-returns">Returns:</h5>

        
<div class="param-desc">
    <p>Axis count needed for this specific group (1, 2, etc.)</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">number</span>



    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="~getMaxYAxes"><span class="type-signature type-signature-inner">(inner) </span>getMaxYAxes<span class="signature">()</span><span class="type-signature"> &rarr; {number}</span></h4>

    




<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li><p>Get current maxYAxes value from global store</p></li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>











    <h5 class="h5-examples">Example</h5>
    
    <pre class="prettyprint"><code>const axes = getMaxYAxes();console.log(axes); // 1, 2, or higher</code></pre>


















<h5 class="h5-returns">Returns:</h5>

        
<div class="param-desc">
    <p>Current maxYAxes count (1, 2, 3, etc.)</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">number</span>



    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="~getMaxYAxesState"><span class="type-signature type-signature-inner">(inner) </span>getMaxYAxesState<span class="signature">()</span><span class="type-signature"> &rarr; {Object}</span></h4>

    




<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li><p>WARNING: Only use this if you need reactive subscriptions.
Remember to unsubscribe to avoid memory leaks!</p>
<p>The returned object's properties update reactively whenever setMaxYAxes() is called.
You can subscribe to changes like:</p>
<pre class="prettyprint source lang-javascript"><code>const unsub = getMaxYAxesState().subscribe(() => {
  console.log('maxYAxes changed to:', getMaxYAxes());
});
// When done, call unsub() to clean up
</code></pre></li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>











    <h5 class="h5-examples">Example</h5>
    
    <pre class="prettyprint"><code>const state = getMaxYAxesState();// Now state.maxYAxes === getMaxYAxes()</code></pre>


















<h5 class="h5-returns">Returns:</h5>

        
<div class="param-desc">
    <p>The createState object with reactive properties</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Object</span>



    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="~resetMaxYAxes"><span class="type-signature type-signature-inner">(inner) </span>resetMaxYAxes<span class="signature">()</span><span class="type-signature"> &rarr; {void}</span></h4>

    




<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li><p>Reset maxYAxes to default value (1)</p></li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>











    <h5 class="h5-examples">Example</h5>
    
    <pre class="prettyprint"><code>resetMaxYAxes(); // Back to 1 Y-axis for all charts</code></pre>


















<h5 class="h5-returns">Returns:</h5>

        


<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">void</span>



    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="~setMaxYAxes"><span class="type-signature type-signature-inner">(inner) </span>setMaxYAxes<span class="signature">(value)</span><span class="type-signature"> &rarr; {void}</span></h4>

    




<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li><p>Set maxYAxes value in global store (publish new state)</p></li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>











    <h5 class="h5-examples">Example</h5>
    
    <pre class="prettyprint"><code>setMaxYAxes(2); // All charts will now use 2 Y-axesconsole.log(getMaxYAxes()); // Outputs: 2</code></pre>




    <h5 class="h5-parameters">Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>value</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>



            
            </td>

            

            

            <td class="description last"><p>New maxYAxes count (must be &gt;= 1)</p></td>
        </tr>

    
    </tbody>
</table>














<h5 class="h5-throws">Throws:</h5>

        

<dl>
    <dt>
        <div class="param-desc usertext">
        <p>Does not throw, but logs warning if value is invalid</p>
        </div>
    </dt>
    <dd></dd>
    <dt>
        <dl class="param-type">
            <dt>
                Type
            </dt>
            <dd>
                
<span class="param-type">void</span>



            </dd>
        </dl>
    </dt>
    <dd></dd>
</dl>


    


<h5 class="h5-returns">Returns:</h5>

        


<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">void</span>



    </dd>
</dl>

    



        
    

    

    
</article>

</section>







<section>

<header>
    
        
            
        
            
        
            
        
            
        
            
        
    
</header>

<article>
    
        <div class="container-overview">
        
            
                <div class="description usertext"><h3>Automatic Channel Grouping Utilities</h3>
<p>Intelligently groups COMTRADE channels based on naming patterns.
Designed for protection relays (SEL, ABB, Siemens, GE) and power quality meters.</p>
<h4>Purpose</h4>
<p>COMTRADE files can contain dozens or hundreds of channels.
This module auto-groups related channels for organized visualization:</p>
<table>
  <tr><th>Channel Type</th><th>Example Inputs</th><th>Result</th></tr>
  <tr><td>Currents</td><td>IA, IB, IC, IN</td><td>→ One chart</td></tr>
  <tr><td>Voltages</td><td>VA, VB, VC, VN</td><td>→ One chart</td></tr>
  <tr><td>Protection</td><td>TRIP, CLOSE, 52A</td><td>→ One chart</td></tr>
  <tr><td>Power Quality</td><td>SAG, SWELL, HARM</td><td>→ Grouped by type</td></tr>
</table>
<h4>Grouping Strategy</h4>
<ol>
  <li><strong>Pattern Matching</strong> — Match against known naming conventions</li>
  <li><strong>User Override</strong> — User-defined groups take priority</li>
  <li><strong>Catch-All</strong> — Unmatched channels go to default group</li>
</ol>
<h4>Supported Patterns</h4>
<p><strong>Analog:</strong></p>
<ul>
  <li><code>IA</code>, <code>IB</code>, <code>IC</code>, <code>IN</code> — Phase currents</li>
  <li><code>VA</code>, <code>VB</code>, <code>VC</code>, <code>VN</code> — Phase voltages</li>
  <li><code>IL1</code>, <code>IL2</code>, <code>IL3</code> — Line currents (IEC)</li>
  <li><code>UL1</code>, <code>UL2</code>, <code>UL3</code> — Line voltages (IEC)</li>
</ul>
<p><strong>Digital:</strong></p>
<ul>
  <li><code>TRIP</code>, <code>FAULT</code>, <code>BLOCK</code> — Protection events</li>
  <li><code>52A</code>, <code>52B</code> — Breaker status</li>
  <li><code>OUT</code>, <code>IN</code>, <code>RMB</code>, <code>TMB</code> — I/O signals</li>
  <li><code>SV</code>, <code>DP</code>, <code>VB</code> — IEC 61850</li>
</ul>
<p><strong>Power Quality:</strong></p>
<ul>
  <li><code>SAG</code>, <code>SWELL</code>, <code>INT</code> — Voltage events</li>
  <li><code>HARM02</code>-<code>HARM15</code> — Harmonics</li>
  <li><code>ITIC</code> — ITIC curve violations</li>
</ul></div>
            

            
                




<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li><p>Pure functional approach to analyze chart groups and publish the required number of Y-axes
to the global store. Replaces imperative destroy/rebuild logic with reactive state management.</p>
<p><strong>Architecture Overview:</strong>
This module is the &quot;calculator&quot; in the multi-Y-axes functional approach:</p>
<pre class="prettyprint source"><code>Event: Group changed (user reassigns channel to different group)
    ↓
chartManager.js detects change via group subscriber
    ↓
Calls analyzeGroupsAndPublishMaxYAxes(charts, channelState, cfg)
    ↓
This function:
  1. Reads group assignments from channelState
  2. For each group, calls calculateAxisCountForGroup()
  3. Finds max axis count across all groups
  4. Calls setMaxYAxes() to publish to global store
    ↓
renderAnalogCharts, renderDigitalCharts, renderComputedChannels
read updated maxYAxes via getMaxYAxes() and create correct axis count
</code></pre>
<p><strong>Key Feature: Pure Function</strong></p>
<ul>
<li>No side effects except calling setMaxYAxes()</li>
<li>Deterministic: same input = same output</li>
<li>Easy to test: no global state pollution</li>
<li>Memory safe: no subscriptions to manage</li>
</ul>
<p><strong>What Gets Analyzed:</strong></p>
<ul>
<li>User-assigned groups from channelState.analog.groups</li>
<li>Channel units (V, A, W, Hz) from cfg.analogChannels</li>
<li>Axis requirements per group (via axisCalculator.js)</li>
</ul>
<p><strong>Automatic Chart Updates:</strong>
When maxYAxes is published, charts don't automatically re-render.
They must be destroyed and rebuilt by the group subscriber to apply new axis count.
The global store just maintains the &quot;correct&quot; value for all new chart renders.</p></li></ul></dd>
    

    

    

    
    <dt class="tag-since">Since:</dt>
    <dd class="tag-since"><ul class="dummy"><li>2.0.0</li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>











    <h5 class="h5-examples">Example</h5>
    
    <pre class="prettyprint"><code>// In a group change subscriber (chartManager.js)import { analyzeGroupsAndPublishMaxYAxes } from '../utils/analyzeGroupsAndPublish.js';const newMaxYAxes = analyzeGroupsAndPublishMaxYAxes(charts, channelState, cfg);console.log(`New axis count published: ${newMaxYAxes}`);// Then, elsewhere in the group subscriber, charts are destroyed and re-rendered// with the updated maxYAxes value</code></pre>





















            
                




<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li><p>Centralized reactive state store for managing the number of Y-axes across all chart types.
Implements a &quot;single source of truth&quot; pattern similar to React Context API.</p>
<p><strong>Role in Multi-Y-Axes Architecture:</strong></p>
<pre class="prettyprint source"><code>Group Change Event
    ↓
analyzeGroupsAndPublish() calculates maxYAxes
    ↓
setMaxYAxes() publishes to this store
    ↓
renderAnalogCharts, renderDigitalCharts, renderComputedChannels
all read from getMaxYAxes() and update axes count
</code></pre>
<p><strong>Why Not Subscriptions?</strong>
Uses createState (reactive object) instead of .subscribe() callbacks to avoid:</p>
<ul>
<li>Memory leaks from forgotten unsubscribes</li>
<li>Callback chains that are hard to debug</li>
<li>Global event listeners that accumulate</li>
</ul>
<p>Instead, each component simply calls getMaxYAxes() when building charts.</p></li></ul></dd>
    

    

    

    
    <dt class="tag-since">Since:</dt>
    <dd class="tag-since"><ul class="dummy"><li>2.0.0</li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>











    <h5 class="h5-examples">Examples</h5>
    
    <pre class="prettyprint"><code>// In a chart rendering functionimport { getMaxYAxes } from '../utils/maxYAxesStore.js';const maxYAxes = getMaxYAxes(); // Get current value (1, 2, 3, etc.)const opts = createChartOptions({  maxYAxes: maxYAxes,  // ... other options});</code></pre>

    <pre class="prettyprint"><code>// In a group change handlerimport { setMaxYAxes } from '../utils/maxYAxesStore.js';// After analyzing groups and calculating required axessetMaxYAxes(2); // Publish new value// Charts automatically use this when they next render/update</code></pre>





















            
                




<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li><h3>Automatic Channel Grouping Utilities</h3>
<p>Intelligently groups COMTRADE channels based on naming patterns.
Designed for protection relays (SEL, ABB, Siemens, GE) and power quality meters.</p>
<h4>Purpose</h4>
<p>COMTRADE files can contain dozens or hundreds of channels.
This module auto-groups related channels for organized visualization:</p>
<table>
  <tr><th>Channel Type</th><th>Example Inputs</th><th>Result</th></tr>
  <tr><td>Currents</td><td>IA, IB, IC, IN</td><td>→ One chart</td></tr>
  <tr><td>Voltages</td><td>VA, VB, VC, VN</td><td>→ One chart</td></tr>
  <tr><td>Protection</td><td>TRIP, CLOSE, 52A</td><td>→ One chart</td></tr>
  <tr><td>Power Quality</td><td>SAG, SWELL, HARM</td><td>→ Grouped by type</td></tr>
</table>
<h4>Grouping Strategy</h4>
<ol>
  <li><strong>Pattern Matching</strong> — Match against known naming conventions</li>
  <li><strong>User Override</strong> — User-defined groups take priority</li>
  <li><strong>Catch-All</strong> — Unmatched channels go to default group</li>
</ol>
<h4>Supported Patterns</h4>
<p><strong>Analog:</strong></p>
<ul>
  <li><code>IA</code>, <code>IB</code>, <code>IC</code>, <code>IN</code> — Phase currents</li>
  <li><code>VA</code>, <code>VB</code>, <code>VC</code>, <code>VN</code> — Phase voltages</li>
  <li><code>IL1</code>, <code>IL2</code>, <code>IL3</code> — Line currents (IEC)</li>
  <li><code>UL1</code>, <code>UL2</code>, <code>UL3</code> — Line voltages (IEC)</li>
</ul>
<p><strong>Digital:</strong></p>
<ul>
  <li><code>TRIP</code>, <code>FAULT</code>, <code>BLOCK</code> — Protection events</li>
  <li><code>52A</code>, <code>52B</code> — Breaker status</li>
  <li><code>OUT</code>, <code>IN</code>, <code>RMB</code>, <code>TMB</code> — I/O signals</li>
  <li><code>SV</code>, <code>DP</code>, <code>VB</code> — IEC 61850</li>
</ul>
<p><strong>Power Quality:</strong></p>
<ul>
  <li><code>SAG</code>, <code>SWELL</code>, <code>INT</code> — Voltage events</li>
  <li><code>HARM02</code>-<code>HARM15</code> — Harmonics</li>
  <li><code>ITIC</code> — ITIC curve violations</li>
</ul></li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li><a href="module-components_renderComtradeCharts.html"><code>module:components/renderComtradeCharts</code></a></li>
        
            <li><a href="module-components_renderSingleAnalogChart.html"><code>module:components/renderSingleAnalogChart</code></a></li>
        
            <li><a href="module-components_renderSingleDigitalChart.html"><code>module:components/renderSingleDigitalChart</code></a></li>
        </ul>
    </dd>
    

    
</dl>











    <h5 class="h5-examples">Examples</h5>
    
    <pre class="prettyprint"><code>// Auto-group analog channelsimport { autoGroupChannels } from "./autoGroupChannels.js";const channels = [  { id: "IA" }, { id: "IB" }, { id: "IC" },  { id: "VA" }, { id: "VB" }, { id: "VC" }];const groups = autoGroupChannels(channels);// { "G0": [0, 1, 2], "G1": [3, 4, 5] }// G0 = Currents, G1 = Voltages</code></pre>

    <pre class="prettyprint"><code>// User-defined groups with fallbackimport { buildChannelGroups } from "./autoGroupChannels.js";const userGroups = ["Currents", "Currents", "Currents", "", "", ""];const groups = buildChannelGroups(userGroups, channels);// { "Currents": [0, 1, 2], "G0": [3, 4, 5] }</code></pre>





















            
                




<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li><p>Calculate the global maxYAxes count and publish to the global store
This is the single place where axis calculation happens</p></li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>






























            
                




<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li><p>groupingUtils module</p></li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>






























            
        
        </div>
    

    

    

    
    
    

     

    

    
        <h3 class="subsection-title">Members</h3>

        
            
<h4 class="name" id="~GROUP_PATTERNS"><span class="type-signature type-signature-inner, constant">(inner, constant) </span>GROUP_PATTERNS<span class="type-signature"> :Array.&lt;Object></span></h4>





<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li><p>Channel grouping patterns for automatic grouping.
Each pattern is a regex that matches specific channel naming conventions.
Patterns are processed in order - first match wins.</p></li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>



    <h5 class="subsection-title">Properties:</h5>

    

<table class="props">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>regex</code></td>
            

            <td class="type">
            
                
<span class="param-type">RegExp</span>



            
            </td>

            

            

            <td class="description last"><p>Regular expression to match channel IDs</p></td>
        </tr>

    
    </tbody>
</table>






<div class="description usertext">
    <p>Channel grouping patterns for automatic grouping.
Each pattern is a regex that matches specific channel naming conventions.
Patterns are processed in order - first match wins.</p>
</div>



    <h5 class="h5-types">Type:</h5>
    <ul>
        <li>
            
<span class="param-type">Array.&lt;Object></span>



        </li>
    </ul>





    <h5 class="h5-examples">Example</h5>
    
    <pre class="prettyprint"><code>// Pattern matching examples:// /^I[ABCN]$/i  matches: IA, IB, IC, IN (case insensitive)// /^V[ABCN]$/i  matches: VA, VB, VC, VN// /^HARM\d+$/i matches: HARM02, HARM03, HARM15</code></pre>



        
    

    
        <h3 class="subsection-title">Methods</h3>

        
            

    

    <h4 class="name" id=".buildChartData"><span class="type-signature type-signature-static">(static) </span>buildChartData<span class="signature">(timeArray, analogSeriesWithData, data, sampleCount, computedForGroup)</span><span class="type-signature"> &rarr; {Array}</span></h4>

    




<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li><p>Build chart data array combining analog and computed channels</p></li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>













    <h5 class="h5-parameters">Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>timeArray</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array</span>



            
            </td>

            

            

            <td class="description last"><p>Time array for X-axis</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>analogSeriesWithData</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array</span>



            
            </td>

            

            

            <td class="description last"><p>Indices of analog series with data</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>data</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>



            
            </td>

            

            

            <td class="description last"><p>Data object containing analogData</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>sampleCount</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>



            
            </td>

            

            

            <td class="description last"><p>Number of samples to use</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>computedForGroup</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array</span>



            
            </td>

            

            

            <td class="description last"><p>Array of computed channels</p></td>
        </tr>

    
    </tbody>
</table>
















<h5 class="h5-returns">Returns:</h5>

        
<div class="param-desc">
    <p>Chart data array [timeArray, ...series]</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Array</span>



    </dd>
</dl>

    



        
            

    

    <h4 class="name" id=".buildGroupsWithAutoGrouping"><span class="type-signature type-signature-static">(static) </span>buildGroupsWithAutoGrouping<span class="signature">(totalAnalog, channelIDs, channelState, autoGroupChannels)</span><span class="type-signature"> &rarr; {Array}</span></h4>

    




<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li><p>Build groups using full auto-grouping for all channels</p></li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>













    <h5 class="h5-parameters">Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>totalAnalog</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array</span>



            
            </td>

            

            

            <td class="description last"><p>Array of all analog channel objects</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>channelIDs</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array</span>



            
            </td>

            

            

            <td class="description last"><p>Array of channel IDs</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>channelState</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>



            
            </td>

            

            

            <td class="description last"><p>Channel state object with yLabels, yUnits, etc.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>autoGroupChannels</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>



            
            </td>

            

            

            <td class="description last"><p>Function to auto-group channels</p></td>
        </tr>

    
    </tbody>
</table>
















<h5 class="h5-returns">Returns:</h5>

        
<div class="param-desc">
    <p>Array of group objects with { name, indices, ids, axisCount, colors }</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Array</span>



    </dd>
</dl>

    



        
            

    

    <h4 class="name" id=".buildGroupsWithUserAssignments"><span class="type-signature type-signature-static">(static) </span>buildGroupsWithUserAssignments<span class="signature">(userGroups, totalAnalog, channelIDs, autoGroupChannels)</span><span class="type-signature"> &rarr; {Array}</span></h4>

    




<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li><p>Build groups from user-assigned groups and auto-group unassigned channels</p></li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>













    <h5 class="h5-parameters">Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>userGroups</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array</span>



            
            </td>

            

            

            <td class="description last"><p>Array of group names assigned to each channel</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>totalAnalog</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array</span>



            
            </td>

            

            

            <td class="description last"><p>Array of all analog channel objects</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>channelIDs</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array</span>



            
            </td>

            

            

            <td class="description last"><p>Array of channel IDs</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>autoGroupChannels</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>



            
            </td>

            

            

            <td class="description last"><p>Function to auto-group channels</p></td>
        </tr>

    
    </tbody>
</table>
















<h5 class="h5-returns">Returns:</h5>

        
<div class="param-desc">
    <p>Array of group objects with { name, indices, ids, axisCount, colors }</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Array</span>



    </dd>
</dl>

    



        
            

    

    <h4 class="name" id=".calculateAndPublishMaxYAxes"><span class="type-signature type-signature-static">(static) </span>calculateAndPublishMaxYAxes<span class="signature">(groups)</span><span class="type-signature"> &rarr; {number}</span></h4>

    




<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li><p>Calculate maxYAxes based on group composition and publish to store</p></li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>











    <h5 class="h5-examples">Example</h5>
    
    <pre class="prettyprint"><code>const groups = [  { indices: [0,1,2], name: "G0" },  { indices: [3], name: "G1" }];const maxYAxes = calculateAndPublishMaxYAxes(groups);// Returns: 2</code></pre>




    <h5 class="h5-parameters">Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>groups</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array</span>



            
            </td>

            

            

            <td class="description last"><p>Array of group objects with channels</p></td>
        </tr>

    
    </tbody>
</table>
















<h5 class="h5-returns">Returns:</h5>

        
<div class="param-desc">
    <p>The calculated maxYAxes value</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">number</span>



    </dd>
</dl>

    



        
            

    

    <h4 class="name" id=".calculateAndPublishMaxYAxesFromState"><span class="type-signature type-signature-static">(static) </span>calculateAndPublishMaxYAxesFromState<span class="signature">(channelState, cfg)</span><span class="type-signature"> &rarr; {number}</span></h4>

    




<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li><p>Batch calculate for both analog and digital if available</p></li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>













    <h5 class="h5-parameters">Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>channelState</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>



            
            </td>

            

            

            <td class="description last"><p>Channel state object</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>cfg</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>



            
            </td>

            

            

            <td class="description last"><p>COMTRADE config object</p></td>
        </tr>

    
    </tbody>
</table>
















<h5 class="h5-returns">Returns:</h5>

        
<div class="param-desc">
    <p>The calculated maxYAxes value</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">number</span>



    </dd>
</dl>

    



        
            

    

    <h4 class="name" id=".computeChartDataDimensions"><span class="type-signature type-signature-static">(static) </span>computeChartDataDimensions<span class="signature">(validIndices, data, computedForGroup)</span><span class="type-signature"> &rarr; {Object}</span></h4>

    




<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li><p>Find analog series with data and compute sample count</p></li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>













    <h5 class="h5-parameters">Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>validIndices</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array</span>



            
            </td>

            

            

            <td class="description last"><p>Array of valid channel indices</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>data</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>



            
            </td>

            

            

            <td class="description last"><p>Data object containing analogData</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>computedForGroup</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array</span>



            
            </td>

            

            

            <td class="description last"><p>Array of computed channels for this group</p></td>
        </tr>

    
    </tbody>
</table>
















<h5 class="h5-returns">Returns:</h5>

        
<div class="param-desc">
    <p>Object with analogSeriesWithData, sampleCount, timeArray</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Object</span>



    </dd>
</dl>

    



        
            

    

    <h4 class="name" id=".extractChannelMetadata"><span class="type-signature type-signature-static">(static) </span>extractChannelMetadata<span class="signature">(validIndices, channelState)</span><span class="type-signature"> &rarr; {Object}</span></h4>

    




<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li><p>Extract channel metadata from state for valid indices</p></li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>













    <h5 class="h5-parameters">Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>validIndices</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array</span>



            
            </td>

            

            

            <td class="description last"><p>Array of valid channel indices</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>channelState</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>



            
            </td>

            

            

            <td class="description last"><p>Channel state object</p></td>
        </tr>

    
    </tbody>
</table>
















<h5 class="h5-returns">Returns:</h5>

        
<div class="param-desc">
    <p>Object with yLabels, lineColors, yUnits, axesScales, xLabel, xUnit</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Object</span>



    </dd>
</dl>

    



        
            

    

    <h4 class="name" id=".extractGroupId"><span class="type-signature type-signature-static">(static) </span>extractGroupId<span class="signature">(validIndices, userGroups, groupName)</span><span class="type-signature"> &rarr; {string}</span></h4>

    




<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li><p>Extract group ID from first valid channel in group</p></li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>













    <h5 class="h5-parameters">Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>validIndices</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array</span>



            
            </td>

            

            

            <td class="description last"><p>Array of valid channel indices</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>userGroups</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array</span>



            
            </td>

            

            

            <td class="description last"><p>Array of group names per channel</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>groupName</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>



            
            </td>

            

            

            <td class="description last"><p>Fallback group name if no valid indices</p></td>
        </tr>

    
    </tbody>
</table>
















<h5 class="h5-returns">Returns:</h5>

        
<div class="param-desc">
    <p>Group ID or empty string</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">string</span>



    </dd>
</dl>

    



        
            

    

    <h4 class="name" id=".filterGroupsWithChannels"><span class="type-signature type-signature-static">(static) </span>filterGroupsWithChannels<span class="signature">(groups)</span><span class="type-signature"> &rarr; {Array}</span></h4>

    




<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li><p>Filter groups to only include those with actual channels</p></li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>













    <h5 class="h5-parameters">Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>groups</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array</span>



            
            </td>

            

            

            <td class="description last"><p>Array of group objects</p></td>
        </tr>

    
    </tbody>
</table>
















<h5 class="h5-returns">Returns:</h5>

        
<div class="param-desc">
    <p>Filtered array of groups with channels</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Array</span>



    </dd>
</dl>

    



        
            

    

    <h4 class="name" id=".filterValidIndices"><span class="type-signature type-signature-static">(static) </span>filterValidIndices<span class="signature">(indices, maxLength)</span><span class="type-signature"> &rarr; {Array}</span></h4>

    




<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li><p>Filter indices to only those within valid bounds</p></li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>













    <h5 class="h5-parameters">Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>indices</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array</span>



            
            </td>

            

            

            <td class="description last"><p>Array of channel indices</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>maxLength</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>



            
            </td>

            

            

            <td class="description last"><p>Maximum valid index (exclusive)</p></td>
        </tr>

    
    </tbody>
</table>
















<h5 class="h5-returns">Returns:</h5>

        
<div class="param-desc">
    <p>Filtered array of valid indices</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Array</span>



    </dd>
</dl>

    



        
            

    

    <h4 class="name" id=".mergeAnalogAndComputedMetadata"><span class="type-signature type-signature-static">(static) </span>mergeAnalogAndComputedMetadata<span class="signature">(includedAnalogIndices, metadata, computedForGroup)</span><span class="type-signature"> &rarr; {Object}</span></h4>

    




<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li><p>Merge analog and computed channel metadata for chart display</p></li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>













    <h5 class="h5-parameters">Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>includedAnalogIndices</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array</span>



            
            </td>

            

            

            <td class="description last"><p>Indices of included analog channels</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>metadata</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>



            
            </td>

            

            

            <td class="description last"><p>Object with yLabels, lineColors, yUnits, axesScales</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>computedForGroup</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array</span>



            
            </td>

            

            

            <td class="description last"><p>Array of computed channels</p></td>
        </tr>

    
    </tbody>
</table>
















<h5 class="h5-returns">Returns:</h5>

        
<div class="param-desc">
    <p>Object with merged labels, colors, units, scales</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Object</span>



    </dd>
</dl>

    



        
            

    

    <h4 class="name" id=".resolveGroupIndices"><span class="type-signature type-signature-static">(static) </span>resolveGroupIndices<span class="signature">(group, channelIDs)</span><span class="type-signature"> &rarr; {Array}</span></h4>

    




<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li><p>Resolve channel indices for a group from IDs and fallback indices</p></li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>













    <h5 class="h5-parameters">Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>group</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>



            
            </td>

            

            

            <td class="description last"><p>Group object with ids and indices properties</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>channelIDs</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array</span>



            
            </td>

            

            

            <td class="description last"><p>Array of all channel IDs for lookup</p></td>
        </tr>

    
    </tbody>
</table>
















<h5 class="h5-returns">Returns:</h5>

        
<div class="param-desc">
    <p>Array of resolved indices</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Array</span>



    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="~analyzeGroupsAndPublishMaxYAxes"><span class="type-signature type-signature-inner">(inner) </span>analyzeGroupsAndPublishMaxYAxes<span class="signature">(charts, channelState, cfg)</span><span class="type-signature"> &rarr; {number}</span></h4>

    




<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li><p><strong>Algorithm:</strong></p>
<ol>
<li>Extract group assignments from channelState.analog.groups</li>
<li>Convert string IDs (&quot;G0&quot;, &quot;G1&quot;) to numeric (0, 1) for consistency</li>
<li>For each unique group ID:
<ul>
<li>Collect all channels in that group</li>
<li>Call calculateAxisCountForGroup() to determine axis requirements</li>
<li>Store result in groupsWithAxisCounts array</li>
</ul>
</li>
<li>Find maximum axisCount across all groups</li>
<li>Publish to global store via setMaxYAxes()</li>
<li>Log detailed analysis for debugging</li>
<li>Return published value</li>
</ol>
<p><strong>Error Handling:</strong>
If any error occurs during analysis, logs the error and falls back to maxYAxes=1.
This ensures the app never breaks due to analysis failures.</p></li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>











    <h5 class="h5-examples">Examples</h5>
    
    <pre class="prettyprint"><code>// In a group change handlerconst maxYAxes = analyzeGroupsAndPublishMaxYAxes(charts, channelState, cfg);// Output: 2 (if any group needs 2+ axes)// Side effect: setMaxYAxes(2) called internally// All future chart renders will use 2 Y-axes</code></pre>

    <pre class="prettyprint"><code>// Console output shows group analysis:// [analyzeGroupsAndPublishMaxYAxes] 📊 Analysis: G0(3ch,1ax:[V,V,V]) | G1(2ch,2ax:[A,A])// [analyzeGroupsAndPublishMaxYAxes] 🎯 Publishing maxYAxes: 2</code></pre>




    <h5 class="h5-parameters">Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>charts</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array</span>



            
            </td>

            

            

            <td class="description last"><p>Array of chart instances (for reference/logging only)</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>channelState</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>



            
            </td>

            

            

            <td class="description last"><p>Reactive channel state object</p>
                <h6>Properties</h6>
                

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>analog</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array</span>



            
            </td>

            

            

            <td class="description last"><p>Analog channel state</p>
                <h6>Properties</h6>
                

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>groups</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array</span>



            
            </td>

            

            

            <td class="description last"><p>Group assignment array (indices align with channels)</p></td>
        </tr>

    
    </tbody>
</table>

            </td>
        </tr>

    
    </tbody>
</table>

            </td>
        </tr>

    

        <tr>
            
                <td class="name"><code>cfg</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>



            
            </td>

            

            

            <td class="description last"><p>COMTRADE configuration object</p>
                <h6>Properties</h6>
                

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>analogChannels</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array</span>



            
            </td>

            

            

            <td class="description last"><p>Array of analog channel definitions with unit/name</p></td>
        </tr>

    
    </tbody>
</table>

            </td>
        </tr>

    
    </tbody>
</table>
















<h5 class="h5-returns">Returns:</h5>

        
<div class="param-desc">
    <p>The calculated and published maxYAxes value (1, 2, 3, etc.)</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">number</span>



    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="~analyzeSpecificGroup"><span class="type-signature type-signature-inner">(inner) </span>analyzeSpecificGroup<span class="signature">(groupId, channelState, cfg)</span><span class="type-signature"> &rarr; {number}</span></h4>

    




<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li><p>This is a lower-level utility for when you need to check a single group.
It does NOT call setMaxYAxes(), so it won't affect the global state.
Useful for:</p>
<ul>
<li>Validation before publishing</li>
<li>Debugging individual groups</li>
<li>Testing group analysis logic</li>
</ul></li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>











    <h5 class="h5-examples">Example</h5>
    
    <pre class="prettyprint"><code>const axisCount = analyzeSpecificGroup(0, channelState, cfg);console.log(`Group 0 needs ${axisCount} axes`);</code></pre>




    <h5 class="h5-parameters">Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>groupId</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>
|

<span class="param-type">string</span>



            
            </td>

            

            

            <td class="description last"><p>The group to analyze (0, 1, &quot;G0&quot;, &quot;G1&quot;, etc.)</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>channelState</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>



            
            </td>

            

            

            <td class="description last"><p>Reactive channel state object</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>cfg</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>



            
            </td>

            

            

            <td class="description last"><p>COMTRADE configuration object</p></td>
        </tr>

    
    </tbody>
</table>
















<h5 class="h5-returns">Returns:</h5>

        
<div class="param-desc">
    <p>Axis count needed for this specific group (1, 2, etc.)</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">number</span>



    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="~getMaxYAxes"><span class="type-signature type-signature-inner">(inner) </span>getMaxYAxes<span class="signature">()</span><span class="type-signature"> &rarr; {number}</span></h4>

    




<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li><p>Get current maxYAxes value from global store</p></li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>











    <h5 class="h5-examples">Example</h5>
    
    <pre class="prettyprint"><code>const axes = getMaxYAxes();console.log(axes); // 1, 2, or higher</code></pre>


















<h5 class="h5-returns">Returns:</h5>

        
<div class="param-desc">
    <p>Current maxYAxes count (1, 2, 3, etc.)</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">number</span>



    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="~getMaxYAxesState"><span class="type-signature type-signature-inner">(inner) </span>getMaxYAxesState<span class="signature">()</span><span class="type-signature"> &rarr; {Object}</span></h4>

    




<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li><p>WARNING: Only use this if you need reactive subscriptions.
Remember to unsubscribe to avoid memory leaks!</p>
<p>The returned object's properties update reactively whenever setMaxYAxes() is called.
You can subscribe to changes like:</p>
<pre class="prettyprint source lang-javascript"><code>const unsub = getMaxYAxesState().subscribe(() => {
  console.log('maxYAxes changed to:', getMaxYAxes());
});
// When done, call unsub() to clean up
</code></pre></li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>











    <h5 class="h5-examples">Example</h5>
    
    <pre class="prettyprint"><code>const state = getMaxYAxesState();// Now state.maxYAxes === getMaxYAxes()</code></pre>


















<h5 class="h5-returns">Returns:</h5>

        
<div class="param-desc">
    <p>The createState object with reactive properties</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Object</span>



    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="~resetMaxYAxes"><span class="type-signature type-signature-inner">(inner) </span>resetMaxYAxes<span class="signature">()</span><span class="type-signature"> &rarr; {void}</span></h4>

    




<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li><p>Reset maxYAxes to default value (1)</p></li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>











    <h5 class="h5-examples">Example</h5>
    
    <pre class="prettyprint"><code>resetMaxYAxes(); // Back to 1 Y-axis for all charts</code></pre>


















<h5 class="h5-returns">Returns:</h5>

        


<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">void</span>



    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="~setMaxYAxes"><span class="type-signature type-signature-inner">(inner) </span>setMaxYAxes<span class="signature">(value)</span><span class="type-signature"> &rarr; {void}</span></h4>

    




<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li><p>Set maxYAxes value in global store (publish new state)</p></li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>











    <h5 class="h5-examples">Example</h5>
    
    <pre class="prettyprint"><code>setMaxYAxes(2); // All charts will now use 2 Y-axesconsole.log(getMaxYAxes()); // Outputs: 2</code></pre>




    <h5 class="h5-parameters">Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>value</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>



            
            </td>

            

            

            <td class="description last"><p>New maxYAxes count (must be &gt;= 1)</p></td>
        </tr>

    
    </tbody>
</table>














<h5 class="h5-throws">Throws:</h5>

        

<dl>
    <dt>
        <div class="param-desc usertext">
        <p>Does not throw, but logs warning if value is invalid</p>
        </div>
    </dt>
    <dd></dd>
    <dt>
        <dl class="param-type">
            <dt>
                Type
            </dt>
            <dd>
                
<span class="param-type">void</span>



            </dd>
        </dl>
    </dt>
    <dd></dd>
</dl>


    


<h5 class="h5-returns">Returns:</h5>

        


<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">void</span>



    </dd>
</dl>

    



        
    

    

    
</article>

</section>







<section>

<header>
    
        
            
        
            
        
            
        
            
        
            
        
    
</header>

<article>
    
        <div class="container-overview">
        
            
                <div class="description usertext"><p>Calculate the global maxYAxes count and publish to the global store
This is the single place where axis calculation happens</p></div>
            

            
                




<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li><p>Pure functional approach to analyze chart groups and publish the required number of Y-axes
to the global store. Replaces imperative destroy/rebuild logic with reactive state management.</p>
<p><strong>Architecture Overview:</strong>
This module is the &quot;calculator&quot; in the multi-Y-axes functional approach:</p>
<pre class="prettyprint source"><code>Event: Group changed (user reassigns channel to different group)
    ↓
chartManager.js detects change via group subscriber
    ↓
Calls analyzeGroupsAndPublishMaxYAxes(charts, channelState, cfg)
    ↓
This function:
  1. Reads group assignments from channelState
  2. For each group, calls calculateAxisCountForGroup()
  3. Finds max axis count across all groups
  4. Calls setMaxYAxes() to publish to global store
    ↓
renderAnalogCharts, renderDigitalCharts, renderComputedChannels
read updated maxYAxes via getMaxYAxes() and create correct axis count
</code></pre>
<p><strong>Key Feature: Pure Function</strong></p>
<ul>
<li>No side effects except calling setMaxYAxes()</li>
<li>Deterministic: same input = same output</li>
<li>Easy to test: no global state pollution</li>
<li>Memory safe: no subscriptions to manage</li>
</ul>
<p><strong>What Gets Analyzed:</strong></p>
<ul>
<li>User-assigned groups from channelState.analog.groups</li>
<li>Channel units (V, A, W, Hz) from cfg.analogChannels</li>
<li>Axis requirements per group (via axisCalculator.js)</li>
</ul>
<p><strong>Automatic Chart Updates:</strong>
When maxYAxes is published, charts don't automatically re-render.
They must be destroyed and rebuilt by the group subscriber to apply new axis count.
The global store just maintains the &quot;correct&quot; value for all new chart renders.</p></li></ul></dd>
    

    

    

    
    <dt class="tag-since">Since:</dt>
    <dd class="tag-since"><ul class="dummy"><li>2.0.0</li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>











    <h5 class="h5-examples">Example</h5>
    
    <pre class="prettyprint"><code>// In a group change subscriber (chartManager.js)import { analyzeGroupsAndPublishMaxYAxes } from '../utils/analyzeGroupsAndPublish.js';const newMaxYAxes = analyzeGroupsAndPublishMaxYAxes(charts, channelState, cfg);console.log(`New axis count published: ${newMaxYAxes}`);// Then, elsewhere in the group subscriber, charts are destroyed and re-rendered// with the updated maxYAxes value</code></pre>





















            
                




<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li><p>Centralized reactive state store for managing the number of Y-axes across all chart types.
Implements a &quot;single source of truth&quot; pattern similar to React Context API.</p>
<p><strong>Role in Multi-Y-Axes Architecture:</strong></p>
<pre class="prettyprint source"><code>Group Change Event
    ↓
analyzeGroupsAndPublish() calculates maxYAxes
    ↓
setMaxYAxes() publishes to this store
    ↓
renderAnalogCharts, renderDigitalCharts, renderComputedChannels
all read from getMaxYAxes() and update axes count
</code></pre>
<p><strong>Why Not Subscriptions?</strong>
Uses createState (reactive object) instead of .subscribe() callbacks to avoid:</p>
<ul>
<li>Memory leaks from forgotten unsubscribes</li>
<li>Callback chains that are hard to debug</li>
<li>Global event listeners that accumulate</li>
</ul>
<p>Instead, each component simply calls getMaxYAxes() when building charts.</p></li></ul></dd>
    

    

    

    
    <dt class="tag-since">Since:</dt>
    <dd class="tag-since"><ul class="dummy"><li>2.0.0</li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>











    <h5 class="h5-examples">Examples</h5>
    
    <pre class="prettyprint"><code>// In a chart rendering functionimport { getMaxYAxes } from '../utils/maxYAxesStore.js';const maxYAxes = getMaxYAxes(); // Get current value (1, 2, 3, etc.)const opts = createChartOptions({  maxYAxes: maxYAxes,  // ... other options});</code></pre>

    <pre class="prettyprint"><code>// In a group change handlerimport { setMaxYAxes } from '../utils/maxYAxesStore.js';// After analyzing groups and calculating required axessetMaxYAxes(2); // Publish new value// Charts automatically use this when they next render/update</code></pre>





















            
                




<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li><h3>Automatic Channel Grouping Utilities</h3>
<p>Intelligently groups COMTRADE channels based on naming patterns.
Designed for protection relays (SEL, ABB, Siemens, GE) and power quality meters.</p>
<h4>Purpose</h4>
<p>COMTRADE files can contain dozens or hundreds of channels.
This module auto-groups related channels for organized visualization:</p>
<table>
  <tr><th>Channel Type</th><th>Example Inputs</th><th>Result</th></tr>
  <tr><td>Currents</td><td>IA, IB, IC, IN</td><td>→ One chart</td></tr>
  <tr><td>Voltages</td><td>VA, VB, VC, VN</td><td>→ One chart</td></tr>
  <tr><td>Protection</td><td>TRIP, CLOSE, 52A</td><td>→ One chart</td></tr>
  <tr><td>Power Quality</td><td>SAG, SWELL, HARM</td><td>→ Grouped by type</td></tr>
</table>
<h4>Grouping Strategy</h4>
<ol>
  <li><strong>Pattern Matching</strong> — Match against known naming conventions</li>
  <li><strong>User Override</strong> — User-defined groups take priority</li>
  <li><strong>Catch-All</strong> — Unmatched channels go to default group</li>
</ol>
<h4>Supported Patterns</h4>
<p><strong>Analog:</strong></p>
<ul>
  <li><code>IA</code>, <code>IB</code>, <code>IC</code>, <code>IN</code> — Phase currents</li>
  <li><code>VA</code>, <code>VB</code>, <code>VC</code>, <code>VN</code> — Phase voltages</li>
  <li><code>IL1</code>, <code>IL2</code>, <code>IL3</code> — Line currents (IEC)</li>
  <li><code>UL1</code>, <code>UL2</code>, <code>UL3</code> — Line voltages (IEC)</li>
</ul>
<p><strong>Digital:</strong></p>
<ul>
  <li><code>TRIP</code>, <code>FAULT</code>, <code>BLOCK</code> — Protection events</li>
  <li><code>52A</code>, <code>52B</code> — Breaker status</li>
  <li><code>OUT</code>, <code>IN</code>, <code>RMB</code>, <code>TMB</code> — I/O signals</li>
  <li><code>SV</code>, <code>DP</code>, <code>VB</code> — IEC 61850</li>
</ul>
<p><strong>Power Quality:</strong></p>
<ul>
  <li><code>SAG</code>, <code>SWELL</code>, <code>INT</code> — Voltage events</li>
  <li><code>HARM02</code>-<code>HARM15</code> — Harmonics</li>
  <li><code>ITIC</code> — ITIC curve violations</li>
</ul></li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li><a href="module-components_renderComtradeCharts.html"><code>module:components/renderComtradeCharts</code></a></li>
        
            <li><a href="module-components_renderSingleAnalogChart.html"><code>module:components/renderSingleAnalogChart</code></a></li>
        
            <li><a href="module-components_renderSingleDigitalChart.html"><code>module:components/renderSingleDigitalChart</code></a></li>
        </ul>
    </dd>
    

    
</dl>











    <h5 class="h5-examples">Examples</h5>
    
    <pre class="prettyprint"><code>// Auto-group analog channelsimport { autoGroupChannels } from "./autoGroupChannels.js";const channels = [  { id: "IA" }, { id: "IB" }, { id: "IC" },  { id: "VA" }, { id: "VB" }, { id: "VC" }];const groups = autoGroupChannels(channels);// { "G0": [0, 1, 2], "G1": [3, 4, 5] }// G0 = Currents, G1 = Voltages</code></pre>

    <pre class="prettyprint"><code>// User-defined groups with fallbackimport { buildChannelGroups } from "./autoGroupChannels.js";const userGroups = ["Currents", "Currents", "Currents", "", "", ""];const groups = buildChannelGroups(userGroups, channels);// { "Currents": [0, 1, 2], "G0": [3, 4, 5] }</code></pre>





















            
                




<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li><p>Calculate the global maxYAxes count and publish to the global store
This is the single place where axis calculation happens</p></li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>






























            
                




<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li><p>groupingUtils module</p></li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>






























            
        
        </div>
    

    

    

    
    
    

     

    

    
        <h3 class="subsection-title">Members</h3>

        
            
<h4 class="name" id="~GROUP_PATTERNS"><span class="type-signature type-signature-inner, constant">(inner, constant) </span>GROUP_PATTERNS<span class="type-signature"> :Array.&lt;Object></span></h4>





<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li><p>Channel grouping patterns for automatic grouping.
Each pattern is a regex that matches specific channel naming conventions.
Patterns are processed in order - first match wins.</p></li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>



    <h5 class="subsection-title">Properties:</h5>

    

<table class="props">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>regex</code></td>
            

            <td class="type">
            
                
<span class="param-type">RegExp</span>



            
            </td>

            

            

            <td class="description last"><p>Regular expression to match channel IDs</p></td>
        </tr>

    
    </tbody>
</table>






<div class="description usertext">
    <p>Channel grouping patterns for automatic grouping.
Each pattern is a regex that matches specific channel naming conventions.
Patterns are processed in order - first match wins.</p>
</div>



    <h5 class="h5-types">Type:</h5>
    <ul>
        <li>
            
<span class="param-type">Array.&lt;Object></span>



        </li>
    </ul>





    <h5 class="h5-examples">Example</h5>
    
    <pre class="prettyprint"><code>// Pattern matching examples:// /^I[ABCN]$/i  matches: IA, IB, IC, IN (case insensitive)// /^V[ABCN]$/i  matches: VA, VB, VC, VN// /^HARM\d+$/i matches: HARM02, HARM03, HARM15</code></pre>



        
    

    
        <h3 class="subsection-title">Methods</h3>

        
            

    

    <h4 class="name" id=".buildChartData"><span class="type-signature type-signature-static">(static) </span>buildChartData<span class="signature">(timeArray, analogSeriesWithData, data, sampleCount, computedForGroup)</span><span class="type-signature"> &rarr; {Array}</span></h4>

    




<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li><p>Build chart data array combining analog and computed channels</p></li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>













    <h5 class="h5-parameters">Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>timeArray</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array</span>



            
            </td>

            

            

            <td class="description last"><p>Time array for X-axis</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>analogSeriesWithData</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array</span>



            
            </td>

            

            

            <td class="description last"><p>Indices of analog series with data</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>data</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>



            
            </td>

            

            

            <td class="description last"><p>Data object containing analogData</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>sampleCount</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>



            
            </td>

            

            

            <td class="description last"><p>Number of samples to use</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>computedForGroup</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array</span>



            
            </td>

            

            

            <td class="description last"><p>Array of computed channels</p></td>
        </tr>

    
    </tbody>
</table>
















<h5 class="h5-returns">Returns:</h5>

        
<div class="param-desc">
    <p>Chart data array [timeArray, ...series]</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Array</span>



    </dd>
</dl>

    



        
            

    

    <h4 class="name" id=".buildGroupsWithAutoGrouping"><span class="type-signature type-signature-static">(static) </span>buildGroupsWithAutoGrouping<span class="signature">(totalAnalog, channelIDs, channelState, autoGroupChannels)</span><span class="type-signature"> &rarr; {Array}</span></h4>

    




<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li><p>Build groups using full auto-grouping for all channels</p></li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>













    <h5 class="h5-parameters">Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>totalAnalog</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array</span>



            
            </td>

            

            

            <td class="description last"><p>Array of all analog channel objects</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>channelIDs</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array</span>



            
            </td>

            

            

            <td class="description last"><p>Array of channel IDs</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>channelState</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>



            
            </td>

            

            

            <td class="description last"><p>Channel state object with yLabels, yUnits, etc.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>autoGroupChannels</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>



            
            </td>

            

            

            <td class="description last"><p>Function to auto-group channels</p></td>
        </tr>

    
    </tbody>
</table>
















<h5 class="h5-returns">Returns:</h5>

        
<div class="param-desc">
    <p>Array of group objects with { name, indices, ids, axisCount, colors }</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Array</span>



    </dd>
</dl>

    



        
            

    

    <h4 class="name" id=".buildGroupsWithUserAssignments"><span class="type-signature type-signature-static">(static) </span>buildGroupsWithUserAssignments<span class="signature">(userGroups, totalAnalog, channelIDs, autoGroupChannels)</span><span class="type-signature"> &rarr; {Array}</span></h4>

    




<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li><p>Build groups from user-assigned groups and auto-group unassigned channels</p></li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>













    <h5 class="h5-parameters">Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>userGroups</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array</span>



            
            </td>

            

            

            <td class="description last"><p>Array of group names assigned to each channel</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>totalAnalog</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array</span>



            
            </td>

            

            

            <td class="description last"><p>Array of all analog channel objects</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>channelIDs</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array</span>



            
            </td>

            

            

            <td class="description last"><p>Array of channel IDs</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>autoGroupChannels</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>



            
            </td>

            

            

            <td class="description last"><p>Function to auto-group channels</p></td>
        </tr>

    
    </tbody>
</table>
















<h5 class="h5-returns">Returns:</h5>

        
<div class="param-desc">
    <p>Array of group objects with { name, indices, ids, axisCount, colors }</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Array</span>



    </dd>
</dl>

    



        
            

    

    <h4 class="name" id=".calculateAndPublishMaxYAxes"><span class="type-signature type-signature-static">(static) </span>calculateAndPublishMaxYAxes<span class="signature">(groups)</span><span class="type-signature"> &rarr; {number}</span></h4>

    




<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li><p>Calculate maxYAxes based on group composition and publish to store</p></li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>











    <h5 class="h5-examples">Example</h5>
    
    <pre class="prettyprint"><code>const groups = [  { indices: [0,1,2], name: "G0" },  { indices: [3], name: "G1" }];const maxYAxes = calculateAndPublishMaxYAxes(groups);// Returns: 2</code></pre>




    <h5 class="h5-parameters">Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>groups</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array</span>



            
            </td>

            

            

            <td class="description last"><p>Array of group objects with channels</p></td>
        </tr>

    
    </tbody>
</table>
















<h5 class="h5-returns">Returns:</h5>

        
<div class="param-desc">
    <p>The calculated maxYAxes value</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">number</span>



    </dd>
</dl>

    



        
            

    

    <h4 class="name" id=".calculateAndPublishMaxYAxesFromState"><span class="type-signature type-signature-static">(static) </span>calculateAndPublishMaxYAxesFromState<span class="signature">(channelState, cfg)</span><span class="type-signature"> &rarr; {number}</span></h4>

    




<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li><p>Batch calculate for both analog and digital if available</p></li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>













    <h5 class="h5-parameters">Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>channelState</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>



            
            </td>

            

            

            <td class="description last"><p>Channel state object</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>cfg</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>



            
            </td>

            

            

            <td class="description last"><p>COMTRADE config object</p></td>
        </tr>

    
    </tbody>
</table>
















<h5 class="h5-returns">Returns:</h5>

        
<div class="param-desc">
    <p>The calculated maxYAxes value</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">number</span>



    </dd>
</dl>

    



        
            

    

    <h4 class="name" id=".computeChartDataDimensions"><span class="type-signature type-signature-static">(static) </span>computeChartDataDimensions<span class="signature">(validIndices, data, computedForGroup)</span><span class="type-signature"> &rarr; {Object}</span></h4>

    




<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li><p>Find analog series with data and compute sample count</p></li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>













    <h5 class="h5-parameters">Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>validIndices</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array</span>



            
            </td>

            

            

            <td class="description last"><p>Array of valid channel indices</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>data</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>



            
            </td>

            

            

            <td class="description last"><p>Data object containing analogData</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>computedForGroup</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array</span>



            
            </td>

            

            

            <td class="description last"><p>Array of computed channels for this group</p></td>
        </tr>

    
    </tbody>
</table>
















<h5 class="h5-returns">Returns:</h5>

        
<div class="param-desc">
    <p>Object with analogSeriesWithData, sampleCount, timeArray</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Object</span>



    </dd>
</dl>

    



        
            

    

    <h4 class="name" id=".extractChannelMetadata"><span class="type-signature type-signature-static">(static) </span>extractChannelMetadata<span class="signature">(validIndices, channelState)</span><span class="type-signature"> &rarr; {Object}</span></h4>

    




<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li><p>Extract channel metadata from state for valid indices</p></li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>













    <h5 class="h5-parameters">Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>validIndices</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array</span>



            
            </td>

            

            

            <td class="description last"><p>Array of valid channel indices</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>channelState</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>



            
            </td>

            

            

            <td class="description last"><p>Channel state object</p></td>
        </tr>

    
    </tbody>
</table>
















<h5 class="h5-returns">Returns:</h5>

        
<div class="param-desc">
    <p>Object with yLabels, lineColors, yUnits, axesScales, xLabel, xUnit</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Object</span>



    </dd>
</dl>

    



        
            

    

    <h4 class="name" id=".extractGroupId"><span class="type-signature type-signature-static">(static) </span>extractGroupId<span class="signature">(validIndices, userGroups, groupName)</span><span class="type-signature"> &rarr; {string}</span></h4>

    




<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li><p>Extract group ID from first valid channel in group</p></li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>













    <h5 class="h5-parameters">Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>validIndices</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array</span>



            
            </td>

            

            

            <td class="description last"><p>Array of valid channel indices</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>userGroups</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array</span>



            
            </td>

            

            

            <td class="description last"><p>Array of group names per channel</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>groupName</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>



            
            </td>

            

            

            <td class="description last"><p>Fallback group name if no valid indices</p></td>
        </tr>

    
    </tbody>
</table>
















<h5 class="h5-returns">Returns:</h5>

        
<div class="param-desc">
    <p>Group ID or empty string</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">string</span>



    </dd>
</dl>

    



        
            

    

    <h4 class="name" id=".filterGroupsWithChannels"><span class="type-signature type-signature-static">(static) </span>filterGroupsWithChannels<span class="signature">(groups)</span><span class="type-signature"> &rarr; {Array}</span></h4>

    




<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li><p>Filter groups to only include those with actual channels</p></li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>













    <h5 class="h5-parameters">Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>groups</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array</span>



            
            </td>

            

            

            <td class="description last"><p>Array of group objects</p></td>
        </tr>

    
    </tbody>
</table>
















<h5 class="h5-returns">Returns:</h5>

        
<div class="param-desc">
    <p>Filtered array of groups with channels</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Array</span>



    </dd>
</dl>

    



        
            

    

    <h4 class="name" id=".filterValidIndices"><span class="type-signature type-signature-static">(static) </span>filterValidIndices<span class="signature">(indices, maxLength)</span><span class="type-signature"> &rarr; {Array}</span></h4>

    




<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li><p>Filter indices to only those within valid bounds</p></li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>













    <h5 class="h5-parameters">Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>indices</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array</span>



            
            </td>

            

            

            <td class="description last"><p>Array of channel indices</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>maxLength</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>



            
            </td>

            

            

            <td class="description last"><p>Maximum valid index (exclusive)</p></td>
        </tr>

    
    </tbody>
</table>
















<h5 class="h5-returns">Returns:</h5>

        
<div class="param-desc">
    <p>Filtered array of valid indices</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Array</span>



    </dd>
</dl>

    



        
            

    

    <h4 class="name" id=".mergeAnalogAndComputedMetadata"><span class="type-signature type-signature-static">(static) </span>mergeAnalogAndComputedMetadata<span class="signature">(includedAnalogIndices, metadata, computedForGroup)</span><span class="type-signature"> &rarr; {Object}</span></h4>

    




<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li><p>Merge analog and computed channel metadata for chart display</p></li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>













    <h5 class="h5-parameters">Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>includedAnalogIndices</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array</span>



            
            </td>

            

            

            <td class="description last"><p>Indices of included analog channels</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>metadata</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>



            
            </td>

            

            

            <td class="description last"><p>Object with yLabels, lineColors, yUnits, axesScales</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>computedForGroup</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array</span>



            
            </td>

            

            

            <td class="description last"><p>Array of computed channels</p></td>
        </tr>

    
    </tbody>
</table>
















<h5 class="h5-returns">Returns:</h5>

        
<div class="param-desc">
    <p>Object with merged labels, colors, units, scales</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Object</span>



    </dd>
</dl>

    



        
            

    

    <h4 class="name" id=".resolveGroupIndices"><span class="type-signature type-signature-static">(static) </span>resolveGroupIndices<span class="signature">(group, channelIDs)</span><span class="type-signature"> &rarr; {Array}</span></h4>

    




<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li><p>Resolve channel indices for a group from IDs and fallback indices</p></li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>













    <h5 class="h5-parameters">Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>group</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>



            
            </td>

            

            

            <td class="description last"><p>Group object with ids and indices properties</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>channelIDs</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array</span>



            
            </td>

            

            

            <td class="description last"><p>Array of all channel IDs for lookup</p></td>
        </tr>

    
    </tbody>
</table>
















<h5 class="h5-returns">Returns:</h5>

        
<div class="param-desc">
    <p>Array of resolved indices</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Array</span>



    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="~analyzeGroupsAndPublishMaxYAxes"><span class="type-signature type-signature-inner">(inner) </span>analyzeGroupsAndPublishMaxYAxes<span class="signature">(charts, channelState, cfg)</span><span class="type-signature"> &rarr; {number}</span></h4>

    




<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li><p><strong>Algorithm:</strong></p>
<ol>
<li>Extract group assignments from channelState.analog.groups</li>
<li>Convert string IDs (&quot;G0&quot;, &quot;G1&quot;) to numeric (0, 1) for consistency</li>
<li>For each unique group ID:
<ul>
<li>Collect all channels in that group</li>
<li>Call calculateAxisCountForGroup() to determine axis requirements</li>
<li>Store result in groupsWithAxisCounts array</li>
</ul>
</li>
<li>Find maximum axisCount across all groups</li>
<li>Publish to global store via setMaxYAxes()</li>
<li>Log detailed analysis for debugging</li>
<li>Return published value</li>
</ol>
<p><strong>Error Handling:</strong>
If any error occurs during analysis, logs the error and falls back to maxYAxes=1.
This ensures the app never breaks due to analysis failures.</p></li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>











    <h5 class="h5-examples">Examples</h5>
    
    <pre class="prettyprint"><code>// In a group change handlerconst maxYAxes = analyzeGroupsAndPublishMaxYAxes(charts, channelState, cfg);// Output: 2 (if any group needs 2+ axes)// Side effect: setMaxYAxes(2) called internally// All future chart renders will use 2 Y-axes</code></pre>

    <pre class="prettyprint"><code>// Console output shows group analysis:// [analyzeGroupsAndPublishMaxYAxes] 📊 Analysis: G0(3ch,1ax:[V,V,V]) | G1(2ch,2ax:[A,A])// [analyzeGroupsAndPublishMaxYAxes] 🎯 Publishing maxYAxes: 2</code></pre>




    <h5 class="h5-parameters">Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>charts</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array</span>



            
            </td>

            

            

            <td class="description last"><p>Array of chart instances (for reference/logging only)</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>channelState</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>



            
            </td>

            

            

            <td class="description last"><p>Reactive channel state object</p>
                <h6>Properties</h6>
                

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>analog</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array</span>



            
            </td>

            

            

            <td class="description last"><p>Analog channel state</p>
                <h6>Properties</h6>
                

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>groups</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array</span>



            
            </td>

            

            

            <td class="description last"><p>Group assignment array (indices align with channels)</p></td>
        </tr>

    
    </tbody>
</table>

            </td>
        </tr>

    
    </tbody>
</table>

            </td>
        </tr>

    

        <tr>
            
                <td class="name"><code>cfg</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>



            
            </td>

            

            

            <td class="description last"><p>COMTRADE configuration object</p>
                <h6>Properties</h6>
                

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>analogChannels</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array</span>



            
            </td>

            

            

            <td class="description last"><p>Array of analog channel definitions with unit/name</p></td>
        </tr>

    
    </tbody>
</table>

            </td>
        </tr>

    
    </tbody>
</table>
















<h5 class="h5-returns">Returns:</h5>

        
<div class="param-desc">
    <p>The calculated and published maxYAxes value (1, 2, 3, etc.)</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">number</span>



    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="~analyzeSpecificGroup"><span class="type-signature type-signature-inner">(inner) </span>analyzeSpecificGroup<span class="signature">(groupId, channelState, cfg)</span><span class="type-signature"> &rarr; {number}</span></h4>

    




<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li><p>This is a lower-level utility for when you need to check a single group.
It does NOT call setMaxYAxes(), so it won't affect the global state.
Useful for:</p>
<ul>
<li>Validation before publishing</li>
<li>Debugging individual groups</li>
<li>Testing group analysis logic</li>
</ul></li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>











    <h5 class="h5-examples">Example</h5>
    
    <pre class="prettyprint"><code>const axisCount = analyzeSpecificGroup(0, channelState, cfg);console.log(`Group 0 needs ${axisCount} axes`);</code></pre>




    <h5 class="h5-parameters">Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>groupId</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>
|

<span class="param-type">string</span>



            
            </td>

            

            

            <td class="description last"><p>The group to analyze (0, 1, &quot;G0&quot;, &quot;G1&quot;, etc.)</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>channelState</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>



            
            </td>

            

            

            <td class="description last"><p>Reactive channel state object</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>cfg</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>



            
            </td>

            

            

            <td class="description last"><p>COMTRADE configuration object</p></td>
        </tr>

    
    </tbody>
</table>
















<h5 class="h5-returns">Returns:</h5>

        
<div class="param-desc">
    <p>Axis count needed for this specific group (1, 2, etc.)</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">number</span>



    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="~getMaxYAxes"><span class="type-signature type-signature-inner">(inner) </span>getMaxYAxes<span class="signature">()</span><span class="type-signature"> &rarr; {number}</span></h4>

    




<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li><p>Get current maxYAxes value from global store</p></li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>











    <h5 class="h5-examples">Example</h5>
    
    <pre class="prettyprint"><code>const axes = getMaxYAxes();console.log(axes); // 1, 2, or higher</code></pre>


















<h5 class="h5-returns">Returns:</h5>

        
<div class="param-desc">
    <p>Current maxYAxes count (1, 2, 3, etc.)</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">number</span>



    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="~getMaxYAxesState"><span class="type-signature type-signature-inner">(inner) </span>getMaxYAxesState<span class="signature">()</span><span class="type-signature"> &rarr; {Object}</span></h4>

    




<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li><p>WARNING: Only use this if you need reactive subscriptions.
Remember to unsubscribe to avoid memory leaks!</p>
<p>The returned object's properties update reactively whenever setMaxYAxes() is called.
You can subscribe to changes like:</p>
<pre class="prettyprint source lang-javascript"><code>const unsub = getMaxYAxesState().subscribe(() => {
  console.log('maxYAxes changed to:', getMaxYAxes());
});
// When done, call unsub() to clean up
</code></pre></li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>











    <h5 class="h5-examples">Example</h5>
    
    <pre class="prettyprint"><code>const state = getMaxYAxesState();// Now state.maxYAxes === getMaxYAxes()</code></pre>


















<h5 class="h5-returns">Returns:</h5>

        
<div class="param-desc">
    <p>The createState object with reactive properties</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Object</span>



    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="~resetMaxYAxes"><span class="type-signature type-signature-inner">(inner) </span>resetMaxYAxes<span class="signature">()</span><span class="type-signature"> &rarr; {void}</span></h4>

    




<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li><p>Reset maxYAxes to default value (1)</p></li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>











    <h5 class="h5-examples">Example</h5>
    
    <pre class="prettyprint"><code>resetMaxYAxes(); // Back to 1 Y-axis for all charts</code></pre>


















<h5 class="h5-returns">Returns:</h5>

        


<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">void</span>



    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="~setMaxYAxes"><span class="type-signature type-signature-inner">(inner) </span>setMaxYAxes<span class="signature">(value)</span><span class="type-signature"> &rarr; {void}</span></h4>

    




<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li><p>Set maxYAxes value in global store (publish new state)</p></li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>











    <h5 class="h5-examples">Example</h5>
    
    <pre class="prettyprint"><code>setMaxYAxes(2); // All charts will now use 2 Y-axesconsole.log(getMaxYAxes()); // Outputs: 2</code></pre>




    <h5 class="h5-parameters">Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>value</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>



            
            </td>

            

            

            <td class="description last"><p>New maxYAxes count (must be &gt;= 1)</p></td>
        </tr>

    
    </tbody>
</table>














<h5 class="h5-throws">Throws:</h5>

        

<dl>
    <dt>
        <div class="param-desc usertext">
        <p>Does not throw, but logs warning if value is invalid</p>
        </div>
    </dt>
    <dd></dd>
    <dt>
        <dl class="param-type">
            <dt>
                Type
            </dt>
            <dd>
                
<span class="param-type">void</span>



            </dd>
        </dl>
    </dt>
    <dd></dd>
</dl>


    


<h5 class="h5-returns">Returns:</h5>

        


<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">void</span>



    </dd>
</dl>

    



        
    

    

    
</article>

</section>







<section>

<header>
    
        
            
        
            
        
            
        
            
        
            
        
    
</header>

<article>
    
        <div class="container-overview">
        
            
                <div class="description usertext"><p>groupingUtils module</p></div>
            

            
                




<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li><p>Pure functional approach to analyze chart groups and publish the required number of Y-axes
to the global store. Replaces imperative destroy/rebuild logic with reactive state management.</p>
<p><strong>Architecture Overview:</strong>
This module is the &quot;calculator&quot; in the multi-Y-axes functional approach:</p>
<pre class="prettyprint source"><code>Event: Group changed (user reassigns channel to different group)
    ↓
chartManager.js detects change via group subscriber
    ↓
Calls analyzeGroupsAndPublishMaxYAxes(charts, channelState, cfg)
    ↓
This function:
  1. Reads group assignments from channelState
  2. For each group, calls calculateAxisCountForGroup()
  3. Finds max axis count across all groups
  4. Calls setMaxYAxes() to publish to global store
    ↓
renderAnalogCharts, renderDigitalCharts, renderComputedChannels
read updated maxYAxes via getMaxYAxes() and create correct axis count
</code></pre>
<p><strong>Key Feature: Pure Function</strong></p>
<ul>
<li>No side effects except calling setMaxYAxes()</li>
<li>Deterministic: same input = same output</li>
<li>Easy to test: no global state pollution</li>
<li>Memory safe: no subscriptions to manage</li>
</ul>
<p><strong>What Gets Analyzed:</strong></p>
<ul>
<li>User-assigned groups from channelState.analog.groups</li>
<li>Channel units (V, A, W, Hz) from cfg.analogChannels</li>
<li>Axis requirements per group (via axisCalculator.js)</li>
</ul>
<p><strong>Automatic Chart Updates:</strong>
When maxYAxes is published, charts don't automatically re-render.
They must be destroyed and rebuilt by the group subscriber to apply new axis count.
The global store just maintains the &quot;correct&quot; value for all new chart renders.</p></li></ul></dd>
    

    

    

    
    <dt class="tag-since">Since:</dt>
    <dd class="tag-since"><ul class="dummy"><li>2.0.0</li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>











    <h5 class="h5-examples">Example</h5>
    
    <pre class="prettyprint"><code>// In a group change subscriber (chartManager.js)import { analyzeGroupsAndPublishMaxYAxes } from '../utils/analyzeGroupsAndPublish.js';const newMaxYAxes = analyzeGroupsAndPublishMaxYAxes(charts, channelState, cfg);console.log(`New axis count published: ${newMaxYAxes}`);// Then, elsewhere in the group subscriber, charts are destroyed and re-rendered// with the updated maxYAxes value</code></pre>





















            
                




<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li><p>Centralized reactive state store for managing the number of Y-axes across all chart types.
Implements a &quot;single source of truth&quot; pattern similar to React Context API.</p>
<p><strong>Role in Multi-Y-Axes Architecture:</strong></p>
<pre class="prettyprint source"><code>Group Change Event
    ↓
analyzeGroupsAndPublish() calculates maxYAxes
    ↓
setMaxYAxes() publishes to this store
    ↓
renderAnalogCharts, renderDigitalCharts, renderComputedChannels
all read from getMaxYAxes() and update axes count
</code></pre>
<p><strong>Why Not Subscriptions?</strong>
Uses createState (reactive object) instead of .subscribe() callbacks to avoid:</p>
<ul>
<li>Memory leaks from forgotten unsubscribes</li>
<li>Callback chains that are hard to debug</li>
<li>Global event listeners that accumulate</li>
</ul>
<p>Instead, each component simply calls getMaxYAxes() when building charts.</p></li></ul></dd>
    

    

    

    
    <dt class="tag-since">Since:</dt>
    <dd class="tag-since"><ul class="dummy"><li>2.0.0</li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>











    <h5 class="h5-examples">Examples</h5>
    
    <pre class="prettyprint"><code>// In a chart rendering functionimport { getMaxYAxes } from '../utils/maxYAxesStore.js';const maxYAxes = getMaxYAxes(); // Get current value (1, 2, 3, etc.)const opts = createChartOptions({  maxYAxes: maxYAxes,  // ... other options});</code></pre>

    <pre class="prettyprint"><code>// In a group change handlerimport { setMaxYAxes } from '../utils/maxYAxesStore.js';// After analyzing groups and calculating required axessetMaxYAxes(2); // Publish new value// Charts automatically use this when they next render/update</code></pre>





















            
                




<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li><h3>Automatic Channel Grouping Utilities</h3>
<p>Intelligently groups COMTRADE channels based on naming patterns.
Designed for protection relays (SEL, ABB, Siemens, GE) and power quality meters.</p>
<h4>Purpose</h4>
<p>COMTRADE files can contain dozens or hundreds of channels.
This module auto-groups related channels for organized visualization:</p>
<table>
  <tr><th>Channel Type</th><th>Example Inputs</th><th>Result</th></tr>
  <tr><td>Currents</td><td>IA, IB, IC, IN</td><td>→ One chart</td></tr>
  <tr><td>Voltages</td><td>VA, VB, VC, VN</td><td>→ One chart</td></tr>
  <tr><td>Protection</td><td>TRIP, CLOSE, 52A</td><td>→ One chart</td></tr>
  <tr><td>Power Quality</td><td>SAG, SWELL, HARM</td><td>→ Grouped by type</td></tr>
</table>
<h4>Grouping Strategy</h4>
<ol>
  <li><strong>Pattern Matching</strong> — Match against known naming conventions</li>
  <li><strong>User Override</strong> — User-defined groups take priority</li>
  <li><strong>Catch-All</strong> — Unmatched channels go to default group</li>
</ol>
<h4>Supported Patterns</h4>
<p><strong>Analog:</strong></p>
<ul>
  <li><code>IA</code>, <code>IB</code>, <code>IC</code>, <code>IN</code> — Phase currents</li>
  <li><code>VA</code>, <code>VB</code>, <code>VC</code>, <code>VN</code> — Phase voltages</li>
  <li><code>IL1</code>, <code>IL2</code>, <code>IL3</code> — Line currents (IEC)</li>
  <li><code>UL1</code>, <code>UL2</code>, <code>UL3</code> — Line voltages (IEC)</li>
</ul>
<p><strong>Digital:</strong></p>
<ul>
  <li><code>TRIP</code>, <code>FAULT</code>, <code>BLOCK</code> — Protection events</li>
  <li><code>52A</code>, <code>52B</code> — Breaker status</li>
  <li><code>OUT</code>, <code>IN</code>, <code>RMB</code>, <code>TMB</code> — I/O signals</li>
  <li><code>SV</code>, <code>DP</code>, <code>VB</code> — IEC 61850</li>
</ul>
<p><strong>Power Quality:</strong></p>
<ul>
  <li><code>SAG</code>, <code>SWELL</code>, <code>INT</code> — Voltage events</li>
  <li><code>HARM02</code>-<code>HARM15</code> — Harmonics</li>
  <li><code>ITIC</code> — ITIC curve violations</li>
</ul></li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li><a href="module-components_renderComtradeCharts.html"><code>module:components/renderComtradeCharts</code></a></li>
        
            <li><a href="module-components_renderSingleAnalogChart.html"><code>module:components/renderSingleAnalogChart</code></a></li>
        
            <li><a href="module-components_renderSingleDigitalChart.html"><code>module:components/renderSingleDigitalChart</code></a></li>
        </ul>
    </dd>
    

    
</dl>











    <h5 class="h5-examples">Examples</h5>
    
    <pre class="prettyprint"><code>// Auto-group analog channelsimport { autoGroupChannels } from "./autoGroupChannels.js";const channels = [  { id: "IA" }, { id: "IB" }, { id: "IC" },  { id: "VA" }, { id: "VB" }, { id: "VC" }];const groups = autoGroupChannels(channels);// { "G0": [0, 1, 2], "G1": [3, 4, 5] }// G0 = Currents, G1 = Voltages</code></pre>

    <pre class="prettyprint"><code>// User-defined groups with fallbackimport { buildChannelGroups } from "./autoGroupChannels.js";const userGroups = ["Currents", "Currents", "Currents", "", "", ""];const groups = buildChannelGroups(userGroups, channels);// { "Currents": [0, 1, 2], "G0": [3, 4, 5] }</code></pre>





















            
                




<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li><p>Calculate the global maxYAxes count and publish to the global store
This is the single place where axis calculation happens</p></li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>






























            
                




<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li><p>groupingUtils module</p></li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>






























            
        
        </div>
    

    

    

    
    
    

     

    

    
        <h3 class="subsection-title">Members</h3>

        
            
<h4 class="name" id="~GROUP_PATTERNS"><span class="type-signature type-signature-inner, constant">(inner, constant) </span>GROUP_PATTERNS<span class="type-signature"> :Array.&lt;Object></span></h4>





<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li><p>Channel grouping patterns for automatic grouping.
Each pattern is a regex that matches specific channel naming conventions.
Patterns are processed in order - first match wins.</p></li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>



    <h5 class="subsection-title">Properties:</h5>

    

<table class="props">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>regex</code></td>
            

            <td class="type">
            
                
<span class="param-type">RegExp</span>



            
            </td>

            

            

            <td class="description last"><p>Regular expression to match channel IDs</p></td>
        </tr>

    
    </tbody>
</table>






<div class="description usertext">
    <p>Channel grouping patterns for automatic grouping.
Each pattern is a regex that matches specific channel naming conventions.
Patterns are processed in order - first match wins.</p>
</div>



    <h5 class="h5-types">Type:</h5>
    <ul>
        <li>
            
<span class="param-type">Array.&lt;Object></span>



        </li>
    </ul>





    <h5 class="h5-examples">Example</h5>
    
    <pre class="prettyprint"><code>// Pattern matching examples:// /^I[ABCN]$/i  matches: IA, IB, IC, IN (case insensitive)// /^V[ABCN]$/i  matches: VA, VB, VC, VN// /^HARM\d+$/i matches: HARM02, HARM03, HARM15</code></pre>



        
    

    
        <h3 class="subsection-title">Methods</h3>

        
            

    

    <h4 class="name" id=".buildChartData"><span class="type-signature type-signature-static">(static) </span>buildChartData<span class="signature">(timeArray, analogSeriesWithData, data, sampleCount, computedForGroup)</span><span class="type-signature"> &rarr; {Array}</span></h4>

    




<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li><p>Build chart data array combining analog and computed channels</p></li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>













    <h5 class="h5-parameters">Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>timeArray</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array</span>



            
            </td>

            

            

            <td class="description last"><p>Time array for X-axis</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>analogSeriesWithData</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array</span>



            
            </td>

            

            

            <td class="description last"><p>Indices of analog series with data</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>data</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>



            
            </td>

            

            

            <td class="description last"><p>Data object containing analogData</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>sampleCount</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>



            
            </td>

            

            

            <td class="description last"><p>Number of samples to use</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>computedForGroup</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array</span>



            
            </td>

            

            

            <td class="description last"><p>Array of computed channels</p></td>
        </tr>

    
    </tbody>
</table>
















<h5 class="h5-returns">Returns:</h5>

        
<div class="param-desc">
    <p>Chart data array [timeArray, ...series]</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Array</span>



    </dd>
</dl>

    



        
            

    

    <h4 class="name" id=".buildGroupsWithAutoGrouping"><span class="type-signature type-signature-static">(static) </span>buildGroupsWithAutoGrouping<span class="signature">(totalAnalog, channelIDs, channelState, autoGroupChannels)</span><span class="type-signature"> &rarr; {Array}</span></h4>

    




<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li><p>Build groups using full auto-grouping for all channels</p></li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>













    <h5 class="h5-parameters">Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>totalAnalog</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array</span>



            
            </td>

            

            

            <td class="description last"><p>Array of all analog channel objects</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>channelIDs</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array</span>



            
            </td>

            

            

            <td class="description last"><p>Array of channel IDs</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>channelState</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>



            
            </td>

            

            

            <td class="description last"><p>Channel state object with yLabels, yUnits, etc.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>autoGroupChannels</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>



            
            </td>

            

            

            <td class="description last"><p>Function to auto-group channels</p></td>
        </tr>

    
    </tbody>
</table>
















<h5 class="h5-returns">Returns:</h5>

        
<div class="param-desc">
    <p>Array of group objects with { name, indices, ids, axisCount, colors }</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Array</span>



    </dd>
</dl>

    



        
            

    

    <h4 class="name" id=".buildGroupsWithUserAssignments"><span class="type-signature type-signature-static">(static) </span>buildGroupsWithUserAssignments<span class="signature">(userGroups, totalAnalog, channelIDs, autoGroupChannels)</span><span class="type-signature"> &rarr; {Array}</span></h4>

    




<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li><p>Build groups from user-assigned groups and auto-group unassigned channels</p></li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>













    <h5 class="h5-parameters">Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>userGroups</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array</span>



            
            </td>

            

            

            <td class="description last"><p>Array of group names assigned to each channel</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>totalAnalog</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array</span>



            
            </td>

            

            

            <td class="description last"><p>Array of all analog channel objects</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>channelIDs</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array</span>



            
            </td>

            

            

            <td class="description last"><p>Array of channel IDs</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>autoGroupChannels</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>



            
            </td>

            

            

            <td class="description last"><p>Function to auto-group channels</p></td>
        </tr>

    
    </tbody>
</table>
















<h5 class="h5-returns">Returns:</h5>

        
<div class="param-desc">
    <p>Array of group objects with { name, indices, ids, axisCount, colors }</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Array</span>



    </dd>
</dl>

    



        
            

    

    <h4 class="name" id=".calculateAndPublishMaxYAxes"><span class="type-signature type-signature-static">(static) </span>calculateAndPublishMaxYAxes<span class="signature">(groups)</span><span class="type-signature"> &rarr; {number}</span></h4>

    




<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li><p>Calculate maxYAxes based on group composition and publish to store</p></li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>











    <h5 class="h5-examples">Example</h5>
    
    <pre class="prettyprint"><code>const groups = [  { indices: [0,1,2], name: "G0" },  { indices: [3], name: "G1" }];const maxYAxes = calculateAndPublishMaxYAxes(groups);// Returns: 2</code></pre>




    <h5 class="h5-parameters">Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>groups</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array</span>



            
            </td>

            

            

            <td class="description last"><p>Array of group objects with channels</p></td>
        </tr>

    
    </tbody>
</table>
















<h5 class="h5-returns">Returns:</h5>

        
<div class="param-desc">
    <p>The calculated maxYAxes value</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">number</span>



    </dd>
</dl>

    



        
            

    

    <h4 class="name" id=".calculateAndPublishMaxYAxesFromState"><span class="type-signature type-signature-static">(static) </span>calculateAndPublishMaxYAxesFromState<span class="signature">(channelState, cfg)</span><span class="type-signature"> &rarr; {number}</span></h4>

    




<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li><p>Batch calculate for both analog and digital if available</p></li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>













    <h5 class="h5-parameters">Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>channelState</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>



            
            </td>

            

            

            <td class="description last"><p>Channel state object</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>cfg</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>



            
            </td>

            

            

            <td class="description last"><p>COMTRADE config object</p></td>
        </tr>

    
    </tbody>
</table>
















<h5 class="h5-returns">Returns:</h5>

        
<div class="param-desc">
    <p>The calculated maxYAxes value</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">number</span>



    </dd>
</dl>

    



        
            

    

    <h4 class="name" id=".computeChartDataDimensions"><span class="type-signature type-signature-static">(static) </span>computeChartDataDimensions<span class="signature">(validIndices, data, computedForGroup)</span><span class="type-signature"> &rarr; {Object}</span></h4>

    




<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li><p>Find analog series with data and compute sample count</p></li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>













    <h5 class="h5-parameters">Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>validIndices</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array</span>



            
            </td>

            

            

            <td class="description last"><p>Array of valid channel indices</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>data</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>



            
            </td>

            

            

            <td class="description last"><p>Data object containing analogData</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>computedForGroup</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array</span>



            
            </td>

            

            

            <td class="description last"><p>Array of computed channels for this group</p></td>
        </tr>

    
    </tbody>
</table>
















<h5 class="h5-returns">Returns:</h5>

        
<div class="param-desc">
    <p>Object with analogSeriesWithData, sampleCount, timeArray</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Object</span>



    </dd>
</dl>

    



        
            

    

    <h4 class="name" id=".extractChannelMetadata"><span class="type-signature type-signature-static">(static) </span>extractChannelMetadata<span class="signature">(validIndices, channelState)</span><span class="type-signature"> &rarr; {Object}</span></h4>

    




<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li><p>Extract channel metadata from state for valid indices</p></li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>













    <h5 class="h5-parameters">Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>validIndices</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array</span>



            
            </td>

            

            

            <td class="description last"><p>Array of valid channel indices</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>channelState</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>



            
            </td>

            

            

            <td class="description last"><p>Channel state object</p></td>
        </tr>

    
    </tbody>
</table>
















<h5 class="h5-returns">Returns:</h5>

        
<div class="param-desc">
    <p>Object with yLabels, lineColors, yUnits, axesScales, xLabel, xUnit</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Object</span>



    </dd>
</dl>

    



        
            

    

    <h4 class="name" id=".extractGroupId"><span class="type-signature type-signature-static">(static) </span>extractGroupId<span class="signature">(validIndices, userGroups, groupName)</span><span class="type-signature"> &rarr; {string}</span></h4>

    




<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li><p>Extract group ID from first valid channel in group</p></li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>













    <h5 class="h5-parameters">Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>validIndices</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array</span>



            
            </td>

            

            

            <td class="description last"><p>Array of valid channel indices</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>userGroups</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array</span>



            
            </td>

            

            

            <td class="description last"><p>Array of group names per channel</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>groupName</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>



            
            </td>

            

            

            <td class="description last"><p>Fallback group name if no valid indices</p></td>
        </tr>

    
    </tbody>
</table>
















<h5 class="h5-returns">Returns:</h5>

        
<div class="param-desc">
    <p>Group ID or empty string</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">string</span>



    </dd>
</dl>

    



        
            

    

    <h4 class="name" id=".filterGroupsWithChannels"><span class="type-signature type-signature-static">(static) </span>filterGroupsWithChannels<span class="signature">(groups)</span><span class="type-signature"> &rarr; {Array}</span></h4>

    




<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li><p>Filter groups to only include those with actual channels</p></li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>













    <h5 class="h5-parameters">Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>groups</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array</span>



            
            </td>

            

            

            <td class="description last"><p>Array of group objects</p></td>
        </tr>

    
    </tbody>
</table>
















<h5 class="h5-returns">Returns:</h5>

        
<div class="param-desc">
    <p>Filtered array of groups with channels</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Array</span>



    </dd>
</dl>

    



        
            

    

    <h4 class="name" id=".filterValidIndices"><span class="type-signature type-signature-static">(static) </span>filterValidIndices<span class="signature">(indices, maxLength)</span><span class="type-signature"> &rarr; {Array}</span></h4>

    




<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li><p>Filter indices to only those within valid bounds</p></li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>













    <h5 class="h5-parameters">Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>indices</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array</span>



            
            </td>

            

            

            <td class="description last"><p>Array of channel indices</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>maxLength</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>



            
            </td>

            

            

            <td class="description last"><p>Maximum valid index (exclusive)</p></td>
        </tr>

    
    </tbody>
</table>
















<h5 class="h5-returns">Returns:</h5>

        
<div class="param-desc">
    <p>Filtered array of valid indices</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Array</span>



    </dd>
</dl>

    



        
            

    

    <h4 class="name" id=".mergeAnalogAndComputedMetadata"><span class="type-signature type-signature-static">(static) </span>mergeAnalogAndComputedMetadata<span class="signature">(includedAnalogIndices, metadata, computedForGroup)</span><span class="type-signature"> &rarr; {Object}</span></h4>

    




<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li><p>Merge analog and computed channel metadata for chart display</p></li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>













    <h5 class="h5-parameters">Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>includedAnalogIndices</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array</span>



            
            </td>

            

            

            <td class="description last"><p>Indices of included analog channels</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>metadata</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>



            
            </td>

            

            

            <td class="description last"><p>Object with yLabels, lineColors, yUnits, axesScales</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>computedForGroup</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array</span>



            
            </td>

            

            

            <td class="description last"><p>Array of computed channels</p></td>
        </tr>

    
    </tbody>
</table>
















<h5 class="h5-returns">Returns:</h5>

        
<div class="param-desc">
    <p>Object with merged labels, colors, units, scales</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Object</span>



    </dd>
</dl>

    



        
            

    

    <h4 class="name" id=".resolveGroupIndices"><span class="type-signature type-signature-static">(static) </span>resolveGroupIndices<span class="signature">(group, channelIDs)</span><span class="type-signature"> &rarr; {Array}</span></h4>

    




<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li><p>Resolve channel indices for a group from IDs and fallback indices</p></li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>













    <h5 class="h5-parameters">Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>group</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>



            
            </td>

            

            

            <td class="description last"><p>Group object with ids and indices properties</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>channelIDs</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array</span>



            
            </td>

            

            

            <td class="description last"><p>Array of all channel IDs for lookup</p></td>
        </tr>

    
    </tbody>
</table>
















<h5 class="h5-returns">Returns:</h5>

        
<div class="param-desc">
    <p>Array of resolved indices</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Array</span>



    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="~analyzeGroupsAndPublishMaxYAxes"><span class="type-signature type-signature-inner">(inner) </span>analyzeGroupsAndPublishMaxYAxes<span class="signature">(charts, channelState, cfg)</span><span class="type-signature"> &rarr; {number}</span></h4>

    




<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li><p><strong>Algorithm:</strong></p>
<ol>
<li>Extract group assignments from channelState.analog.groups</li>
<li>Convert string IDs (&quot;G0&quot;, &quot;G1&quot;) to numeric (0, 1) for consistency</li>
<li>For each unique group ID:
<ul>
<li>Collect all channels in that group</li>
<li>Call calculateAxisCountForGroup() to determine axis requirements</li>
<li>Store result in groupsWithAxisCounts array</li>
</ul>
</li>
<li>Find maximum axisCount across all groups</li>
<li>Publish to global store via setMaxYAxes()</li>
<li>Log detailed analysis for debugging</li>
<li>Return published value</li>
</ol>
<p><strong>Error Handling:</strong>
If any error occurs during analysis, logs the error and falls back to maxYAxes=1.
This ensures the app never breaks due to analysis failures.</p></li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>











    <h5 class="h5-examples">Examples</h5>
    
    <pre class="prettyprint"><code>// In a group change handlerconst maxYAxes = analyzeGroupsAndPublishMaxYAxes(charts, channelState, cfg);// Output: 2 (if any group needs 2+ axes)// Side effect: setMaxYAxes(2) called internally// All future chart renders will use 2 Y-axes</code></pre>

    <pre class="prettyprint"><code>// Console output shows group analysis:// [analyzeGroupsAndPublishMaxYAxes] 📊 Analysis: G0(3ch,1ax:[V,V,V]) | G1(2ch,2ax:[A,A])// [analyzeGroupsAndPublishMaxYAxes] 🎯 Publishing maxYAxes: 2</code></pre>




    <h5 class="h5-parameters">Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>charts</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array</span>



            
            </td>

            

            

            <td class="description last"><p>Array of chart instances (for reference/logging only)</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>channelState</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>



            
            </td>

            

            

            <td class="description last"><p>Reactive channel state object</p>
                <h6>Properties</h6>
                

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>analog</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array</span>



            
            </td>

            

            

            <td class="description last"><p>Analog channel state</p>
                <h6>Properties</h6>
                

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>groups</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array</span>



            
            </td>

            

            

            <td class="description last"><p>Group assignment array (indices align with channels)</p></td>
        </tr>

    
    </tbody>
</table>

            </td>
        </tr>

    
    </tbody>
</table>

            </td>
        </tr>

    

        <tr>
            
                <td class="name"><code>cfg</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>



            
            </td>

            

            

            <td class="description last"><p>COMTRADE configuration object</p>
                <h6>Properties</h6>
                

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>analogChannels</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array</span>



            
            </td>

            

            

            <td class="description last"><p>Array of analog channel definitions with unit/name</p></td>
        </tr>

    
    </tbody>
</table>

            </td>
        </tr>

    
    </tbody>
</table>
















<h5 class="h5-returns">Returns:</h5>

        
<div class="param-desc">
    <p>The calculated and published maxYAxes value (1, 2, 3, etc.)</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">number</span>



    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="~analyzeSpecificGroup"><span class="type-signature type-signature-inner">(inner) </span>analyzeSpecificGroup<span class="signature">(groupId, channelState, cfg)</span><span class="type-signature"> &rarr; {number}</span></h4>

    




<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li><p>This is a lower-level utility for when you need to check a single group.
It does NOT call setMaxYAxes(), so it won't affect the global state.
Useful for:</p>
<ul>
<li>Validation before publishing</li>
<li>Debugging individual groups</li>
<li>Testing group analysis logic</li>
</ul></li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>











    <h5 class="h5-examples">Example</h5>
    
    <pre class="prettyprint"><code>const axisCount = analyzeSpecificGroup(0, channelState, cfg);console.log(`Group 0 needs ${axisCount} axes`);</code></pre>




    <h5 class="h5-parameters">Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>groupId</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>
|

<span class="param-type">string</span>



            
            </td>

            

            

            <td class="description last"><p>The group to analyze (0, 1, &quot;G0&quot;, &quot;G1&quot;, etc.)</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>channelState</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>



            
            </td>

            

            

            <td class="description last"><p>Reactive channel state object</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>cfg</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>



            
            </td>

            

            

            <td class="description last"><p>COMTRADE configuration object</p></td>
        </tr>

    
    </tbody>
</table>
















<h5 class="h5-returns">Returns:</h5>

        
<div class="param-desc">
    <p>Axis count needed for this specific group (1, 2, etc.)</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">number</span>



    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="~getMaxYAxes"><span class="type-signature type-signature-inner">(inner) </span>getMaxYAxes<span class="signature">()</span><span class="type-signature"> &rarr; {number}</span></h4>

    




<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li><p>Get current maxYAxes value from global store</p></li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>











    <h5 class="h5-examples">Example</h5>
    
    <pre class="prettyprint"><code>const axes = getMaxYAxes();console.log(axes); // 1, 2, or higher</code></pre>


















<h5 class="h5-returns">Returns:</h5>

        
<div class="param-desc">
    <p>Current maxYAxes count (1, 2, 3, etc.)</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">number</span>



    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="~getMaxYAxesState"><span class="type-signature type-signature-inner">(inner) </span>getMaxYAxesState<span class="signature">()</span><span class="type-signature"> &rarr; {Object}</span></h4>

    




<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li><p>WARNING: Only use this if you need reactive subscriptions.
Remember to unsubscribe to avoid memory leaks!</p>
<p>The returned object's properties update reactively whenever setMaxYAxes() is called.
You can subscribe to changes like:</p>
<pre class="prettyprint source lang-javascript"><code>const unsub = getMaxYAxesState().subscribe(() => {
  console.log('maxYAxes changed to:', getMaxYAxes());
});
// When done, call unsub() to clean up
</code></pre></li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>











    <h5 class="h5-examples">Example</h5>
    
    <pre class="prettyprint"><code>const state = getMaxYAxesState();// Now state.maxYAxes === getMaxYAxes()</code></pre>


















<h5 class="h5-returns">Returns:</h5>

        
<div class="param-desc">
    <p>The createState object with reactive properties</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Object</span>



    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="~resetMaxYAxes"><span class="type-signature type-signature-inner">(inner) </span>resetMaxYAxes<span class="signature">()</span><span class="type-signature"> &rarr; {void}</span></h4>

    




<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li><p>Reset maxYAxes to default value (1)</p></li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>











    <h5 class="h5-examples">Example</h5>
    
    <pre class="prettyprint"><code>resetMaxYAxes(); // Back to 1 Y-axis for all charts</code></pre>


















<h5 class="h5-returns">Returns:</h5>

        


<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">void</span>



    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="~setMaxYAxes"><span class="type-signature type-signature-inner">(inner) </span>setMaxYAxes<span class="signature">(value)</span><span class="type-signature"> &rarr; {void}</span></h4>

    




<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li><p>Set maxYAxes value in global store (publish new state)</p></li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>











    <h5 class="h5-examples">Example</h5>
    
    <pre class="prettyprint"><code>setMaxYAxes(2); // All charts will now use 2 Y-axesconsole.log(getMaxYAxes()); // Outputs: 2</code></pre>




    <h5 class="h5-parameters">Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>value</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>



            
            </td>

            

            

            <td class="description last"><p>New maxYAxes count (must be &gt;= 1)</p></td>
        </tr>

    
    </tbody>
</table>














<h5 class="h5-throws">Throws:</h5>

        

<dl>
    <dt>
        <div class="param-desc usertext">
        <p>Does not throw, but logs warning if value is invalid</p>
        </div>
    </dt>
    <dd></dd>
    <dt>
        <dl class="param-type">
            <dt>
                Type
            </dt>
            <dd>
                
<span class="param-type">void</span>



            </dd>
        </dl>
    </dt>
    <dd></dd>
</dl>


    


<h5 class="h5-returns">Returns:</h5>

        


<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">void</span>



    </dd>
</dl>

    



        
    

    

    
</article>

</section>




    
    
</div>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 4.0.5</a> using the <a href="https://github.com/clenemt/docdash">docdash</a> theme.
</footer>

<script>prettyPrint();</script>
<script src="scripts/polyfill.js"></script>
<script src="scripts/linenumber.js"></script>

<script src="scripts/search.js" defer></script>


<script src="scripts/collapse.js" defer></script>


</body>
</html>