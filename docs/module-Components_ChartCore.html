<!DOCTYPE html>
<html lang="en">
<head>
    
    <meta charset="utf-8">
    <title>Components/ChartCore - Documentation</title>
    
    
    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc.css">
    <script src="scripts/nav.js" defer></script>
    
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav >
    
    <input type="text" id="nav-search" placeholder="Search" />
    
    
    <h2><a href="index.html">Home</a></h2><h2><a href="/" target="_self" class="menu-item" >COMTRADE Viewer</a></h2><h3>Modules</h3><ul><li><a href="module-Components_Analysis.html">Components/Analysis</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-Components_Analysis.html#~getColorHex">getColorHex</a></li></ul></li><li></li><li></li><li></li><li><a href="module-Components_ChartCore.html">Components/ChartCore</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-Components_ChartCore.html#~createChartOptions">createChartOptions</a></li><li data-type='method' style='display: none;'><a href="module-Components_ChartCore.html#~subscribeChartUpdates">subscribeChartUpdates</a></li></ul></li><li></li><li></li><li><a href="module-Components_ChartRendering.html">Components/ChartRendering</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-Components_ChartRendering.html#~filterIndicesWithData">filterIndicesWithData</a></li><li data-type='method' style='display: none;'><a href="module-Components_ChartRendering.html#~hasDigitalData">hasDigitalData</a></li></ul></li><li></li><li></li><li></li><li></li><li><a href="module-Components_DragDrop.html">Components/DragDrop</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-Components_DragDrop.html#~setupChartDragAndDrop">setupChartDragAndDrop</a></li></ul></li><li><a href="module-Components_Equation.html">Components/Equation</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-Components_Equation.html#~generateCFGContentBatch">generateCFGContentBatch</a></li><li data-type='method' style='display: none;'><a href="module-Components_Equation.html#~generateDATContentBatch">generateDATContentBatch</a></li><li data-type='method' style='display: none;'><a href="module-Components_Equation.html#~performExport">performExport</a></li><li data-type='method' style='display: none;'><a href="module-Components_Equation.html#~showExportFormatDialog">showExportFormatDialog</a></li></ul></li><li><a href="module-Components_PolarChart.html">Components/PolarChart</a></li><li></li><li></li><li><a href="module-Components_Sidebars.html">Components/Sidebars</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-Components_Sidebars.html#~convertLatexToMathJs">convertLatexToMathJs</a></li><li data-type='method' style='display: none;'><a href="module-Components_Sidebars.html#~convertLatexToPlainText">convertLatexToPlainText</a></li><li data-type='method' style='display: none;'><a href="module-Components_Sidebars.html#~createAnalogChannelGroupMap">createAnalogChannelGroupMap</a></li><li data-type='method' style='display: none;'><a href="module-Components_Sidebars.html#~createChannelItem">createChannelItem</a></li><li data-type='method' style='display: none;'><a href="module-Components_Sidebars.html#~createSimpleChannelList">createSimpleChannelList</a></li><li data-type='method' style='display: none;'><a href="module-Components_Sidebars.html#~detectGroupFromExpression">detectGroupFromExpression</a></li><li data-type='method' style='display: none;'><a href="module-Components_Sidebars.html#~evaluateAndSaveComputedChannel">evaluateAndSaveComputedChannel</a></li><li data-type='method' style='display: none;'><a href="module-Components_Sidebars.html#~formatEquationForLatex">formatEquationForLatex</a></li><li data-type='method' style='display: none;'><a href="module-Components_Sidebars.html#~generateUniqueComputedGroup">generateUniqueComputedGroup</a></li><li data-type='method' style='display: none;'><a href="module-Components_Sidebars.html#~getAllAvailableGroups">getAllAvailableGroups</a></li><li data-type='method' style='display: none;'><a href="module-Components_Sidebars.html#~openMathLiveEditor">openMathLiveEditor</a></li></ul></li><li></li><li></li><li><a href="module-Components_State.html">Components/State</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-Components_State.html#~createState">createState</a></li></ul></li><li><a href="module-Components_UI.html">Components/UI</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-Components_UI.html#~createDragBar">createDragBar</a></li></ul></li><li></li><li></li><li></li><li></li><li></li><li></li><li><a href="module-Components_VerticalLine.html">Components/VerticalLine</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-Components_VerticalLine.html#~destroy">destroy</a></li><li data-type='method' style='display: none;'><a href="module-Components_VerticalLine.html#~getElement">getElement</a></li><li data-type='method' style='display: none;'><a href="module-Components_VerticalLine.html#~getState">getState</a></li><li data-type='method' style='display: none;'><a href="module-Components_VerticalLine.html#~getValue">getValue</a></li><li data-type='method' style='display: none;'><a href="module-Components_VerticalLine.html#~handleVerticalLineShortcuts">handleVerticalLineShortcuts</a></li><li data-type='method' style='display: none;'><a href="module-Components_VerticalLine.html#~setEnabled">setEnabled</a></li><li data-type='method' style='display: none;'><a href="module-Components_VerticalLine.html#~setRange">setRange</a></li><li data-type='method' style='display: none;'><a href="module-Components_VerticalLine.html#~setValue">setValue</a></li><li data-type='method' style='display: none;'><a href="module-Components_VerticalLine.html#~setVisible">setVisible</a></li><li data-type='method' style='display: none;'><a href="module-Components_VerticalLine.html#~syncPosition">syncPosition</a></li><li data-type='method' style='display: none;'><a href="module-Components_VerticalLine.html#~updateDuration">updateDuration</a></li></ul></li><li></li><li></li><li><a href="module-Plugins_Chart.html">Plugins/Chart</a><ul class='methods'></ul></li><li></li><li></li><li></li><li></li><li></li><li><a href="module-Services_ComputedChannels.html">Services/ComputedChannels</a></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li><a href="module-Utils_COMTRADE.html">Utils/COMTRADE</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-Utils_COMTRADE.html#~parseCFG">parseCFG</a></li><li data-type='method' style='display: none;'><a href="module-Utils_COMTRADE.html#~parseDAT">parseDAT</a></li></ul></li><li><a href="module-Utils_Chart.html">Utils/Chart</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-Utils_Chart.html#~applyZoom">applyZoom</a></li><li data-type='method' style='display: none;'><a href="module-Utils_Chart.html#~buildCompleteAxesArray">buildCompleteAxesArray</a></li><li data-type='method' style='display: none;'><a href="module-Utils_Chart.html#~calculateAxisCountForGroup">calculateAxisCountForGroup</a></li><li data-type='method' style='display: none;'><a href="module-Utils_Chart.html#~calculateAxisCountsForAllGroups">calculateAxisCountsForAllGroups</a></li><li data-type='method' style='display: none;'><a href="module-Utils_Chart.html#~createMultiAxisDefinition">createMultiAxisDefinition</a></li><li data-type='method' style='display: none;'><a href="module-Utils_Chart.html#~createSeriesDefinitions">createSeriesDefinitions</a></li><li data-type='method' style='display: none;'><a href="module-Utils_Chart.html#~createSingleAxisDefinition">createSingleAxisDefinition</a></li><li data-type='method' style='display: none;'><a href="module-Utils_Chart.html#~createYAxisScales">createYAxisScales</a></li><li data-type='method' style='display: none;'><a href="module-Utils_Chart.html#~didAxisCountChange">didAxisCountChange</a></li><li data-type='method' style='display: none;'><a href="module-Utils_Chart.html#~getAxisCount">getAxisCount</a></li><li data-type='method' style='display: none;'><a href="module-Utils_Chart.html#~getAxisForType">getAxisForType</a></li><li data-type='method' style='display: none;'><a href="module-Utils_Chart.html#~getChannelType">getChannelType</a></li><li data-type='method' style='display: none;'><a href="module-Utils_Chart.html#~getGroupAxisInfo">getGroupAxisInfo</a></li><li data-type='method' style='display: none;'><a href="module-Utils_Chart.html#~getSeriesAxisIndex">getSeriesAxisIndex</a></li><li data-type='method' style='display: none;'><a href="module-Utils_Chart.html#~getThemeColors">getThemeColors</a></li><li data-type='method' style='display: none;'><a href="module-Utils_Chart.html#~handleVerticalLineAddition">handleVerticalLineAddition</a></li><li data-type='method' style='display: none;'><a href="module-Utils_Chart.html#~updateZoomDisplay">updateZoomDisplay</a></li></ul></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li><a href="module-Utils_ComputedChannels.html">Utils/ComputedChannels</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-Utils_ComputedChannels.html#~broadcastComputedChannelChange">broadcastComputedChannelChange</a></li><li data-type='method' style='display: none;'><a href="module-Utils_ComputedChannels.html#~handleComputedVerticalLineAddition">handleComputedVerticalLineAddition</a></li></ul></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li><a href="module-Utils_DOM.html">Utils/DOM</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-Utils_DOM.html#~clearChartsContainer">clearChartsContainer</a></li><li data-type='method' style='display: none;'><a href="module-Utils_DOM.html#~initializeSidebarChannels">initializeSidebarChannels</a></li><li data-type='method' style='display: none;'><a href="module-Utils_DOM.html#~resizeChartsToContainers">resizeChartsToContainers</a></li><li data-type='method' style='display: none;'><a href="module-Utils_DOM.html#~setupMobileSidebar">setupMobileSidebar</a></li><li data-type='method' style='display: none;'><a href="module-Utils_DOM.html#~showFileInfo">showFileInfo</a></li><li data-type='method' style='display: none;'><a href="module-Utils_DOM.html#~toggleChartsVisibility">toggleChartsVisibility</a></li><li data-type='method' style='display: none;'><a href="module-Utils_DOM.html#~updateFileInfo">updateFileInfo</a></li><li data-type='method' style='display: none;'><a href="module-Utils_DOM.html#~updateStatsCards">updateStatsCards</a></li><li data-type='method' style='display: none;'><a href="module-Utils_DOM.html#~wrapChartInSection">wrapChartInSection</a></li></ul></li><li></li><li></li><li></li><li></li><li></li><li></li><li><a href="module-Utils_Data.html">Utils/Data</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-Utils_Data.html#~formatScaledValue">formatScaledValue</a></li><li data-type='method' style='display: none;'><a href="module-Utils_Data.html#~getChannelMetadata">getChannelMetadata</a></li><li data-type='method' style='display: none;'><a href="module-Utils_Data.html#~renameChannelWithPrefix">renameChannelWithPrefix</a></li></ul></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li><a href="module-Utils_DigitalChannels.html">Utils/DigitalChannels</a></li><li><a href="module-Utils_Grouping.html">Utils/Grouping</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-Utils_Grouping.html#~analyzeGroupsAndPublishMaxYAxes">analyzeGroupsAndPublishMaxYAxes</a></li><li data-type='method' style='display: none;'><a href="module-Utils_Grouping.html#~analyzeSpecificGroup">analyzeSpecificGroup</a></li><li data-type='method' style='display: none;'><a href="module-Utils_Grouping.html#~getMaxYAxes">getMaxYAxes</a></li><li data-type='method' style='display: none;'><a href="module-Utils_Grouping.html#~getMaxYAxesState">getMaxYAxesState</a></li><li data-type='method' style='display: none;'><a href="module-Utils_Grouping.html#~resetMaxYAxes">resetMaxYAxes</a></li><li data-type='method' style='display: none;'><a href="module-Utils_Grouping.html#~setMaxYAxes">setMaxYAxes</a></li></ul></li><li></li><li></li><li></li><li></li><li><a href="module-Utils_Helpers.html">Utils/Helpers</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-Utils_Helpers.html#~closeMergerWindow">closeMergerWindow</a></li><li data-type='method' style='display: none;'><a href="module-Utils_Helpers.html#~getMergerWindow">getMergerWindow</a></li><li data-type='method' style='display: none;'><a href="module-Utils_Helpers.html#~isMergerWindowOpen">isMergerWindowOpen</a></li><li data-type='method' style='display: none;'><a href="module-Utils_Helpers.html#~openMergerWindow">openMergerWindow</a></li></ul></li><li></li><li></li><li><a href="module-Utils_Theme.html">Utils/Theme</a></li><li></li><li></li></ul><h3>Classes</h3><ul><li><a href="module-Components_PolarChart.PolarChartCanvas.html">PolarChartCanvas</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-Components_PolarChart.PolarChartCanvas.html#extractRealPhasorData">extractRealPhasorData</a></li><li data-type='method' style='display: none;'><a href="module-Components_PolarChart.PolarChartCanvas.html#init">init</a></li><li data-type='method' style='display: none;'><a href="module-Components_PolarChart.PolarChartCanvas.html#renderCanvasDebounced">renderCanvasDebounced</a></li><li data-type='method' style='display: none;'><a href="module-Components_PolarChart.PolarChartCanvas.html#renderCanvasPolar">renderCanvasPolar</a></li><li data-type='method' style='display: none;'><a href="module-Components_PolarChart.PolarChartCanvas.html#updateData">updateData</a></li><li data-type='method' style='display: none;'><a href="module-Components_PolarChart.PolarChartCanvas.html#updatePhasorAtTimeIndex">updatePhasorAtTimeIndex</a></li></ul></li><li><a href="module-Utils_ComputedChannels-ComputedChannelMetadata.html">ComputedChannelMetadata</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-Utils_ComputedChannels-ComputedChannelMetadata.html#clear">clear</a></li><li data-type='method' style='display: none;'><a href="module-Utils_ComputedChannels-ComputedChannelMetadata.html#count">count</a></li><li data-type='method' style='display: none;'><a href="module-Utils_ComputedChannels-ComputedChannelMetadata.html#delete">delete</a></li><li data-type='method' style='display: none;'><a href="module-Utils_ComputedChannels-ComputedChannelMetadata.html#fromJSON">fromJSON</a></li><li data-type='method' style='display: none;'><a href="module-Utils_ComputedChannels-ComputedChannelMetadata.html#get">get</a></li><li data-type='method' style='display: none;'><a href="module-Utils_ComputedChannels-ComputedChannelMetadata.html#getAll">getAll</a></li><li data-type='method' style='display: none;'><a href="module-Utils_ComputedChannels-ComputedChannelMetadata.html#getByGroup">getByGroup</a></li><li data-type='method' style='display: none;'><a href="module-Utils_ComputedChannels-ComputedChannelMetadata.html#getByName">getByName</a></li><li data-type='method' style='display: none;'><a href="module-Utils_ComputedChannels-ComputedChannelMetadata.html#has">has</a></li><li data-type='method' style='display: none;'><a href="module-Utils_ComputedChannels-ComputedChannelMetadata.html#toJSON">toJSON</a></li></ul></li></ul>
    
</nav>

<div id="main">
    
    <h1 class="page-title">Components/ChartCore</h1>
    

    




<section>

<header>
    
        
            
        
            
        
            
        
    
</header>

<article>
    
        <div class="container-overview">
        
            
                <div class="description usertext"><p>Helper functions for incremental/in-place chart updates that avoid expensive full rebuilds.
Provides utilities for:</p>
<ul>
<li>Color updates in-place</li>
<li>Scale/data transform updates</li>
<li>Group change detection and simulation</li>
<li>Channel deletion with axis count comparison</li>
<li>Series manipulation without full rebuild</li>
</ul>
<p>These helpers are used by the new centralized handleChannelUpdate() flow
to decide whether a cheap in-place update is possible or a full rebuild is needed.</p></div>
            

            
                




<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li><p>Helper functions for incremental/in-place chart updates that avoid expensive full rebuilds.
Provides utilities for:</p>
<ul>
<li>Color updates in-place</li>
<li>Scale/data transform updates</li>
<li>Group change detection and simulation</li>
<li>Channel deletion with axis count comparison</li>
<li>Series manipulation without full rebuild</li>
</ul>
<p>These helpers are used by the new centralized handleChannelUpdate() flow
to decide whether a cheap in-place update is possible or a full rebuild is needed.</p></li></ul></dd>
    

    

    

    
    <dt class="tag-since">Since:</dt>
    <dd class="tag-since"><ul class="dummy"><li>2.1.0</li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>






























            
                




<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li><p>Factory module for building complete uPlot chart option configurations. Handles
the complex setup of axes, series, scales, and plugins needed for rendering
COMTRADE data with support for multiple Y-axes, auto-scaling, and interactive
features like vertical line markers and horizontal zoom/pan.</p>
<p>Key Features:</p>
<ul>
<li>Single or multiple Y-axis support (adaptive layout)</li>
<li>Auto-unit scaling plugin for SI prefix formatting</li>
<li>Horizontal zoom and pan plugin</li>
<li>Vertical line plugin for time markers</li>
<li>Synchronized crosshair cursors across charts</li>
<li>Smart axis labeling with units (A, V, kA, mV, etc)</li>
<li>Y-axis alternation (left/right sides)</li>
<li>Diagnostic logging for scale debugging</li>
</ul>
<p>Dependencies:</p>
<ul>
<li>uPlot.js: Main charting library</li>
<li>scaleUtils.js: SI prefix and axis formatting</li>
<li>createState.js: Reactive state management</li>
<li>autoUnitScalePlugin: Auto-scaling plugin</li>
<li>horizontalZoomPanPlugin: Zoom/pan functionality</li>
<li>verticalLinePlugin: Vertical line markers</li>
</ul></li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>











    <h5 class="h5-examples">Example</h5>
    
    <pre class="prettyprint"><code>import { createChartOptions } from './chartComponent.js';const opts = createChartOptions({  title: "Analog Channels",  yLabels: ["Phase A", "Phase B", "Phase C"],  lineColors: ["#FF0000", "#00FF00", "#0000FF"],  verticalLinesX: [],  xLabel: "Time",  xUnit: "seconds",  getCharts: () => charts,  yUnits: ["kA", "kA", "kA"],  axesScales: [1000, 1000, 1000],  // x-scale, y0-scale, y1-scale, etc  scales: { x: { auto: true }, y: { auto: true } },  singleYAxis: false,               // Multiple Y-axes  autoScaleUnit: { x: true, y: true }});const chart = new uPlot(opts, chartData, container);</code></pre>





















            
                




<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li><p>Central reactive state manager for chart updates in the COMTRADE charting application.
Bridges between user-triggered state changes (via Tabulator editor) and uPlot chart
rendering. Provides intelligent update strategies: in-place updates for simple changes
(colors, labels) and full re-rendering for structural changes (channel add/remove, grouping).</p>
<p>Key Responsibilities:</p>
<ul>
<li>Subscribe to reactive state (channelState, dataState, verticalLinesX)</li>
<li>Detect change types: simple (label/color) vs structural (add/remove/group)</li>
<li>Apply in-place updates for performance when possible</li>
<li>Recreate charts on structural changes</li>
<li>Handle amplitude inversion for selected channels</li>
<li>Apply time-window filtering (start/duration)</li>
<li>Manage vertical line overlays and delta calculations</li>
<li>Publish maxYAxes changes to global store for all charts to consume</li>
<li>Use analyzeGroupsAndPublishMaxYAxes() for functional group analysis</li>
</ul>
<p>Features:</p>
<ul>
<li>Automatic chart update on state mutation</li>
<li>Dual-chart support (analog and digital)</li>
<li>Time-windowing with start/duration filtering</li>
<li>Series inversion with in-place optimization</li>
<li>Deltastate-based change detection</li>
<li>Fallback from in-place to full rebuild on errors</li>
<li>Debug logging via debugPanelLite</li>
<li>Global axis alignment published to centralized store via functional approach</li>
</ul>
<p>Dependencies:</p>
<ul>
<li>chartComponent.js: createChartOptions factory</li>
<li>renderComtradeCharts.js: Full chart reconstruction</li>
<li>debugPanelLite.js: Console debug logging</li>
<li>createState.js: Reactive state management</li>
<li>analyzeGroupsAndPublish.js: Pure function to analyze &amp; publish axes</li>
</ul></li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>











    <h5 class="h5-examples">Example</h5>
    
    <pre class="prettyprint"><code>import { subscribeChartUpdates } from './components/chartManager.js';// After initializing state and rendering chartssubscribeChartUpdates(  channelState,           // { analog: {...}, digital: {...} }  dataState,              // { analog: [...], digital: [...] }  charts,                 // [analogChart, digitalChart]  chartsContainer,        // DOM element  verticalLinesX          // Reactive array of marker positions);// Now any changes trigger automatic updates:channelState.analog.lineColors[0] = '#FF0000';  // Color change -> in-place updatechannelState.analog.yLabels[0] = 'New Label';   // Label change -> in-place updatechannelState.analog.groups[0] = 1;              // Group change -> full rebuild + publish axes to store</code></pre>





















            
        
        </div>
    

    

    

    
    
    

     

    

    

    
        <h3 class="subsection-title">Methods</h3>

        
            

    

    <h4 class="name" id=".applyColorChangeInPlace"><span class="type-signature type-signature-static">(static) </span>applyColorChangeInPlace<span class="signature">(payload, channelState)</span><span class="type-signature"> &rarr; {boolean}</span></h4>

    




<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li><p>Apply a color change in-place without rebuilding charts</p></li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>













    <h5 class="h5-parameters">Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>payload</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>



            
            </td>

            

            

            <td class="description last"><p>{ row, value } where row has channelID and type</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>channelState</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>



            
            </td>

            

            

            <td class="description last"><p>Reactive channel state</p></td>
        </tr>

    
    </tbody>
</table>
















<h5 class="h5-returns">Returns:</h5>

        
<div class="param-desc">
    <p>true if successful</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">boolean</span>



    </dd>
</dl>

    



        
            

    

    <h4 class="name" id=".applyDataTransformInPlace"><span class="type-signature type-signature-static">(static) </span>applyDataTransformInPlace<span class="signature">(payload, channelState)</span><span class="type-signature"> &rarr; {boolean}</span></h4>

    




<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li><p>Apply data transform (scale/time_window) changes
For now, returns false to trigger full rebuild. Can be enhanced.</p></li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>













    <h5 class="h5-parameters">Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>payload</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>



            
            </td>

            

            

            <td class="description last"><p>{ row, type, value }</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>channelState</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>



            
            </td>

            

            

            <td class="description last"><p>Reactive channel state</p></td>
        </tr>

    
    </tbody>
</table>
















<h5 class="h5-returns">Returns:</h5>

        
<div class="param-desc">
    <p>true if successful in-place update</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">boolean</span>



    </dd>
</dl>

    



        
            

    

    <h4 class="name" id=".applyGroupChangeInPlace"><span class="type-signature type-signature-static">(static) </span>applyGroupChangeInPlace<span class="signature">(channelID, newGroup, channelState)</span><span class="type-signature"> &rarr; {boolean}</span></h4>

    




<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li><p>Apply a group change in-place by moving series between uPlot instances
This is a simplified approach; complex scenarios still need full rebuild</p></li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>













    <h5 class="h5-parameters">Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>channelID</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>



            
            </td>

            

            

            <td class="description last"><p>Channel to move</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>newGroup</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>



            
            </td>

            

            

            <td class="description last"><p>New group ID</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>channelState</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>



            
            </td>

            

            

            <td class="description last"><p>Reactive state (used to find new chart)</p></td>
        </tr>

    
    </tbody>
</table>
















<h5 class="h5-returns">Returns:</h5>

        
<div class="param-desc">
    <p>true if successful</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">boolean</span>



    </dd>
</dl>

    



        
            

    

    <h4 class="name" id=".axisCountDidChange"><span class="type-signature type-signature-static">(static) </span>axisCountDidChange<span class="signature">(beforeState, afterState)</span><span class="type-signature"> &rarr; {boolean}</span></h4>

    




<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li><p>Check if axis count changed between two states
Uses existing axisCalculator to determine if a rebuild is needed</p></li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>













    <h5 class="h5-parameters">Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>beforeState</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>



            
            </td>

            

            

            <td class="description last"><p>Channel state before change</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>afterState</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>



            
            </td>

            

            

            <td class="description last"><p>Channel state after change</p></td>
        </tr>

    
    </tbody>
</table>
















<h5 class="h5-returns">Returns:</h5>

        
<div class="param-desc">
    <p>true if axis count changed</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">boolean</span>



    </dd>
</dl>

    



        
            

    

    <h4 class="name" id=".findChannelIndex"><span class="type-signature type-signature-static">(static) </span>findChannelIndex<span class="signature">(channelState, channelID, typeKey)</span><span class="type-signature"> &rarr; {number}</span></h4>

    




<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li><p>Find the index of a channel within its type section</p></li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>













    <h5 class="h5-parameters">Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>channelState</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>



            
            </td>

            

            

            <td class="description last"><p>Reactive state</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>channelID</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>



            
            </td>

            

            

            <td class="description last"><p>Channel ID to find</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>typeKey</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>



            
            </td>

            

            

            <td class="description last"><p>&quot;analog&quot;, &quot;digital&quot;, or &quot;computed&quot;</p></td>
        </tr>

    
    </tbody>
</table>
















<h5 class="h5-returns">Returns:</h5>

        
<div class="param-desc">
    <p>Index if found, -1 otherwise</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">number</span>



    </dd>
</dl>

    



        
            

    

    <h4 class="name" id=".findChartEntryForChannel"><span class="type-signature type-signature-static">(static) </span>findChartEntryForChannel<span class="signature">(channelID)</span><span class="type-signature"> &rarr; {Object|null}</span></h4>

    




<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li><p>Find the chart metadata entry for a specific channel</p></li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>













    <h5 class="h5-parameters">Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>channelID</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>



            
            </td>

            

            

            <td class="description last"><p>Channel ID to find</p></td>
        </tr>

    
    </tbody>
</table>
















<h5 class="h5-returns">Returns:</h5>

        
<div class="param-desc">
    <p>Chart metadata entry or null if not found</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Object</span>
|

<span class="param-type">null</span>



    </dd>
</dl>

    



        
            

    

    <h4 class="name" id=".getChannelStateSnapshot"><span class="type-signature type-signature-static">(static) </span>getChannelStateSnapshot<span class="signature">(channelState)</span><span class="type-signature"> &rarr; {Object}</span></h4>

    




<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li><p>Get a snapshot of the current channel state
Used for comparison before and after simulated changes</p></li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>













    <h5 class="h5-parameters">Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>channelState</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>



            
            </td>

            

            

            <td class="description last"><p>Reactive channel state</p></td>
        </tr>

    
    </tbody>
</table>
















<h5 class="h5-returns">Returns:</h5>

        
<div class="param-desc">
    <p>Snapshot of state (suitable for comparison)</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Object</span>



    </dd>
</dl>

    



        
            

    

    <h4 class="name" id=".handleChannelUpdate"><span class="type-signature type-signature-static">(static) </span>handleChannelUpdate<span class="signature">(type, payload, channelState, dataState, charts, chartsContainer, onFullRebuild, onProgress<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {boolean}</span></h4>

    




<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li><p>Central handler for channel updates coming from the Tabulator / ChannelList.
Decides whether we can apply a cheap in-place update or must rebuild.</p></li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>











    <h5 class="h5-examples">Example</h5>
    
    <pre class="prettyprint"><code>import { handleChannelUpdate } from './components/chartManager.js';handleChannelUpdate(  'color',  { row: {...}, value: '#ff0000' },  channelState,  dataState,  charts,  chartsContainer,  () => fullRebuildFromState(),  (percent, message) => updateProgress(percent, message));</code></pre>




    <h5 class="h5-parameters">Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>type</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>



            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last"><p>Update type ('color', 'scale', 'time_window', 'group', 'delete', 'update', etc.)</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>payload</code></td>
            

            <td class="type">
            
                
<span class="param-type">any</span>



            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last"><p>Payload from ChannelList (usually { row, value } or raw rowData)</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>channelState</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>



            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last"><p>Reactive channel state (required for some update types)</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>dataState</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>



            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last"><p>Reactive data state (used for data recalculation)</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>charts</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array</span>



            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last"><p>Chart instances array [analogChart, digitalChart, ...]</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>chartsContainer</code></td>
            

            <td class="type">
            
                
<span class="param-type">HTMLElement</span>



            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last"><p>Container element for charts</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>onFullRebuild</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>



            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last"><p>Callback to trigger full rebuild if needed</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>onProgress</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>



            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>Optional progress callback: (percent, message) =&gt; void</p></td>
        </tr>

    
    </tbody>
</table>
















<h5 class="h5-returns">Returns:</h5>

        
<div class="param-desc">
    <p>true if handled via cheap path, false if fallback to rebuild</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">boolean</span>



    </dd>
</dl>

    



        
            

    

    <h4 class="name" id=".removeSeriesInPlace"><span class="type-signature type-signature-static">(static) </span>removeSeriesInPlace<span class="signature">(channelID)</span><span class="type-signature"> &rarr; {boolean}</span></h4>

    




<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li><p>Remove a series from its uPlot instance in-place</p></li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>













    <h5 class="h5-parameters">Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>channelID</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>



            
            </td>

            

            

            <td class="description last"><p>Channel to remove</p></td>
        </tr>

    
    </tbody>
</table>
















<h5 class="h5-returns">Returns:</h5>

        
<div class="param-desc">
    <p>true if successful</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">boolean</span>



    </dd>
</dl>

    



        
            

    

    <h4 class="name" id=".simulateChannelDeletion"><span class="type-signature type-signature-static">(static) </span>simulateChannelDeletion<span class="signature">(currentState, channelID)</span><span class="type-signature"> &rarr; {Object|null}</span></h4>

    




<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li><p>Simulate a channel deletion without committing it
Returns a cloned state with the channel removed</p></li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>













    <h5 class="h5-parameters">Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>currentState</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>



            
            </td>

            

            

            <td class="description last"><p>Current channel state</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>channelID</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>



            
            </td>

            

            

            <td class="description last"><p>Channel to delete</p></td>
        </tr>

    
    </tbody>
</table>
















<h5 class="h5-returns">Returns:</h5>

        
<div class="param-desc">
    <p>Simulated state or null if channel not found</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Object</span>
|

<span class="param-type">null</span>



    </dd>
</dl>

    



        
            

    

    <h4 class="name" id=".simulateChannelGroupChange"><span class="type-signature type-signature-static">(static) </span>simulateChannelGroupChange<span class="signature">(currentState, channelID, newGroup)</span><span class="type-signature"> &rarr; {Object|null}</span></h4>

    




<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li><p>Simulate a group change without committing it
Returns a cloned state with the channel moved to a new group</p></li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>













    <h5 class="h5-parameters">Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>currentState</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>



            
            </td>

            

            

            <td class="description last"><p>Current channel state</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>channelID</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>



            
            </td>

            

            

            <td class="description last"><p>Channel to move</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>newGroup</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>



            
            </td>

            

            

            <td class="description last"><p>Target group ID</p></td>
        </tr>

    
    </tbody>
</table>
















<h5 class="h5-returns">Returns:</h5>

        
<div class="param-desc">
    <p>Simulated state or null if channel not found</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Object</span>
|

<span class="param-type">null</span>



    </dd>
</dl>

    



        
            

    

    <h4 class="name" id=".updateAllChartAxisColors"><span class="type-signature type-signature-static">(static) </span>updateAllChartAxisColors<span class="signature">(chartsArray)</span><span class="type-signature"></span></h4>

    




<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li><p>Update all chart colors when theme changes
Redraws charts to re-evaluate axis color functions from CSS variables</p></li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>













    <h5 class="h5-parameters">Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>chartsArray</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array</span>



            
            </td>

            

            

            <td class="description last"><p>Array of uPlot chart instances</p></td>
        </tr>

    
    </tbody>
</table>



















        
            

    

    <h4 class="name" id="~createChartOptions"><span class="type-signature type-signature-inner">(inner) </span>createChartOptions<span class="signature">(config)</span><span class="type-signature"> &rarr; {Object}</span></h4>

    




<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li><p>Generate complete uPlot chart options configuration.</p>
<p>Factory function that builds a comprehensive uPlot options object from
configuration parameters. Supports single and multiple Y-axis layouts,
auto-scaling with SI prefixes, synchronized cursors, and plugin support.</p>
<p>Key responsibilities:</p>
<ol>
<li>Resolve scales and axis configuration</li>
<li>Build series array with line colors and scales</li>
<li>Configure X and Y axes with proper labeling</li>
<li>Set up synchronized cursor and selection</li>
<li>Attach plugins (auto-scale, zoom/pan, vertical lines)</li>
<li>Return fully configured uPlot options</li>
</ol></li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>











    <h5 class="h5-examples">Examples</h5>
    
    <pre class="prettyprint"><code>// Single Y-axis for analog channels (grouped by phase)const analogOpts = createChartOptions({  title: "Three-Phase Current",  yLabels: ["Phase A Current", "Phase B Current", "Phase C Current"],  lineColors: ["#FF5733", "#33FF57", "#3357FF"],  verticalLinesX: verticalLinesArray,  xLabel: "Time",  xUnit: "seconds",  getCharts: () => charts,  yUnits: ["A", "A", "A"],  axesScales: [1000, 500],  // x: 1000, y: 500  singleYAxis: true,  autoScaleUnit: { x: true, y: true }});</code></pre>

    <pre class="prettyprint"><code>// Multiple Y-axes for mixed unitsconst mixedOpts = createChartOptions({  title: "Voltage and Current",  yLabels: ["Voltage", "Current", "Temperature"],  lineColors: ["#FF0000", "#00FF00", "#0000FF"],  verticalLinesX: [],  yUnits: ["V", "A", "C"],  axesScales: [1000, 1000, 1000, 100],  // x, y0, y1, y2 scales  scales: { x: { auto: true }, y0: { auto: true }, y1: { auto: true }, y2: { auto: true } },  singleYAxis: false,  autoScaleUnit: { x: false, y: false }});</code></pre>

    <pre class="prettyprint"><code>// Digital channels with fixed scaleconst digitalOpts = createChartOptions({  title: "Digital States",  yLabels: ["State 0", "State 1", "State 2"],  lineColors: ["#FFAA00", "#00AAFF", "#FF00AA"],  scales: { x: { auto: true }, y: { min: -0.5, max: 8, auto: false } },  singleYAxis: true,  autoScaleUnit: { x: true, y: false }});</code></pre>




    <h5 class="h5-parameters">Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>config</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>



            
            </td>

            

            

            <td class="description last"><p>Configuration object</p>
                <h6>Properties</h6>
                

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        
        <th>Default</th>
        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>title</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>



            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last"><p>Chart title displayed at top</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>yLabels</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array.&lt;string></span>



            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last"><p>Y-axis labels for each series</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>lineColors</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array.&lt;string></span>



            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last"><p>Stroke colors for each series (cycles if fewer than series)</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>verticalLinesX</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array.&lt;number></span>
|

<span class="param-type">Object</span>



            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last"><p>Vertical line positions array (or createState)</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>xLabel</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>



            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    <code>""</code>
                
                </td>
            

            <td class="description last"><p>X-axis label</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>xUnit</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>



            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    <code>"sec"</code>
                
                </td>
            

            <td class="description last"><p>X-axis unit</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>width</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>



            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    <code>400</code>
                
                </td>
            

            <td class="description last"><p>Chart width in pixels</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>height</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>



            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    <code>200</code>
                
                </td>
            

            <td class="description last"><p>Chart height in pixels</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>getCharts</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>



            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last"><p>Getter function returning all chart instances</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>yUnits</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array.&lt;string></span>



            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    <code>[]</code>
                
                </td>
            

            <td class="description last"><p>Y-axis units for each series</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>axesScales</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array.&lt;number></span>



            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    <code>[]</code>
                
                </td>
            

            <td class="description last"><p>Scale factors [xScale, y0Scale, y1Scale, ...]</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>scales</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>



            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    <code>{}</code>
                
                </td>
            

            <td class="description last"><p>uPlot scales object: { x: {...}, y: {...}, y0: {...}, ... }</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>select</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>



            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    <code>{show: true}</code>
                
                </td>
            

            <td class="description last"><p>Selection tool configuration</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>singleYAxis</code></td>
            

            <td class="type">
            
                
<span class="param-type">boolean</span>



            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    <code>true</code>
                
                </td>
            

            <td class="description last"><p>True for single Y-axis, false for multi</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>autoScaleUnit</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>



            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    <code>{x: true, y: true}</code>
                
                </td>
            

            <td class="description last"><p>Auto-scale SI prefix formatting</p></td>
        </tr>

    
    </tbody>
</table>

            </td>
        </tr>

    
    </tbody>
</table>
















<h5 class="h5-returns">Returns:</h5>

        
<div class="param-desc">
    <p>Complete uPlot options object with:</p>
<ul>
<li>@property {string} title</li>
<li>@property {number} width, height</li>
<li>@property {Object} scales - uPlot scale configuration</li>
<li>@property {Array} series - Series definitions with labels and colors</li>
<li>@property {Array} axes - X and Y axis configurations</li>
<li>@property {Object} cursor - Synchronized crosshair configuration</li>
<li>@property {Array} plugins - [autoUnitScale, horizontalZoomPan, verticalLine]</li>
<li>@property {Object} legend - { show: false }</li>
</ul>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Object</span>



    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="~subscribeChartUpdates"><span class="type-signature type-signature-inner">(inner) </span>subscribeChartUpdates<span class="signature">(channelState, dataState, charts, chartsContainer, verticalLinesX, cfg<span class="signature-attributes">opt</span>, data<span class="signature-attributes">opt</span>, createState<span class="signature-attributes">opt</span>, calculateDeltas<span class="signature-attributes">opt</span>, TIME_UNIT<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {void}</span></h4>

    




<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li><p>Subscribe chart manager to reactive state changes.</p>
<p>Establishes bidirectional reactive binding between channelState/dataState and
uPlot chart instances. Automatically updates charts when state mutates.</p>
<p>Update Strategy:</p>
<ul>
<li>Check if change is structural (groups/units/order) -&gt; full rebuild</li>
<li>Check if change is cosmetic (colors/labels) -&gt; in-place update</li>
<li>Check if data changed -&gt; full rebuild</li>
<li>Check if vertical lines changed -&gt; overlay update only</li>
</ul>
<p>In-place Updates (Performance-Critical):</p>
<ul>
<li>Series colors: Sets <code>chart.series[i].stroke</code></li>
<li>Series labels: Sets <code>chart.series[i].label</code></li>
<li>Both trigger via <code>chart.setSize()</code> to refresh</li>
</ul>
<p>Full Rebuild Operations:</p>
<ul>
<li>Adds/removes channels</li>
<li>Changes grouping strategy</li>
<li>Modifies units or scales</li>
<li>Data array dimensions change</li>
<li>Inverts series amplitude</li>
</ul>
<p>subscribeChartUpdates(channelState, dataState, charts, chartsContainer, verticalLinesX)</p>
<p>Subscribes the chart manager to reactive state and maps channel-level
messages to uPlot updates. This function is the central bridge between the
<code>channelState</code> (mutations produced by Tabulator via the parent message
handler) and the uPlot instances that render the data.</p>
<p>Key responsibilities:</p>
<ul>
<li>Maintain in-place updates for cheap operations (color, label) when possible.</li>
<li>Recreate charts on structural changes (channel add/remove, grouping, axes).</li>
<li>Apply x-axis windows when <code>start</code>/<code>duration</code> are provided and a time array
is available in <code>dataState</code>.</li>
<li>Handle <code>invert</code> toggles: attempt an in-place amplitude inversion on the
affected series (works for series-only arrays as well as the uPlot-style
<code>[time, ...series]</code> shape); fallback to recreate if unsafe.</li>
</ul></li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>











    <h5 class="h5-examples">Examples</h5>
    
    <pre class="prettyprint"><code>// Basic subscription after chart creationsubscribeChartUpdates(  channelState,  dataState,  charts,  document.getElementById('charts-container'),  verticalLinesX);</code></pre>

    <pre class="prettyprint"><code>// State mutation triggering automatic color update// Before: channelState.analog.lineColors = ['#FF0000', '#00FF00', '#0000FF']channelState.analog.lineColors[0] = '#FF1111';  // Slight color shift// After: All analog charts automatically update (in-place, no rebuild)</code></pre>

    <pre class="prettyprint"><code>// Structural change triggering full rebuild// Before: 3 analog channels displayedchannelState.analog.yLabels.splice(1, 1);      // Remove middle channelchannelState.analog.lineColors.splice(1, 1);// After: Charts fully rebuilt with 2 channels, vertical lines refreshed</code></pre>

    <pre class="prettyprint"><code>// Amplitude inversion (in-place if possible)// Before: channelState.analog.inverts = [false, false, false]channelState.analog.inverts[0] = true;         // Invert first channel// After: First series amplitude inverted in-place</code></pre>




    <h5 class="h5-parameters">Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>channelState</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>



            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last"><p>Reactive channel metadata store. Expected shape:
{ analog: { yLabels: string[], lineColors: string[], channelIDs: string[], inverts: boolean[], groups: number[], units: string[], ... },
digital: { yLabels: string[], lineColors: string[], ... } }</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>dataState</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>



            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last"><p>Reactive data arrays. Each type (<code>analog</code>/<code>digital</code>)
normally follows uPlot's shape: either <code>[timeArray, series0, series1, ...]</code>
or (in some legacy flows) series-only arrays. The manager detects the
presence of a leading time array before acting on <code>start</code>/<code>duration</code>.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>charts</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array.&lt;uPlot></span>



            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last"><p>Array of uPlot chart instances matching types [analog, digital].
Each chart is expected to expose a <code>_channelIndices</code> array mapping chart-series
positions (0-based) -&gt; global channel indices in <code>channelState</code>.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>chartsContainer</code></td>
            

            <td class="type">
            
                
<span class="param-type">HTMLElement</span>



            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last"><p>Parent DOM container for charts.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>verticalLinesX</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>



            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last"><p>Reactive state holding vertical-line positions.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>cfg</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>



            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>Optional config passed through to renderers.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>data</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>



            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>Optional raw parsed data object.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>createState</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>



            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>Optional state factory passed to renderers.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>calculateDeltas</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>



            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>Optional helper for delta calculations.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>TIME_UNIT</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>



            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>Optional time unit string used by renderers.</p></td>
        </tr>

    
    </tbody>
</table>
















<h5 class="h5-returns">Returns:</h5>

        


<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">void</span>



    </dd>
</dl>

    



        
    

    

    
</article>

</section>







<section>

<header>
    
        
            
        
            
        
            
        
    
</header>

<article>
    
        <div class="container-overview">
        
            
                <div class="description usertext"><p>Factory module for building complete uPlot chart option configurations. Handles
the complex setup of axes, series, scales, and plugins needed for rendering
COMTRADE data with support for multiple Y-axes, auto-scaling, and interactive
features like vertical line markers and horizontal zoom/pan.</p>
<p>Key Features:</p>
<ul>
<li>Single or multiple Y-axis support (adaptive layout)</li>
<li>Auto-unit scaling plugin for SI prefix formatting</li>
<li>Horizontal zoom and pan plugin</li>
<li>Vertical line plugin for time markers</li>
<li>Synchronized crosshair cursors across charts</li>
<li>Smart axis labeling with units (A, V, kA, mV, etc)</li>
<li>Y-axis alternation (left/right sides)</li>
<li>Diagnostic logging for scale debugging</li>
</ul>
<p>Dependencies:</p>
<ul>
<li>uPlot.js: Main charting library</li>
<li>scaleUtils.js: SI prefix and axis formatting</li>
<li>createState.js: Reactive state management</li>
<li>autoUnitScalePlugin: Auto-scaling plugin</li>
<li>horizontalZoomPanPlugin: Zoom/pan functionality</li>
<li>verticalLinePlugin: Vertical line markers</li>
</ul></div>
            

            
                




<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li><p>Helper functions for incremental/in-place chart updates that avoid expensive full rebuilds.
Provides utilities for:</p>
<ul>
<li>Color updates in-place</li>
<li>Scale/data transform updates</li>
<li>Group change detection and simulation</li>
<li>Channel deletion with axis count comparison</li>
<li>Series manipulation without full rebuild</li>
</ul>
<p>These helpers are used by the new centralized handleChannelUpdate() flow
to decide whether a cheap in-place update is possible or a full rebuild is needed.</p></li></ul></dd>
    

    

    

    
    <dt class="tag-since">Since:</dt>
    <dd class="tag-since"><ul class="dummy"><li>2.1.0</li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>






























            
                




<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li><p>Factory module for building complete uPlot chart option configurations. Handles
the complex setup of axes, series, scales, and plugins needed for rendering
COMTRADE data with support for multiple Y-axes, auto-scaling, and interactive
features like vertical line markers and horizontal zoom/pan.</p>
<p>Key Features:</p>
<ul>
<li>Single or multiple Y-axis support (adaptive layout)</li>
<li>Auto-unit scaling plugin for SI prefix formatting</li>
<li>Horizontal zoom and pan plugin</li>
<li>Vertical line plugin for time markers</li>
<li>Synchronized crosshair cursors across charts</li>
<li>Smart axis labeling with units (A, V, kA, mV, etc)</li>
<li>Y-axis alternation (left/right sides)</li>
<li>Diagnostic logging for scale debugging</li>
</ul>
<p>Dependencies:</p>
<ul>
<li>uPlot.js: Main charting library</li>
<li>scaleUtils.js: SI prefix and axis formatting</li>
<li>createState.js: Reactive state management</li>
<li>autoUnitScalePlugin: Auto-scaling plugin</li>
<li>horizontalZoomPanPlugin: Zoom/pan functionality</li>
<li>verticalLinePlugin: Vertical line markers</li>
</ul></li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>











    <h5 class="h5-examples">Example</h5>
    
    <pre class="prettyprint"><code>import { createChartOptions } from './chartComponent.js';const opts = createChartOptions({  title: "Analog Channels",  yLabels: ["Phase A", "Phase B", "Phase C"],  lineColors: ["#FF0000", "#00FF00", "#0000FF"],  verticalLinesX: [],  xLabel: "Time",  xUnit: "seconds",  getCharts: () => charts,  yUnits: ["kA", "kA", "kA"],  axesScales: [1000, 1000, 1000],  // x-scale, y0-scale, y1-scale, etc  scales: { x: { auto: true }, y: { auto: true } },  singleYAxis: false,               // Multiple Y-axes  autoScaleUnit: { x: true, y: true }});const chart = new uPlot(opts, chartData, container);</code></pre>





















            
                




<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li><p>Central reactive state manager for chart updates in the COMTRADE charting application.
Bridges between user-triggered state changes (via Tabulator editor) and uPlot chart
rendering. Provides intelligent update strategies: in-place updates for simple changes
(colors, labels) and full re-rendering for structural changes (channel add/remove, grouping).</p>
<p>Key Responsibilities:</p>
<ul>
<li>Subscribe to reactive state (channelState, dataState, verticalLinesX)</li>
<li>Detect change types: simple (label/color) vs structural (add/remove/group)</li>
<li>Apply in-place updates for performance when possible</li>
<li>Recreate charts on structural changes</li>
<li>Handle amplitude inversion for selected channels</li>
<li>Apply time-window filtering (start/duration)</li>
<li>Manage vertical line overlays and delta calculations</li>
<li>Publish maxYAxes changes to global store for all charts to consume</li>
<li>Use analyzeGroupsAndPublishMaxYAxes() for functional group analysis</li>
</ul>
<p>Features:</p>
<ul>
<li>Automatic chart update on state mutation</li>
<li>Dual-chart support (analog and digital)</li>
<li>Time-windowing with start/duration filtering</li>
<li>Series inversion with in-place optimization</li>
<li>Deltastate-based change detection</li>
<li>Fallback from in-place to full rebuild on errors</li>
<li>Debug logging via debugPanelLite</li>
<li>Global axis alignment published to centralized store via functional approach</li>
</ul>
<p>Dependencies:</p>
<ul>
<li>chartComponent.js: createChartOptions factory</li>
<li>renderComtradeCharts.js: Full chart reconstruction</li>
<li>debugPanelLite.js: Console debug logging</li>
<li>createState.js: Reactive state management</li>
<li>analyzeGroupsAndPublish.js: Pure function to analyze &amp; publish axes</li>
</ul></li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>











    <h5 class="h5-examples">Example</h5>
    
    <pre class="prettyprint"><code>import { subscribeChartUpdates } from './components/chartManager.js';// After initializing state and rendering chartssubscribeChartUpdates(  channelState,           // { analog: {...}, digital: {...} }  dataState,              // { analog: [...], digital: [...] }  charts,                 // [analogChart, digitalChart]  chartsContainer,        // DOM element  verticalLinesX          // Reactive array of marker positions);// Now any changes trigger automatic updates:channelState.analog.lineColors[0] = '#FF0000';  // Color change -> in-place updatechannelState.analog.yLabels[0] = 'New Label';   // Label change -> in-place updatechannelState.analog.groups[0] = 1;              // Group change -> full rebuild + publish axes to store</code></pre>





















            
        
        </div>
    

    

    

    
    
    

     

    

    

    
        <h3 class="subsection-title">Methods</h3>

        
            

    

    <h4 class="name" id=".applyColorChangeInPlace"><span class="type-signature type-signature-static">(static) </span>applyColorChangeInPlace<span class="signature">(payload, channelState)</span><span class="type-signature"> &rarr; {boolean}</span></h4>

    




<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li><p>Apply a color change in-place without rebuilding charts</p></li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>













    <h5 class="h5-parameters">Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>payload</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>



            
            </td>

            

            

            <td class="description last"><p>{ row, value } where row has channelID and type</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>channelState</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>



            
            </td>

            

            

            <td class="description last"><p>Reactive channel state</p></td>
        </tr>

    
    </tbody>
</table>
















<h5 class="h5-returns">Returns:</h5>

        
<div class="param-desc">
    <p>true if successful</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">boolean</span>



    </dd>
</dl>

    



        
            

    

    <h4 class="name" id=".applyDataTransformInPlace"><span class="type-signature type-signature-static">(static) </span>applyDataTransformInPlace<span class="signature">(payload, channelState)</span><span class="type-signature"> &rarr; {boolean}</span></h4>

    




<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li><p>Apply data transform (scale/time_window) changes
For now, returns false to trigger full rebuild. Can be enhanced.</p></li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>













    <h5 class="h5-parameters">Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>payload</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>



            
            </td>

            

            

            <td class="description last"><p>{ row, type, value }</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>channelState</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>



            
            </td>

            

            

            <td class="description last"><p>Reactive channel state</p></td>
        </tr>

    
    </tbody>
</table>
















<h5 class="h5-returns">Returns:</h5>

        
<div class="param-desc">
    <p>true if successful in-place update</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">boolean</span>



    </dd>
</dl>

    



        
            

    

    <h4 class="name" id=".applyGroupChangeInPlace"><span class="type-signature type-signature-static">(static) </span>applyGroupChangeInPlace<span class="signature">(channelID, newGroup, channelState)</span><span class="type-signature"> &rarr; {boolean}</span></h4>

    




<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li><p>Apply a group change in-place by moving series between uPlot instances
This is a simplified approach; complex scenarios still need full rebuild</p></li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>













    <h5 class="h5-parameters">Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>channelID</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>



            
            </td>

            

            

            <td class="description last"><p>Channel to move</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>newGroup</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>



            
            </td>

            

            

            <td class="description last"><p>New group ID</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>channelState</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>



            
            </td>

            

            

            <td class="description last"><p>Reactive state (used to find new chart)</p></td>
        </tr>

    
    </tbody>
</table>
















<h5 class="h5-returns">Returns:</h5>

        
<div class="param-desc">
    <p>true if successful</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">boolean</span>



    </dd>
</dl>

    



        
            

    

    <h4 class="name" id=".axisCountDidChange"><span class="type-signature type-signature-static">(static) </span>axisCountDidChange<span class="signature">(beforeState, afterState)</span><span class="type-signature"> &rarr; {boolean}</span></h4>

    




<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li><p>Check if axis count changed between two states
Uses existing axisCalculator to determine if a rebuild is needed</p></li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>













    <h5 class="h5-parameters">Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>beforeState</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>



            
            </td>

            

            

            <td class="description last"><p>Channel state before change</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>afterState</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>



            
            </td>

            

            

            <td class="description last"><p>Channel state after change</p></td>
        </tr>

    
    </tbody>
</table>
















<h5 class="h5-returns">Returns:</h5>

        
<div class="param-desc">
    <p>true if axis count changed</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">boolean</span>



    </dd>
</dl>

    



        
            

    

    <h4 class="name" id=".findChannelIndex"><span class="type-signature type-signature-static">(static) </span>findChannelIndex<span class="signature">(channelState, channelID, typeKey)</span><span class="type-signature"> &rarr; {number}</span></h4>

    




<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li><p>Find the index of a channel within its type section</p></li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>













    <h5 class="h5-parameters">Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>channelState</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>



            
            </td>

            

            

            <td class="description last"><p>Reactive state</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>channelID</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>



            
            </td>

            

            

            <td class="description last"><p>Channel ID to find</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>typeKey</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>



            
            </td>

            

            

            <td class="description last"><p>&quot;analog&quot;, &quot;digital&quot;, or &quot;computed&quot;</p></td>
        </tr>

    
    </tbody>
</table>
















<h5 class="h5-returns">Returns:</h5>

        
<div class="param-desc">
    <p>Index if found, -1 otherwise</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">number</span>



    </dd>
</dl>

    



        
            

    

    <h4 class="name" id=".findChartEntryForChannel"><span class="type-signature type-signature-static">(static) </span>findChartEntryForChannel<span class="signature">(channelID)</span><span class="type-signature"> &rarr; {Object|null}</span></h4>

    




<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li><p>Find the chart metadata entry for a specific channel</p></li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>













    <h5 class="h5-parameters">Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>channelID</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>



            
            </td>

            

            

            <td class="description last"><p>Channel ID to find</p></td>
        </tr>

    
    </tbody>
</table>
















<h5 class="h5-returns">Returns:</h5>

        
<div class="param-desc">
    <p>Chart metadata entry or null if not found</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Object</span>
|

<span class="param-type">null</span>



    </dd>
</dl>

    



        
            

    

    <h4 class="name" id=".getChannelStateSnapshot"><span class="type-signature type-signature-static">(static) </span>getChannelStateSnapshot<span class="signature">(channelState)</span><span class="type-signature"> &rarr; {Object}</span></h4>

    




<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li><p>Get a snapshot of the current channel state
Used for comparison before and after simulated changes</p></li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>













    <h5 class="h5-parameters">Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>channelState</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>



            
            </td>

            

            

            <td class="description last"><p>Reactive channel state</p></td>
        </tr>

    
    </tbody>
</table>
















<h5 class="h5-returns">Returns:</h5>

        
<div class="param-desc">
    <p>Snapshot of state (suitable for comparison)</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Object</span>



    </dd>
</dl>

    



        
            

    

    <h4 class="name" id=".handleChannelUpdate"><span class="type-signature type-signature-static">(static) </span>handleChannelUpdate<span class="signature">(type, payload, channelState, dataState, charts, chartsContainer, onFullRebuild, onProgress<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {boolean}</span></h4>

    




<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li><p>Central handler for channel updates coming from the Tabulator / ChannelList.
Decides whether we can apply a cheap in-place update or must rebuild.</p></li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>











    <h5 class="h5-examples">Example</h5>
    
    <pre class="prettyprint"><code>import { handleChannelUpdate } from './components/chartManager.js';handleChannelUpdate(  'color',  { row: {...}, value: '#ff0000' },  channelState,  dataState,  charts,  chartsContainer,  () => fullRebuildFromState(),  (percent, message) => updateProgress(percent, message));</code></pre>




    <h5 class="h5-parameters">Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>type</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>



            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last"><p>Update type ('color', 'scale', 'time_window', 'group', 'delete', 'update', etc.)</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>payload</code></td>
            

            <td class="type">
            
                
<span class="param-type">any</span>



            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last"><p>Payload from ChannelList (usually { row, value } or raw rowData)</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>channelState</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>



            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last"><p>Reactive channel state (required for some update types)</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>dataState</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>



            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last"><p>Reactive data state (used for data recalculation)</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>charts</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array</span>



            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last"><p>Chart instances array [analogChart, digitalChart, ...]</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>chartsContainer</code></td>
            

            <td class="type">
            
                
<span class="param-type">HTMLElement</span>



            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last"><p>Container element for charts</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>onFullRebuild</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>



            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last"><p>Callback to trigger full rebuild if needed</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>onProgress</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>



            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>Optional progress callback: (percent, message) =&gt; void</p></td>
        </tr>

    
    </tbody>
</table>
















<h5 class="h5-returns">Returns:</h5>

        
<div class="param-desc">
    <p>true if handled via cheap path, false if fallback to rebuild</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">boolean</span>



    </dd>
</dl>

    



        
            

    

    <h4 class="name" id=".removeSeriesInPlace"><span class="type-signature type-signature-static">(static) </span>removeSeriesInPlace<span class="signature">(channelID)</span><span class="type-signature"> &rarr; {boolean}</span></h4>

    




<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li><p>Remove a series from its uPlot instance in-place</p></li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>













    <h5 class="h5-parameters">Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>channelID</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>



            
            </td>

            

            

            <td class="description last"><p>Channel to remove</p></td>
        </tr>

    
    </tbody>
</table>
















<h5 class="h5-returns">Returns:</h5>

        
<div class="param-desc">
    <p>true if successful</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">boolean</span>



    </dd>
</dl>

    



        
            

    

    <h4 class="name" id=".simulateChannelDeletion"><span class="type-signature type-signature-static">(static) </span>simulateChannelDeletion<span class="signature">(currentState, channelID)</span><span class="type-signature"> &rarr; {Object|null}</span></h4>

    




<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li><p>Simulate a channel deletion without committing it
Returns a cloned state with the channel removed</p></li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>













    <h5 class="h5-parameters">Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>currentState</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>



            
            </td>

            

            

            <td class="description last"><p>Current channel state</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>channelID</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>



            
            </td>

            

            

            <td class="description last"><p>Channel to delete</p></td>
        </tr>

    
    </tbody>
</table>
















<h5 class="h5-returns">Returns:</h5>

        
<div class="param-desc">
    <p>Simulated state or null if channel not found</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Object</span>
|

<span class="param-type">null</span>



    </dd>
</dl>

    



        
            

    

    <h4 class="name" id=".simulateChannelGroupChange"><span class="type-signature type-signature-static">(static) </span>simulateChannelGroupChange<span class="signature">(currentState, channelID, newGroup)</span><span class="type-signature"> &rarr; {Object|null}</span></h4>

    




<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li><p>Simulate a group change without committing it
Returns a cloned state with the channel moved to a new group</p></li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>













    <h5 class="h5-parameters">Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>currentState</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>



            
            </td>

            

            

            <td class="description last"><p>Current channel state</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>channelID</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>



            
            </td>

            

            

            <td class="description last"><p>Channel to move</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>newGroup</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>



            
            </td>

            

            

            <td class="description last"><p>Target group ID</p></td>
        </tr>

    
    </tbody>
</table>
















<h5 class="h5-returns">Returns:</h5>

        
<div class="param-desc">
    <p>Simulated state or null if channel not found</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Object</span>
|

<span class="param-type">null</span>



    </dd>
</dl>

    



        
            

    

    <h4 class="name" id=".updateAllChartAxisColors"><span class="type-signature type-signature-static">(static) </span>updateAllChartAxisColors<span class="signature">(chartsArray)</span><span class="type-signature"></span></h4>

    




<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li><p>Update all chart colors when theme changes
Redraws charts to re-evaluate axis color functions from CSS variables</p></li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>













    <h5 class="h5-parameters">Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>chartsArray</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array</span>



            
            </td>

            

            

            <td class="description last"><p>Array of uPlot chart instances</p></td>
        </tr>

    
    </tbody>
</table>



















        
            

    

    <h4 class="name" id="~createChartOptions"><span class="type-signature type-signature-inner">(inner) </span>createChartOptions<span class="signature">(config)</span><span class="type-signature"> &rarr; {Object}</span></h4>

    




<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li><p>Generate complete uPlot chart options configuration.</p>
<p>Factory function that builds a comprehensive uPlot options object from
configuration parameters. Supports single and multiple Y-axis layouts,
auto-scaling with SI prefixes, synchronized cursors, and plugin support.</p>
<p>Key responsibilities:</p>
<ol>
<li>Resolve scales and axis configuration</li>
<li>Build series array with line colors and scales</li>
<li>Configure X and Y axes with proper labeling</li>
<li>Set up synchronized cursor and selection</li>
<li>Attach plugins (auto-scale, zoom/pan, vertical lines)</li>
<li>Return fully configured uPlot options</li>
</ol></li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>











    <h5 class="h5-examples">Examples</h5>
    
    <pre class="prettyprint"><code>// Single Y-axis for analog channels (grouped by phase)const analogOpts = createChartOptions({  title: "Three-Phase Current",  yLabels: ["Phase A Current", "Phase B Current", "Phase C Current"],  lineColors: ["#FF5733", "#33FF57", "#3357FF"],  verticalLinesX: verticalLinesArray,  xLabel: "Time",  xUnit: "seconds",  getCharts: () => charts,  yUnits: ["A", "A", "A"],  axesScales: [1000, 500],  // x: 1000, y: 500  singleYAxis: true,  autoScaleUnit: { x: true, y: true }});</code></pre>

    <pre class="prettyprint"><code>// Multiple Y-axes for mixed unitsconst mixedOpts = createChartOptions({  title: "Voltage and Current",  yLabels: ["Voltage", "Current", "Temperature"],  lineColors: ["#FF0000", "#00FF00", "#0000FF"],  verticalLinesX: [],  yUnits: ["V", "A", "C"],  axesScales: [1000, 1000, 1000, 100],  // x, y0, y1, y2 scales  scales: { x: { auto: true }, y0: { auto: true }, y1: { auto: true }, y2: { auto: true } },  singleYAxis: false,  autoScaleUnit: { x: false, y: false }});</code></pre>

    <pre class="prettyprint"><code>// Digital channels with fixed scaleconst digitalOpts = createChartOptions({  title: "Digital States",  yLabels: ["State 0", "State 1", "State 2"],  lineColors: ["#FFAA00", "#00AAFF", "#FF00AA"],  scales: { x: { auto: true }, y: { min: -0.5, max: 8, auto: false } },  singleYAxis: true,  autoScaleUnit: { x: true, y: false }});</code></pre>




    <h5 class="h5-parameters">Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>config</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>



            
            </td>

            

            

            <td class="description last"><p>Configuration object</p>
                <h6>Properties</h6>
                

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        
        <th>Default</th>
        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>title</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>



            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last"><p>Chart title displayed at top</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>yLabels</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array.&lt;string></span>



            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last"><p>Y-axis labels for each series</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>lineColors</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array.&lt;string></span>



            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last"><p>Stroke colors for each series (cycles if fewer than series)</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>verticalLinesX</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array.&lt;number></span>
|

<span class="param-type">Object</span>



            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last"><p>Vertical line positions array (or createState)</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>xLabel</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>



            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    <code>""</code>
                
                </td>
            

            <td class="description last"><p>X-axis label</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>xUnit</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>



            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    <code>"sec"</code>
                
                </td>
            

            <td class="description last"><p>X-axis unit</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>width</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>



            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    <code>400</code>
                
                </td>
            

            <td class="description last"><p>Chart width in pixels</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>height</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>



            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    <code>200</code>
                
                </td>
            

            <td class="description last"><p>Chart height in pixels</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>getCharts</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>



            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last"><p>Getter function returning all chart instances</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>yUnits</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array.&lt;string></span>



            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    <code>[]</code>
                
                </td>
            

            <td class="description last"><p>Y-axis units for each series</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>axesScales</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array.&lt;number></span>



            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    <code>[]</code>
                
                </td>
            

            <td class="description last"><p>Scale factors [xScale, y0Scale, y1Scale, ...]</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>scales</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>



            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    <code>{}</code>
                
                </td>
            

            <td class="description last"><p>uPlot scales object: { x: {...}, y: {...}, y0: {...}, ... }</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>select</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>



            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    <code>{show: true}</code>
                
                </td>
            

            <td class="description last"><p>Selection tool configuration</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>singleYAxis</code></td>
            

            <td class="type">
            
                
<span class="param-type">boolean</span>



            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    <code>true</code>
                
                </td>
            

            <td class="description last"><p>True for single Y-axis, false for multi</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>autoScaleUnit</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>



            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    <code>{x: true, y: true}</code>
                
                </td>
            

            <td class="description last"><p>Auto-scale SI prefix formatting</p></td>
        </tr>

    
    </tbody>
</table>

            </td>
        </tr>

    
    </tbody>
</table>
















<h5 class="h5-returns">Returns:</h5>

        
<div class="param-desc">
    <p>Complete uPlot options object with:</p>
<ul>
<li>@property {string} title</li>
<li>@property {number} width, height</li>
<li>@property {Object} scales - uPlot scale configuration</li>
<li>@property {Array} series - Series definitions with labels and colors</li>
<li>@property {Array} axes - X and Y axis configurations</li>
<li>@property {Object} cursor - Synchronized crosshair configuration</li>
<li>@property {Array} plugins - [autoUnitScale, horizontalZoomPan, verticalLine]</li>
<li>@property {Object} legend - { show: false }</li>
</ul>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Object</span>



    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="~subscribeChartUpdates"><span class="type-signature type-signature-inner">(inner) </span>subscribeChartUpdates<span class="signature">(channelState, dataState, charts, chartsContainer, verticalLinesX, cfg<span class="signature-attributes">opt</span>, data<span class="signature-attributes">opt</span>, createState<span class="signature-attributes">opt</span>, calculateDeltas<span class="signature-attributes">opt</span>, TIME_UNIT<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {void}</span></h4>

    




<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li><p>Subscribe chart manager to reactive state changes.</p>
<p>Establishes bidirectional reactive binding between channelState/dataState and
uPlot chart instances. Automatically updates charts when state mutates.</p>
<p>Update Strategy:</p>
<ul>
<li>Check if change is structural (groups/units/order) -&gt; full rebuild</li>
<li>Check if change is cosmetic (colors/labels) -&gt; in-place update</li>
<li>Check if data changed -&gt; full rebuild</li>
<li>Check if vertical lines changed -&gt; overlay update only</li>
</ul>
<p>In-place Updates (Performance-Critical):</p>
<ul>
<li>Series colors: Sets <code>chart.series[i].stroke</code></li>
<li>Series labels: Sets <code>chart.series[i].label</code></li>
<li>Both trigger via <code>chart.setSize()</code> to refresh</li>
</ul>
<p>Full Rebuild Operations:</p>
<ul>
<li>Adds/removes channels</li>
<li>Changes grouping strategy</li>
<li>Modifies units or scales</li>
<li>Data array dimensions change</li>
<li>Inverts series amplitude</li>
</ul>
<p>subscribeChartUpdates(channelState, dataState, charts, chartsContainer, verticalLinesX)</p>
<p>Subscribes the chart manager to reactive state and maps channel-level
messages to uPlot updates. This function is the central bridge between the
<code>channelState</code> (mutations produced by Tabulator via the parent message
handler) and the uPlot instances that render the data.</p>
<p>Key responsibilities:</p>
<ul>
<li>Maintain in-place updates for cheap operations (color, label) when possible.</li>
<li>Recreate charts on structural changes (channel add/remove, grouping, axes).</li>
<li>Apply x-axis windows when <code>start</code>/<code>duration</code> are provided and a time array
is available in <code>dataState</code>.</li>
<li>Handle <code>invert</code> toggles: attempt an in-place amplitude inversion on the
affected series (works for series-only arrays as well as the uPlot-style
<code>[time, ...series]</code> shape); fallback to recreate if unsafe.</li>
</ul></li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>











    <h5 class="h5-examples">Examples</h5>
    
    <pre class="prettyprint"><code>// Basic subscription after chart creationsubscribeChartUpdates(  channelState,  dataState,  charts,  document.getElementById('charts-container'),  verticalLinesX);</code></pre>

    <pre class="prettyprint"><code>// State mutation triggering automatic color update// Before: channelState.analog.lineColors = ['#FF0000', '#00FF00', '#0000FF']channelState.analog.lineColors[0] = '#FF1111';  // Slight color shift// After: All analog charts automatically update (in-place, no rebuild)</code></pre>

    <pre class="prettyprint"><code>// Structural change triggering full rebuild// Before: 3 analog channels displayedchannelState.analog.yLabels.splice(1, 1);      // Remove middle channelchannelState.analog.lineColors.splice(1, 1);// After: Charts fully rebuilt with 2 channels, vertical lines refreshed</code></pre>

    <pre class="prettyprint"><code>// Amplitude inversion (in-place if possible)// Before: channelState.analog.inverts = [false, false, false]channelState.analog.inverts[0] = true;         // Invert first channel// After: First series amplitude inverted in-place</code></pre>




    <h5 class="h5-parameters">Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>channelState</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>



            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last"><p>Reactive channel metadata store. Expected shape:
{ analog: { yLabels: string[], lineColors: string[], channelIDs: string[], inverts: boolean[], groups: number[], units: string[], ... },
digital: { yLabels: string[], lineColors: string[], ... } }</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>dataState</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>



            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last"><p>Reactive data arrays. Each type (<code>analog</code>/<code>digital</code>)
normally follows uPlot's shape: either <code>[timeArray, series0, series1, ...]</code>
or (in some legacy flows) series-only arrays. The manager detects the
presence of a leading time array before acting on <code>start</code>/<code>duration</code>.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>charts</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array.&lt;uPlot></span>



            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last"><p>Array of uPlot chart instances matching types [analog, digital].
Each chart is expected to expose a <code>_channelIndices</code> array mapping chart-series
positions (0-based) -&gt; global channel indices in <code>channelState</code>.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>chartsContainer</code></td>
            

            <td class="type">
            
                
<span class="param-type">HTMLElement</span>



            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last"><p>Parent DOM container for charts.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>verticalLinesX</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>



            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last"><p>Reactive state holding vertical-line positions.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>cfg</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>



            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>Optional config passed through to renderers.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>data</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>



            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>Optional raw parsed data object.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>createState</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>



            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>Optional state factory passed to renderers.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>calculateDeltas</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>



            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>Optional helper for delta calculations.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>TIME_UNIT</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>



            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>Optional time unit string used by renderers.</p></td>
        </tr>

    
    </tbody>
</table>
















<h5 class="h5-returns">Returns:</h5>

        


<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">void</span>



    </dd>
</dl>

    



        
    

    

    
</article>

</section>







<section>

<header>
    
        
            
        
            
        
            
        
    
</header>

<article>
    
        <div class="container-overview">
        
            
                <div class="description usertext"><p>Central reactive state manager for chart updates in the COMTRADE charting application.
Bridges between user-triggered state changes (via Tabulator editor) and uPlot chart
rendering. Provides intelligent update strategies: in-place updates for simple changes
(colors, labels) and full re-rendering for structural changes (channel add/remove, grouping).</p>
<p>Key Responsibilities:</p>
<ul>
<li>Subscribe to reactive state (channelState, dataState, verticalLinesX)</li>
<li>Detect change types: simple (label/color) vs structural (add/remove/group)</li>
<li>Apply in-place updates for performance when possible</li>
<li>Recreate charts on structural changes</li>
<li>Handle amplitude inversion for selected channels</li>
<li>Apply time-window filtering (start/duration)</li>
<li>Manage vertical line overlays and delta calculations</li>
<li>Publish maxYAxes changes to global store for all charts to consume</li>
<li>Use analyzeGroupsAndPublishMaxYAxes() for functional group analysis</li>
</ul>
<p>Features:</p>
<ul>
<li>Automatic chart update on state mutation</li>
<li>Dual-chart support (analog and digital)</li>
<li>Time-windowing with start/duration filtering</li>
<li>Series inversion with in-place optimization</li>
<li>Deltastate-based change detection</li>
<li>Fallback from in-place to full rebuild on errors</li>
<li>Debug logging via debugPanelLite</li>
<li>Global axis alignment published to centralized store via functional approach</li>
</ul>
<p>Dependencies:</p>
<ul>
<li>chartComponent.js: createChartOptions factory</li>
<li>renderComtradeCharts.js: Full chart reconstruction</li>
<li>debugPanelLite.js: Console debug logging</li>
<li>createState.js: Reactive state management</li>
<li>analyzeGroupsAndPublish.js: Pure function to analyze &amp; publish axes</li>
</ul></div>
            

            
                




<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li><p>Helper functions for incremental/in-place chart updates that avoid expensive full rebuilds.
Provides utilities for:</p>
<ul>
<li>Color updates in-place</li>
<li>Scale/data transform updates</li>
<li>Group change detection and simulation</li>
<li>Channel deletion with axis count comparison</li>
<li>Series manipulation without full rebuild</li>
</ul>
<p>These helpers are used by the new centralized handleChannelUpdate() flow
to decide whether a cheap in-place update is possible or a full rebuild is needed.</p></li></ul></dd>
    

    

    

    
    <dt class="tag-since">Since:</dt>
    <dd class="tag-since"><ul class="dummy"><li>2.1.0</li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>






























            
                




<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li><p>Factory module for building complete uPlot chart option configurations. Handles
the complex setup of axes, series, scales, and plugins needed for rendering
COMTRADE data with support for multiple Y-axes, auto-scaling, and interactive
features like vertical line markers and horizontal zoom/pan.</p>
<p>Key Features:</p>
<ul>
<li>Single or multiple Y-axis support (adaptive layout)</li>
<li>Auto-unit scaling plugin for SI prefix formatting</li>
<li>Horizontal zoom and pan plugin</li>
<li>Vertical line plugin for time markers</li>
<li>Synchronized crosshair cursors across charts</li>
<li>Smart axis labeling with units (A, V, kA, mV, etc)</li>
<li>Y-axis alternation (left/right sides)</li>
<li>Diagnostic logging for scale debugging</li>
</ul>
<p>Dependencies:</p>
<ul>
<li>uPlot.js: Main charting library</li>
<li>scaleUtils.js: SI prefix and axis formatting</li>
<li>createState.js: Reactive state management</li>
<li>autoUnitScalePlugin: Auto-scaling plugin</li>
<li>horizontalZoomPanPlugin: Zoom/pan functionality</li>
<li>verticalLinePlugin: Vertical line markers</li>
</ul></li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>











    <h5 class="h5-examples">Example</h5>
    
    <pre class="prettyprint"><code>import { createChartOptions } from './chartComponent.js';const opts = createChartOptions({  title: "Analog Channels",  yLabels: ["Phase A", "Phase B", "Phase C"],  lineColors: ["#FF0000", "#00FF00", "#0000FF"],  verticalLinesX: [],  xLabel: "Time",  xUnit: "seconds",  getCharts: () => charts,  yUnits: ["kA", "kA", "kA"],  axesScales: [1000, 1000, 1000],  // x-scale, y0-scale, y1-scale, etc  scales: { x: { auto: true }, y: { auto: true } },  singleYAxis: false,               // Multiple Y-axes  autoScaleUnit: { x: true, y: true }});const chart = new uPlot(opts, chartData, container);</code></pre>





















            
                




<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li><p>Central reactive state manager for chart updates in the COMTRADE charting application.
Bridges between user-triggered state changes (via Tabulator editor) and uPlot chart
rendering. Provides intelligent update strategies: in-place updates for simple changes
(colors, labels) and full re-rendering for structural changes (channel add/remove, grouping).</p>
<p>Key Responsibilities:</p>
<ul>
<li>Subscribe to reactive state (channelState, dataState, verticalLinesX)</li>
<li>Detect change types: simple (label/color) vs structural (add/remove/group)</li>
<li>Apply in-place updates for performance when possible</li>
<li>Recreate charts on structural changes</li>
<li>Handle amplitude inversion for selected channels</li>
<li>Apply time-window filtering (start/duration)</li>
<li>Manage vertical line overlays and delta calculations</li>
<li>Publish maxYAxes changes to global store for all charts to consume</li>
<li>Use analyzeGroupsAndPublishMaxYAxes() for functional group analysis</li>
</ul>
<p>Features:</p>
<ul>
<li>Automatic chart update on state mutation</li>
<li>Dual-chart support (analog and digital)</li>
<li>Time-windowing with start/duration filtering</li>
<li>Series inversion with in-place optimization</li>
<li>Deltastate-based change detection</li>
<li>Fallback from in-place to full rebuild on errors</li>
<li>Debug logging via debugPanelLite</li>
<li>Global axis alignment published to centralized store via functional approach</li>
</ul>
<p>Dependencies:</p>
<ul>
<li>chartComponent.js: createChartOptions factory</li>
<li>renderComtradeCharts.js: Full chart reconstruction</li>
<li>debugPanelLite.js: Console debug logging</li>
<li>createState.js: Reactive state management</li>
<li>analyzeGroupsAndPublish.js: Pure function to analyze &amp; publish axes</li>
</ul></li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>











    <h5 class="h5-examples">Example</h5>
    
    <pre class="prettyprint"><code>import { subscribeChartUpdates } from './components/chartManager.js';// After initializing state and rendering chartssubscribeChartUpdates(  channelState,           // { analog: {...}, digital: {...} }  dataState,              // { analog: [...], digital: [...] }  charts,                 // [analogChart, digitalChart]  chartsContainer,        // DOM element  verticalLinesX          // Reactive array of marker positions);// Now any changes trigger automatic updates:channelState.analog.lineColors[0] = '#FF0000';  // Color change -> in-place updatechannelState.analog.yLabels[0] = 'New Label';   // Label change -> in-place updatechannelState.analog.groups[0] = 1;              // Group change -> full rebuild + publish axes to store</code></pre>





















            
        
        </div>
    

    

    

    
    
    

     

    

    

    
        <h3 class="subsection-title">Methods</h3>

        
            

    

    <h4 class="name" id=".applyColorChangeInPlace"><span class="type-signature type-signature-static">(static) </span>applyColorChangeInPlace<span class="signature">(payload, channelState)</span><span class="type-signature"> &rarr; {boolean}</span></h4>

    




<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li><p>Apply a color change in-place without rebuilding charts</p></li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>













    <h5 class="h5-parameters">Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>payload</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>



            
            </td>

            

            

            <td class="description last"><p>{ row, value } where row has channelID and type</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>channelState</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>



            
            </td>

            

            

            <td class="description last"><p>Reactive channel state</p></td>
        </tr>

    
    </tbody>
</table>
















<h5 class="h5-returns">Returns:</h5>

        
<div class="param-desc">
    <p>true if successful</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">boolean</span>



    </dd>
</dl>

    



        
            

    

    <h4 class="name" id=".applyDataTransformInPlace"><span class="type-signature type-signature-static">(static) </span>applyDataTransformInPlace<span class="signature">(payload, channelState)</span><span class="type-signature"> &rarr; {boolean}</span></h4>

    




<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li><p>Apply data transform (scale/time_window) changes
For now, returns false to trigger full rebuild. Can be enhanced.</p></li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>













    <h5 class="h5-parameters">Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>payload</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>



            
            </td>

            

            

            <td class="description last"><p>{ row, type, value }</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>channelState</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>



            
            </td>

            

            

            <td class="description last"><p>Reactive channel state</p></td>
        </tr>

    
    </tbody>
</table>
















<h5 class="h5-returns">Returns:</h5>

        
<div class="param-desc">
    <p>true if successful in-place update</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">boolean</span>



    </dd>
</dl>

    



        
            

    

    <h4 class="name" id=".applyGroupChangeInPlace"><span class="type-signature type-signature-static">(static) </span>applyGroupChangeInPlace<span class="signature">(channelID, newGroup, channelState)</span><span class="type-signature"> &rarr; {boolean}</span></h4>

    




<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li><p>Apply a group change in-place by moving series between uPlot instances
This is a simplified approach; complex scenarios still need full rebuild</p></li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>













    <h5 class="h5-parameters">Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>channelID</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>



            
            </td>

            

            

            <td class="description last"><p>Channel to move</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>newGroup</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>



            
            </td>

            

            

            <td class="description last"><p>New group ID</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>channelState</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>



            
            </td>

            

            

            <td class="description last"><p>Reactive state (used to find new chart)</p></td>
        </tr>

    
    </tbody>
</table>
















<h5 class="h5-returns">Returns:</h5>

        
<div class="param-desc">
    <p>true if successful</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">boolean</span>



    </dd>
</dl>

    



        
            

    

    <h4 class="name" id=".axisCountDidChange"><span class="type-signature type-signature-static">(static) </span>axisCountDidChange<span class="signature">(beforeState, afterState)</span><span class="type-signature"> &rarr; {boolean}</span></h4>

    




<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li><p>Check if axis count changed between two states
Uses existing axisCalculator to determine if a rebuild is needed</p></li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>













    <h5 class="h5-parameters">Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>beforeState</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>



            
            </td>

            

            

            <td class="description last"><p>Channel state before change</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>afterState</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>



            
            </td>

            

            

            <td class="description last"><p>Channel state after change</p></td>
        </tr>

    
    </tbody>
</table>
















<h5 class="h5-returns">Returns:</h5>

        
<div class="param-desc">
    <p>true if axis count changed</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">boolean</span>



    </dd>
</dl>

    



        
            

    

    <h4 class="name" id=".findChannelIndex"><span class="type-signature type-signature-static">(static) </span>findChannelIndex<span class="signature">(channelState, channelID, typeKey)</span><span class="type-signature"> &rarr; {number}</span></h4>

    




<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li><p>Find the index of a channel within its type section</p></li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>













    <h5 class="h5-parameters">Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>channelState</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>



            
            </td>

            

            

            <td class="description last"><p>Reactive state</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>channelID</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>



            
            </td>

            

            

            <td class="description last"><p>Channel ID to find</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>typeKey</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>



            
            </td>

            

            

            <td class="description last"><p>&quot;analog&quot;, &quot;digital&quot;, or &quot;computed&quot;</p></td>
        </tr>

    
    </tbody>
</table>
















<h5 class="h5-returns">Returns:</h5>

        
<div class="param-desc">
    <p>Index if found, -1 otherwise</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">number</span>



    </dd>
</dl>

    



        
            

    

    <h4 class="name" id=".findChartEntryForChannel"><span class="type-signature type-signature-static">(static) </span>findChartEntryForChannel<span class="signature">(channelID)</span><span class="type-signature"> &rarr; {Object|null}</span></h4>

    




<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li><p>Find the chart metadata entry for a specific channel</p></li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>













    <h5 class="h5-parameters">Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>channelID</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>



            
            </td>

            

            

            <td class="description last"><p>Channel ID to find</p></td>
        </tr>

    
    </tbody>
</table>
















<h5 class="h5-returns">Returns:</h5>

        
<div class="param-desc">
    <p>Chart metadata entry or null if not found</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Object</span>
|

<span class="param-type">null</span>



    </dd>
</dl>

    



        
            

    

    <h4 class="name" id=".getChannelStateSnapshot"><span class="type-signature type-signature-static">(static) </span>getChannelStateSnapshot<span class="signature">(channelState)</span><span class="type-signature"> &rarr; {Object}</span></h4>

    




<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li><p>Get a snapshot of the current channel state
Used for comparison before and after simulated changes</p></li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>













    <h5 class="h5-parameters">Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>channelState</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>



            
            </td>

            

            

            <td class="description last"><p>Reactive channel state</p></td>
        </tr>

    
    </tbody>
</table>
















<h5 class="h5-returns">Returns:</h5>

        
<div class="param-desc">
    <p>Snapshot of state (suitable for comparison)</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Object</span>



    </dd>
</dl>

    



        
            

    

    <h4 class="name" id=".handleChannelUpdate"><span class="type-signature type-signature-static">(static) </span>handleChannelUpdate<span class="signature">(type, payload, channelState, dataState, charts, chartsContainer, onFullRebuild, onProgress<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {boolean}</span></h4>

    




<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li><p>Central handler for channel updates coming from the Tabulator / ChannelList.
Decides whether we can apply a cheap in-place update or must rebuild.</p></li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>











    <h5 class="h5-examples">Example</h5>
    
    <pre class="prettyprint"><code>import { handleChannelUpdate } from './components/chartManager.js';handleChannelUpdate(  'color',  { row: {...}, value: '#ff0000' },  channelState,  dataState,  charts,  chartsContainer,  () => fullRebuildFromState(),  (percent, message) => updateProgress(percent, message));</code></pre>




    <h5 class="h5-parameters">Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>type</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>



            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last"><p>Update type ('color', 'scale', 'time_window', 'group', 'delete', 'update', etc.)</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>payload</code></td>
            

            <td class="type">
            
                
<span class="param-type">any</span>



            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last"><p>Payload from ChannelList (usually { row, value } or raw rowData)</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>channelState</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>



            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last"><p>Reactive channel state (required for some update types)</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>dataState</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>



            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last"><p>Reactive data state (used for data recalculation)</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>charts</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array</span>



            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last"><p>Chart instances array [analogChart, digitalChart, ...]</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>chartsContainer</code></td>
            

            <td class="type">
            
                
<span class="param-type">HTMLElement</span>



            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last"><p>Container element for charts</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>onFullRebuild</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>



            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last"><p>Callback to trigger full rebuild if needed</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>onProgress</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>



            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>Optional progress callback: (percent, message) =&gt; void</p></td>
        </tr>

    
    </tbody>
</table>
















<h5 class="h5-returns">Returns:</h5>

        
<div class="param-desc">
    <p>true if handled via cheap path, false if fallback to rebuild</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">boolean</span>



    </dd>
</dl>

    



        
            

    

    <h4 class="name" id=".removeSeriesInPlace"><span class="type-signature type-signature-static">(static) </span>removeSeriesInPlace<span class="signature">(channelID)</span><span class="type-signature"> &rarr; {boolean}</span></h4>

    




<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li><p>Remove a series from its uPlot instance in-place</p></li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>













    <h5 class="h5-parameters">Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>channelID</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>



            
            </td>

            

            

            <td class="description last"><p>Channel to remove</p></td>
        </tr>

    
    </tbody>
</table>
















<h5 class="h5-returns">Returns:</h5>

        
<div class="param-desc">
    <p>true if successful</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">boolean</span>



    </dd>
</dl>

    



        
            

    

    <h4 class="name" id=".simulateChannelDeletion"><span class="type-signature type-signature-static">(static) </span>simulateChannelDeletion<span class="signature">(currentState, channelID)</span><span class="type-signature"> &rarr; {Object|null}</span></h4>

    




<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li><p>Simulate a channel deletion without committing it
Returns a cloned state with the channel removed</p></li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>













    <h5 class="h5-parameters">Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>currentState</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>



            
            </td>

            

            

            <td class="description last"><p>Current channel state</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>channelID</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>



            
            </td>

            

            

            <td class="description last"><p>Channel to delete</p></td>
        </tr>

    
    </tbody>
</table>
















<h5 class="h5-returns">Returns:</h5>

        
<div class="param-desc">
    <p>Simulated state or null if channel not found</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Object</span>
|

<span class="param-type">null</span>



    </dd>
</dl>

    



        
            

    

    <h4 class="name" id=".simulateChannelGroupChange"><span class="type-signature type-signature-static">(static) </span>simulateChannelGroupChange<span class="signature">(currentState, channelID, newGroup)</span><span class="type-signature"> &rarr; {Object|null}</span></h4>

    




<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li><p>Simulate a group change without committing it
Returns a cloned state with the channel moved to a new group</p></li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>













    <h5 class="h5-parameters">Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>currentState</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>



            
            </td>

            

            

            <td class="description last"><p>Current channel state</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>channelID</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>



            
            </td>

            

            

            <td class="description last"><p>Channel to move</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>newGroup</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>



            
            </td>

            

            

            <td class="description last"><p>Target group ID</p></td>
        </tr>

    
    </tbody>
</table>
















<h5 class="h5-returns">Returns:</h5>

        
<div class="param-desc">
    <p>Simulated state or null if channel not found</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Object</span>
|

<span class="param-type">null</span>



    </dd>
</dl>

    



        
            

    

    <h4 class="name" id=".updateAllChartAxisColors"><span class="type-signature type-signature-static">(static) </span>updateAllChartAxisColors<span class="signature">(chartsArray)</span><span class="type-signature"></span></h4>

    




<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li><p>Update all chart colors when theme changes
Redraws charts to re-evaluate axis color functions from CSS variables</p></li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>













    <h5 class="h5-parameters">Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>chartsArray</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array</span>



            
            </td>

            

            

            <td class="description last"><p>Array of uPlot chart instances</p></td>
        </tr>

    
    </tbody>
</table>



















        
            

    

    <h4 class="name" id="~createChartOptions"><span class="type-signature type-signature-inner">(inner) </span>createChartOptions<span class="signature">(config)</span><span class="type-signature"> &rarr; {Object}</span></h4>

    




<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li><p>Generate complete uPlot chart options configuration.</p>
<p>Factory function that builds a comprehensive uPlot options object from
configuration parameters. Supports single and multiple Y-axis layouts,
auto-scaling with SI prefixes, synchronized cursors, and plugin support.</p>
<p>Key responsibilities:</p>
<ol>
<li>Resolve scales and axis configuration</li>
<li>Build series array with line colors and scales</li>
<li>Configure X and Y axes with proper labeling</li>
<li>Set up synchronized cursor and selection</li>
<li>Attach plugins (auto-scale, zoom/pan, vertical lines)</li>
<li>Return fully configured uPlot options</li>
</ol></li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>











    <h5 class="h5-examples">Examples</h5>
    
    <pre class="prettyprint"><code>// Single Y-axis for analog channels (grouped by phase)const analogOpts = createChartOptions({  title: "Three-Phase Current",  yLabels: ["Phase A Current", "Phase B Current", "Phase C Current"],  lineColors: ["#FF5733", "#33FF57", "#3357FF"],  verticalLinesX: verticalLinesArray,  xLabel: "Time",  xUnit: "seconds",  getCharts: () => charts,  yUnits: ["A", "A", "A"],  axesScales: [1000, 500],  // x: 1000, y: 500  singleYAxis: true,  autoScaleUnit: { x: true, y: true }});</code></pre>

    <pre class="prettyprint"><code>// Multiple Y-axes for mixed unitsconst mixedOpts = createChartOptions({  title: "Voltage and Current",  yLabels: ["Voltage", "Current", "Temperature"],  lineColors: ["#FF0000", "#00FF00", "#0000FF"],  verticalLinesX: [],  yUnits: ["V", "A", "C"],  axesScales: [1000, 1000, 1000, 100],  // x, y0, y1, y2 scales  scales: { x: { auto: true }, y0: { auto: true }, y1: { auto: true }, y2: { auto: true } },  singleYAxis: false,  autoScaleUnit: { x: false, y: false }});</code></pre>

    <pre class="prettyprint"><code>// Digital channels with fixed scaleconst digitalOpts = createChartOptions({  title: "Digital States",  yLabels: ["State 0", "State 1", "State 2"],  lineColors: ["#FFAA00", "#00AAFF", "#FF00AA"],  scales: { x: { auto: true }, y: { min: -0.5, max: 8, auto: false } },  singleYAxis: true,  autoScaleUnit: { x: true, y: false }});</code></pre>




    <h5 class="h5-parameters">Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>config</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>



            
            </td>

            

            

            <td class="description last"><p>Configuration object</p>
                <h6>Properties</h6>
                

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        
        <th>Default</th>
        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>title</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>



            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last"><p>Chart title displayed at top</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>yLabels</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array.&lt;string></span>



            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last"><p>Y-axis labels for each series</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>lineColors</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array.&lt;string></span>



            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last"><p>Stroke colors for each series (cycles if fewer than series)</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>verticalLinesX</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array.&lt;number></span>
|

<span class="param-type">Object</span>



            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last"><p>Vertical line positions array (or createState)</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>xLabel</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>



            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    <code>""</code>
                
                </td>
            

            <td class="description last"><p>X-axis label</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>xUnit</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>



            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    <code>"sec"</code>
                
                </td>
            

            <td class="description last"><p>X-axis unit</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>width</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>



            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    <code>400</code>
                
                </td>
            

            <td class="description last"><p>Chart width in pixels</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>height</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>



            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    <code>200</code>
                
                </td>
            

            <td class="description last"><p>Chart height in pixels</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>getCharts</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>



            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last"><p>Getter function returning all chart instances</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>yUnits</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array.&lt;string></span>



            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    <code>[]</code>
                
                </td>
            

            <td class="description last"><p>Y-axis units for each series</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>axesScales</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array.&lt;number></span>



            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    <code>[]</code>
                
                </td>
            

            <td class="description last"><p>Scale factors [xScale, y0Scale, y1Scale, ...]</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>scales</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>



            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    <code>{}</code>
                
                </td>
            

            <td class="description last"><p>uPlot scales object: { x: {...}, y: {...}, y0: {...}, ... }</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>select</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>



            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    <code>{show: true}</code>
                
                </td>
            

            <td class="description last"><p>Selection tool configuration</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>singleYAxis</code></td>
            

            <td class="type">
            
                
<span class="param-type">boolean</span>



            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    <code>true</code>
                
                </td>
            

            <td class="description last"><p>True for single Y-axis, false for multi</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>autoScaleUnit</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>



            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    <code>{x: true, y: true}</code>
                
                </td>
            

            <td class="description last"><p>Auto-scale SI prefix formatting</p></td>
        </tr>

    
    </tbody>
</table>

            </td>
        </tr>

    
    </tbody>
</table>
















<h5 class="h5-returns">Returns:</h5>

        
<div class="param-desc">
    <p>Complete uPlot options object with:</p>
<ul>
<li>@property {string} title</li>
<li>@property {number} width, height</li>
<li>@property {Object} scales - uPlot scale configuration</li>
<li>@property {Array} series - Series definitions with labels and colors</li>
<li>@property {Array} axes - X and Y axis configurations</li>
<li>@property {Object} cursor - Synchronized crosshair configuration</li>
<li>@property {Array} plugins - [autoUnitScale, horizontalZoomPan, verticalLine]</li>
<li>@property {Object} legend - { show: false }</li>
</ul>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Object</span>



    </dd>
</dl>

    



        
            

    

    <h4 class="name" id="~subscribeChartUpdates"><span class="type-signature type-signature-inner">(inner) </span>subscribeChartUpdates<span class="signature">(channelState, dataState, charts, chartsContainer, verticalLinesX, cfg<span class="signature-attributes">opt</span>, data<span class="signature-attributes">opt</span>, createState<span class="signature-attributes">opt</span>, calculateDeltas<span class="signature-attributes">opt</span>, TIME_UNIT<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {void}</span></h4>

    




<dl class="details">
    
    <dt class="tag-description">Description:</dt>
    <dd class="tag-description"><ul class="dummy"><li><p>Subscribe chart manager to reactive state changes.</p>
<p>Establishes bidirectional reactive binding between channelState/dataState and
uPlot chart instances. Automatically updates charts when state mutates.</p>
<p>Update Strategy:</p>
<ul>
<li>Check if change is structural (groups/units/order) -&gt; full rebuild</li>
<li>Check if change is cosmetic (colors/labels) -&gt; in-place update</li>
<li>Check if data changed -&gt; full rebuild</li>
<li>Check if vertical lines changed -&gt; overlay update only</li>
</ul>
<p>In-place Updates (Performance-Critical):</p>
<ul>
<li>Series colors: Sets <code>chart.series[i].stroke</code></li>
<li>Series labels: Sets <code>chart.series[i].label</code></li>
<li>Both trigger via <code>chart.setSize()</code> to refresh</li>
</ul>
<p>Full Rebuild Operations:</p>
<ul>
<li>Adds/removes channels</li>
<li>Changes grouping strategy</li>
<li>Modifies units or scales</li>
<li>Data array dimensions change</li>
<li>Inverts series amplitude</li>
</ul>
<p>subscribeChartUpdates(channelState, dataState, charts, chartsContainer, verticalLinesX)</p>
<p>Subscribes the chart manager to reactive state and maps channel-level
messages to uPlot updates. This function is the central bridge between the
<code>channelState</code> (mutations produced by Tabulator via the parent message
handler) and the uPlot instances that render the data.</p>
<p>Key responsibilities:</p>
<ul>
<li>Maintain in-place updates for cheap operations (color, label) when possible.</li>
<li>Recreate charts on structural changes (channel add/remove, grouping, axes).</li>
<li>Apply x-axis windows when <code>start</code>/<code>duration</code> are provided and a time array
is available in <code>dataState</code>.</li>
<li>Handle <code>invert</code> toggles: attempt an in-place amplitude inversion on the
affected series (works for series-only arrays as well as the uPlot-style
<code>[time, ...series]</code> shape); fallback to recreate if unsafe.</li>
</ul></li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>











    <h5 class="h5-examples">Examples</h5>
    
    <pre class="prettyprint"><code>// Basic subscription after chart creationsubscribeChartUpdates(  channelState,  dataState,  charts,  document.getElementById('charts-container'),  verticalLinesX);</code></pre>

    <pre class="prettyprint"><code>// State mutation triggering automatic color update// Before: channelState.analog.lineColors = ['#FF0000', '#00FF00', '#0000FF']channelState.analog.lineColors[0] = '#FF1111';  // Slight color shift// After: All analog charts automatically update (in-place, no rebuild)</code></pre>

    <pre class="prettyprint"><code>// Structural change triggering full rebuild// Before: 3 analog channels displayedchannelState.analog.yLabels.splice(1, 1);      // Remove middle channelchannelState.analog.lineColors.splice(1, 1);// After: Charts fully rebuilt with 2 channels, vertical lines refreshed</code></pre>

    <pre class="prettyprint"><code>// Amplitude inversion (in-place if possible)// Before: channelState.analog.inverts = [false, false, false]channelState.analog.inverts[0] = true;         // Invert first channel// After: First series amplitude inverted in-place</code></pre>




    <h5 class="h5-parameters">Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>channelState</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>



            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last"><p>Reactive channel metadata store. Expected shape:
{ analog: { yLabels: string[], lineColors: string[], channelIDs: string[], inverts: boolean[], groups: number[], units: string[], ... },
digital: { yLabels: string[], lineColors: string[], ... } }</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>dataState</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>



            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last"><p>Reactive data arrays. Each type (<code>analog</code>/<code>digital</code>)
normally follows uPlot's shape: either <code>[timeArray, series0, series1, ...]</code>
or (in some legacy flows) series-only arrays. The manager detects the
presence of a leading time array before acting on <code>start</code>/<code>duration</code>.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>charts</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array.&lt;uPlot></span>



            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last"><p>Array of uPlot chart instances matching types [analog, digital].
Each chart is expected to expose a <code>_channelIndices</code> array mapping chart-series
positions (0-based) -&gt; global channel indices in <code>channelState</code>.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>chartsContainer</code></td>
            

            <td class="type">
            
                
<span class="param-type">HTMLElement</span>



            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last"><p>Parent DOM container for charts.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>verticalLinesX</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>



            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last"><p>Reactive state holding vertical-line positions.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>cfg</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>



            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>Optional config passed through to renderers.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>data</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>



            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>Optional raw parsed data object.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>createState</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>



            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>Optional state factory passed to renderers.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>calculateDeltas</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>



            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>Optional helper for delta calculations.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>TIME_UNIT</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>



            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>Optional time unit string used by renderers.</p></td>
        </tr>

    
    </tbody>
</table>
















<h5 class="h5-returns">Returns:</h5>

        


<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">void</span>



    </dd>
</dl>

    



        
    

    

    
</article>

</section>




    
    
</div>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 4.0.5</a> using the <a href="https://github.com/clenemt/docdash">docdash</a> theme.
</footer>

<script>prettyPrint();</script>
<script src="scripts/polyfill.js"></script>
<script src="scripts/linenumber.js"></script>

<script src="scripts/search.js" defer></script>


<script src="scripts/collapse.js" defer></script>


</body>
</html>